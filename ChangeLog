commit 4ae724fe1d2ca0d712321c4fdc2200ff46d77428
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Jan 18 23:54:36 2011 -0700

    we need an install target to prevent parent dir make from failing

commit ca7b549fbf62019b01a6e6c85da50645ea9a4502
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Jan 18 23:48:08 2011 -0700

    update changelogs for Debian build

commit 9a5666f42d4d90a0a488fd0a85ae9914944fe0be
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jan 18 22:46:25 2011 -0800

    doc: Build with 'make all' from top level. Build with 'make fat'
    
    This will make sure the docs are up-to-date for both regular and
    fat builds.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 72a04d679d06aaad9c2b4297fefd585fc393ce2e
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jan 18 22:39:07 2011 -0800

    fat: Add docs to Linux package
    
    Oops. Missed this one.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5d91c250179f44ca17c26fff36718b7026aa8ee0
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jan 18 22:34:15 2011 -0800

    fat: Add firmware for v1.1 and docs to mac/windows/linux installers
    
    We'll need to be sure to update this each time we add a product.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 26c4cc3054b1c7c9ed6ce3c2f21f6254b3245718
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Jan 18 23:29:03 2011 -0700

    freshen copyright year

commit e2e20f6ce8a9c2bca36fde5730ccd7151377ec6f
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Jan 18 23:18:42 2011 -0700

    add 0.9 revision entry, with caveat about telemetry format change

commit 27e6dbbe95ae9b361d60576e0cbadb66792307f3
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jan 18 20:39:58 2011 -0800

    doc: Add v0.9 features from altosui to documentation.
    
    New flight download UI and new config items.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 92d7841edcfc8a841f71f7f97cc541f8e55c4627
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jan 18 20:39:30 2011 -0800

    doc: Don't delete telemetrum-outline.pdf
    
    This has a drilling template for the board.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c411dce69be58238b8312c2fd7405cbe8b5d4a5a
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Jan 18 17:27:11 2011 -0700

    update changelogs for Debian build

commit da42f406e88ccc821cd45d5a94d5afec65ec50e9
Merge: ea4cdfb cf550f9
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Jan 17 09:50:17 2011 -0700

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit ea4cdfb87e03ecfb974f98305671265b6fb95372
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Jan 17 09:49:45 2011 -0700

    update documentation to reflect reality that modifying a board or separate
    pyro battery is not as simple as one trace cut on v1.0 and v1.1 boards

commit cf550f9b96fa94d8db559e01df0e265bb1c7b572
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jan 16 23:23:45 2011 -0800

    doc: Remove mention of ao_wake_task
    
    This has been removed from the altos sources, so remove it from the
    docs too.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4b71c4f4ed6cae23a7f4a2e7ae697da9ec614898
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 15 12:26:53 2011 -0800

    altos: Use 5V reference data to correct accelerometer measurements.
    
    When the 3.3V and 5V values shift relative to each other (usually due
    to changes in power consumption), the measured acceleration will
    appear to shift. This patch converts the 3.3V referenced acceleration
    value into a 5V referenced acceleration, eliminating this error.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2887fe7affc0706dbeb2f04df9a00a9b799903ed
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 15 12:25:57 2011 -0800

    altos: Optimize fetching of ADC data in flight code
    
    This stores the address of the desired sample in a local variable and
    then fetches through that. Saves quite a few instructions.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2681a17500913cbaf3966f09380bb1d6b59e3863
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 15 12:18:32 2011 -0800

    altos: Sample the accelerometer reference voltage on v1.1 boards
    
    This places the 5v reference samples in an array parallel to the basic
    ADC values. It doesn't do anything with the values, just stores them.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 69290588980bb15732a99eca5c911a3b6e9a37b9
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 15 12:12:02 2011 -0800

    altos: Ensure flight code gets first crack at new ADC data
    
    Instead of having everyone wait on the raw ADC ring, have the flight
    code wait on that and have everyone else wait for the flight code to
    finish looking at the data and move its pointer forwards.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1b8d7313504240ed04e0747e9b0f6e9a83d323e2
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jan 16 15:57:15 2011 -0800

    altos: Auto-calibrate linux-based flight testing code
    
    Use the provided ground acceleration average to set the two
    accelerometer calibration values so that the flight code will
    detect pad/idle mode correctly.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit afd3d3cdb8c2291c1c7cda7908392d68cd04f87f
Author: Mike Beattie <mike@ethernal.org>
Date:   Mon Jan 17 15:03:40 2011 +1300

    Rework invalid accel cal detection code
    
    Slightly reduces code space.
    
    Uncalibrated accelerometer now enters invalid state as well.
    
    Signed-off-by: Mike Beattie <mike@ethernal.org>

commit 3566dee1cf83870396a0bb164f5549dd3faf58f5
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jan 16 14:40:31 2011 -0800

    altosui: Remove spurious colons from eeprom selection headers
    
    This colons make the presentation a bit confusing.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ab31b1c737d8fd32af482e5b06699f1b832a25a1
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 15 00:56:22 2011 -0800

    altos: Add DATA_TO_XDATA to linux test harness
    
    The flight test harness needs to expose every function used by the
    flight code in some form, and this macro is about to become used.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit add2802a8a33336180fe6856241a7f4a8200e89c
Author: Mike Beattie <mike@ethernal.org>
Date:   Sun Jan 16 00:10:30 2011 +1300

    altos: Added check for out of bounds accel
    
    Chose invalid flight mode instead of idle to give user feedback.
    
    Signed-off-by: Mike Beattie <mike@ethernal.org>

commit 58838c0b96a91da0bd0cd77c3ff312b589c08136
Author: Mike Beattie <mike@ethernal.org>
Date:   Sat Jan 15 23:21:26 2011 +1300

    altos: Added check for an accel value above 1.5g
    
    When detecting flight or idle mode, this should indicate
    that accel cal values are out of whack.
    
    Signed-off-by: Mike Beattie <mike@ethernal.org>

commit 118fe84c9ff1cc9d1653e67a2315e22e19d60a14
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 15 11:26:31 2011 -0800

    altos: average 512 accel/baro samples at startup instead of 1000
    
    This lets us use a simple shift instead of a divide, saving a huge
    amount of code space.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8a775b8f9ecefa143050653d74dfd218b32b9bb5
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Jan 16 10:54:45 2011 +1000

    altos: Restructure skytraq NMEA parsing code to save some space
    
    Splitting this into several smaller functions appears to make SDCC
    generate better code.

commit 7a35b2d7048669a96256d4ea0086299f8a0cb1df
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 15 22:42:38 2011 -0800

    altos: Flush log when full
    
    When the log storage is full, make sure any pending writes are flushed
    out so that the last bit isn't lost.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 47ee4597e55749e8f66f61a585ea32776979bf80
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 15 16:25:10 2011 -0800

    altos: TELEMETRY PROTOCOL CHANGE. Switch to 16-bit serial numbers.
    
    What a terrible mistake! The flight computer serial numbers were
    recorded in only 8 bits, so serial numbers > 255 would get truncated.
    
    There's really no fix other than bumping the field to 16 bits and
    reflashing every TM and TD on the planet. Very unfortunate.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b22ba359a02297e39a446cbd5ef51e63b795624a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 15 12:05:50 2011 -0800

    doc: inkscape tracks the filename inside the document
    
    telemetrum-outline.svg was renamed from telemetrum.svg and inkscape
    appears to care.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d0a841b285fb398f0be72183ec3c9d1e358419a9
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 15 12:02:43 2011 -0800

    altosui: Require 4 sats to light up the 'GPS locked' light.
    
    This tracks the same GPS signal requirement needed for 'GPS ready' and
    ensures that we have a 3d fix.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1bfdce6fc3367fdf03e0dc7ddd94da18723b8ba3
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jan 16 14:30:38 2011 -0800

    altosui: Ensure serial device is closed after eeprom download finishes
    
    As this code is all event-driven, track which events will trigger
    further work and block closing the device in those specific cases,
    ensuring that all other code paths end up closing the device.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 987039b8f0b1d889aca9109d4c6a83f034ff64a7
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jan 16 14:29:57 2011 -0800

    altosui: Remove debug message when eeprom downloads are complete.
    
    This message isn't useful now that this code appears to work.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fb534aae15f0f1e5d69790e159d0287b6b8a514a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jan 16 14:28:35 2011 -0800

    altosui: Use long input flush timeout when remote.
    
    100ms isn't long enough to capture pending remote serial input, so use
    300 ms in that mode.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d4add23186b3586c99579d83efdc003f79e9bf7a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jan 16 14:26:18 2011 -0800

    altosui: Make serial debug more complete and accurate
    
    Display all serial input, including telemetry.
    Wait to display serial output until flush time, to debug missing flushing.
    Show when devices are opened and closed.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit deb3c7b9206be0c9c46f75d35c8f766c26d9838f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 15 22:43:37 2011 -0800

    altosui: Reset eeprom download instance variables before reading flight
    
    To deal with downloading multiple flights in a single invocation, make
    sure all relevant instance variables are set back to start of flight
    download values each time a log is read.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit eec9eb2e81535e62c52fbb2e57a2d33f88f92c1a
Author: Mike Beattie <mike@ethernal.org>
Date:   Mon Jan 17 07:56:53 2011 +1300

    Close serial port if Download/Delete dialog is cancelled.
    
    Signed-off-by: Mike Beattie <mike@ethernal.org>

commit df1c6ab3ac079199b5a12328c9ff5cfa6ac29b36
Author: Mike Beattie <mike@ethernal.org>
Date:   Mon Jan 17 00:40:07 2011 +1300

    Convert EepromSelect dialog to use a GridBag
    
    Signed-off-by: Mike Beattie <mike@ethernal.org>

commit fef302656f21ae0ab4772f72979cbb7f071da89a
Author: Mike Beattie <mike@ethernal.org>
Date:   Sun Jan 16 20:25:19 2011 +1300

    Re-order and re-arrange eeprom download dialog
    
    Signed-off-by: Mike Beattie <mike@ethernal.org>

commit 35adb7c98fe02e84fff70c1bee22bfa019cfacc2
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 14 21:44:59 2011 -0800

    doc: Add telemetrum mounting template in svg and pdf forms
    
    telemetrum-outline.svg and telemetrum-outline.pdf
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fdba0f24afd59becc499d750bbdb80aea86066ac
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Jan 14 18:01:16 2011 -0700

    update changelogs for Debian build

commit 646e1926cdf56e2cf2425413ce716e6999b64a58
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Jan 14 18:01:00 2011 -0700

    update changelogs for Debian build

commit d908c2ebd0b11a54cfd922a192249d0f0df0ddb0
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 14 16:47:36 2011 -0800

    altosui: Add preference for serial debugging.
    
    This dumps serial input/output to stdout.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fcaee12a64d5e195b55b8f77c19dfc0c57ef5d58
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 14 16:47:19 2011 -0800

    altosui: Ensure serial line is flushed after disabling remote link
    
    Flush the '~' character.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2d154be89246e111a36f7c2700effbb2c97da541
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 14 16:44:50 2011 -0800

    altosui: Show dialog after successful delete or when no flights
    
    Make sure the user always sees confirmation for flight log management.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b490455807d1c70c81785ed8931a07ab44e8e421
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Jan 14 14:31:19 2011 -0700

    update changelogs for Debian build

commit 97b1ca994599ad262400eb3c685799582f7f1b94
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Jan 14 14:30:49 2011 -0700

    update changelogs for Debian build

commit d794ef9e0fbe4d13259db1bbd69f01717c14400b
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jan 12 12:41:26 2011 -0800

    altos: check for valid flight number in ao_log_delete
    
    Zero is not a valid flight number, and ao_log_flight uses that to
    indicate 'no flight in this slot'. Check the user-provided input for
    zero before looking through the slots.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8801b8c1947bd39f7c985b91a2ba8dbc81bcc91a
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jan 12 12:40:45 2011 -0800

    altosui: Add eeprom 'manage' ui to download and delete multiple flights
    
    This shows the list of available flights and provides options to
    download and/or delete each one.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 440d52e34364fdeeddc76a2d744cc6d1c934364f
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jan 11 21:28:07 2011 -0800

    altosui: Add support for parsing list of flights from the 'l' command
    
    This adds parsing support to enumerate the available flights, but does
    not yet provide any UI to use it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7ad419d81c90ef6a16656970466313767fef830f
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jan 11 21:26:41 2011 -0800

    altos: oops -- 'e' command was only showing 7 of the 8 bytes per line
    
    Just a silly off-by-one error when printing out the data received from flash.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bd2480fd757b67557d9c7de42e402034002c3e37
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jan 11 15:39:24 2011 -0800

    altosui: Split eeprom download code apart
    
    Create separate 'download config data', 'read single record' and 'read
    block' functions. This code will be shared with future multi-log
    reading code for new firmware.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c437b14b7fc7afdfc7b809a04d7fa29d5e742307
Author: Anthony Towns <aj@erisian.com.au>
Date:   Fri Jan 7 21:00:10 2011 -0800

    altos: Remove redundant initialization of ao_interval variables
    
    These are all initialized in the ao_flight_drogue state transition.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 57de960b8148bf485607898c3d66af6994d76481
Author: Anthony Towns <aj@erisian.com.au>
Date:   Fri Jan 7 20:52:33 2011 -0800

    altos: Remove unused accel_vel_mach and accel_vel_boost variables
    
    Presumably left-over debugging code.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ca66f86a899c191b6362a334417fc84a79349677
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 7 20:46:29 2011 -0800

    altosui: Add configuration of flight log size
    
    This adds to the TeleMetrum configuration UI the ability to set the
    maximum flight log size.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 52ac83fedbfd380d14d4df2e79992bbdfba3552a
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 7 20:26:39 2011 -0800

    altos: Check for full log and complain
    
    Reports special tone along with the continuity checks.
    Reports flight 0 in telemetry.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 00891b40754962ef6530b237ef52017bb58112d5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 7 20:25:09 2011 -0800

    altos: Check requested log max size against available space
    
    Make sure the amount of memory requested for a single log isn't more
    than is available on the device.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bbddcae2a15b6d430e84956ddf26955aa9173cc0
Author: Anthony Towns <aj@erisian.com.au>
Date:   Fri Jan 7 20:18:25 2011 -0800

    altos: Optimize Morse code generation
    
    This reduces the size of data and code needed to report the
    flight states
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 73620c41017c1774d6190dfd4be5b742eb64f8d3
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 7 20:13:28 2011 -0800

    altos: ensure erase mark is written when erasing flights
    
    It was getting called only when *failing* to erase a flight (oops),
    secondly, it wasn't getting written because ao_storage_flush wasn't
    getting called.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit edd22ee49adf60c35f2fe6ba97c111b7ad4131c2
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 7 17:56:06 2011 -0800

    altos: report flight log offsets in hex block numbers instead of bytes
    
    makes them compatible with the 'e' command.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1cc08af4f4a1ff61fc0deca3bdd95e8a5ca8ec5c
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 7 17:55:54 2011 -0800

    altos: white space fix
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d8c9684239b67a69a4a3d24202a6df0d73c4f7f5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 7 17:54:54 2011 -0800

    altos: Speed up at45 and 25lc erase speeds
    
    No need to read the block to be erased before erasing it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2722703bd848b07a02d3ce0c83a502eca52a9f1d
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 7 14:58:39 2011 -0800

    altos: support storage of multiple flights.
    
    This adds the logging support for dealing with multiple flights
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a9b210bc33cd95e7108ab51925fdf0d5e8deaf7e
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 7 10:05:11 2011 -0800

    altos: Add configuration parameter for maximum flight log size
    
    This parameter will permit available storage to be split into multiple
    separate flight logs.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3bcf14f12f6681888c3162d0f33ef2d454eb75dd
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Jan 7 00:52:50 2011 -0700

    update changelogs for Debian build

commit 408a3e04362d626778640dd0ce7d356d3863de53
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 6 23:38:13 2011 -0800

    altos: Mark end of available flight list with 'done' to make the UI
    code easier to write
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e991f52276248fa08d96fbecc458bc478e98d299
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 6 23:35:31 2011 -0800

    altos: Rip out 'optimization' in ao_log_scan
    
    Remove premature optimization to avoid re-scanning the flight logs for
    the best empty entry.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 569a1dac55b70c30f01afa7bcb74442ecdd85d85
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 6 22:37:38 2011 -0800

    altos: Move common storage code to ao_storage.c. Add M25P80 driver
    
    This reworks the storage API so that you erase blocks and then store
    data to them so that the M25P80 driver will work.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e4ba9bf4291bf17c777c8c3ef7c71e4a30b9947a
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 6 17:34:58 2011 -0800

    altos: Require manual flight erasing.
    
    This supports flash chips that require larger erase blocks.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ddcc94da4326f9ce954bd31a46b36165c58e6c18
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 6 12:51:39 2011 -0800

    altos: Simplify storage API
    
    This removes the config-specific APIs and exposes global variables for
    the available storage space, block size and config storage location.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f3f1b1488bdc92fa9277dc549ba9f3210a8d4c8c
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 6 11:28:35 2011 -0800

    altos: packet and usb i/o routines use 'char', not 'uint8_t'
    
    Just fixing the type of a local variable holding a character
    passed from the packet link to usb.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5688af4e4d7ca8e559d758257e79b7979f1cc924
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 22 21:13:56 2010 -0800

    altos: Add telemetrum-v1.1 directory
    
    This just clones the v1.0 build; changes will be added on top of this.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9f7296b3feab872bf51fc369ade69cc1e7cf7a3f
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 22 21:06:22 2010 -0800

    altos: Split out SPI driver.
    
    For TM with the companion connector, the SPI bus will be shared among
    multiple devices. Split out the existing SPI code into a common
    driver, with the SPI bus protected by a mutex.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 51c410c1c952e0e9bcf1b2c438813de63753be5f
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 28 00:24:54 2010 -0800

    windows: Update NSIS installer file to use compatibility IDs
    
    This allows the file to contain a single InitDriverSetup function,
    making things shorter and (I hope) clearer.

commit 4a42f9d5c20dcaf5fd7591ccf9e32c6130d9d538
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 28 00:22:14 2010 -0800

    windows: Add compatibility IDs to telemetrum.inf
    
    This will allow the .nsi file to reference just the compatibility ID
    instead of needing to have all of the USB IDs listed.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 484b44e81b655f1ecb48256095382a56d2839bae
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 26 17:39:40 2010 -0800

    altos: eliminate ao_wake_task
    
    Waking up a task waiting on some random object is a bad idea. Fix
    the waiters to look for suitable signalling.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 07213dc34fa20470a4b36a327a83d75b0f010ebb
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 26 16:14:15 2010 -0800

    altos: clean up radio abort paths. Share radio code.
    
    Instead of aborting the DMA and radio operation and expecting that to
    be handled reasonably by the radio receiving task, rewrite things so
    that the abort function just wakes the receiving task while that
    terminates the DMA and cleans up the radio.
    
    This eliminates all kinds of nasty bugs dealing with radio abort
    smashing the radio registers at the wrong time, or interrupting a
    radio transmission.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b62580855c5144f5bc7e0172289bce08814d9472
Author: Anthony Towns <aj@erisian.com.au>
Date:   Tue Dec 14 03:40:18 2010 +1000

    altosui: move maps to subdir, fix E/W mismatch

commit b8d2eb5509096fd5bd04598b1312077659109620
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Dec 1 00:15:17 2010 -0700

    update changelogs for Debian build

commit ea95c060f8bd959cefc60dd6d411151f3c91384e
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Dec 1 00:12:05 2010 -0700

    fix symlink paths in rules file

commit f95220b6f0cc74928e0e7d7c7e1f443eafc32a02
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Dec 1 00:03:23 2010 -0700

    update changelogs for Debian build

commit ea7130e953622884afc348265f5a4c58f9876823
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Dec 1 00:00:58 2010 -0700

    modify Debian package build to deliver one copy of background.png for
    the themes and symlink it into place for gdm and slim

commit 3696b30a8d1eb351353d84b5f7af8eeff55c468b
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Nov 29 21:47:13 2010 -0700

    update changelogs for Debian build

commit 11b3f9ff715017a2dec02003275885334f22c009
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Nov 29 21:46:02 2010 -0700

    releasing 0.8.1

commit 5f3f11e11dff9b9f4d1dde279c0d474de0de12a5
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 29 20:41:49 2010 -0800

    Add minimal release testing plan to Releasing
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f0a4deee23984a8f779917bbeaf74a66a0abf592
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 29 20:34:27 2010 -0800

    Move "Releasing" to top level
    
    This file documents the AltOS release process for all systems.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b727156ef0a7fb6e442ca28be27eb344a213ecf8
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 29 20:17:35 2010 -0800

    windows: Add jfreechart.jar and jcommon.jar to windows install image
    
    These are necessary for the Graph Data button to do anything useful.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3e2220a180f95971d222a597d2057ca328c27356
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Nov 29 21:29:14 2010 -0700

    adding Bdale's release process document to the source tree

commit 61a924099800494b589cbbb87c65b552ccbd8394
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Nov 29 14:40:27 2010 -0700

    fix an Altos vs Altus typo in the docs

commit e840b6594b8a939f148fa7231e1b06a280d94074
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Nov 28 22:42:43 2010 -0700

    fix section layering

commit f39698bbc12afdfadfac56c90030e16db93cf4fc
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Nov 28 19:46:03 2010 -0700

    fix publish target in doc/Makefile

commit 13cea7a96821165a10a8b2433af1da7508882b0a
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Nov 28 18:48:31 2010 -0700

    moved doc dir in web content to AltOS tree

commit 6f3c72462af86a7d9dec20f4c813a524a5be9fbb
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Nov 28 18:32:17 2010 -0700

    update changelogs for Debian build

commit a375942979dbcd8239d8c0addb10616e6048f6ea
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Nov 28 18:31:26 2010 -0700

    rewind changelog to recover from stupid build failure

commit 263cf6c4fc5c1a240d719bb0ceb33393864fb3d6
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Nov 28 18:24:00 2010 -0700

    update changelogs for Debian build

commit 2615289265b6f8fa08827be794b4eee569fc6333
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Nov 28 18:23:17 2010 -0700

    update changelogs for Debian build

commit 5e23bcc2d2ad33a839fedd2158213098a05cd9ae
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Nov 28 18:21:31 2010 -0700

    declaring 0.8 released

commit b09d3e11c32abd07f8e11b483ac4b57148f4f2d8
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 27 23:08:41 2010 -0800

    windows: Bump .inf file version

commit 42c2394ccc1a1ee6dc134ed963a4f79acf031d0b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 27 23:04:50 2010 -0800

    windows: more .inf file hacking
    
    Add a LayoutFile reference
    Add the FakeModemCopyFileSection
    
    Copy AltosMetrum.Install section to AltusMetrum.Install.NT section. I
    don't know what this might do; existing files seem inconsistent.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 26369a92398f4ebe3fcd54ce34cebffae0cfdf07
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 27 22:39:31 2010 -0800

    windows: remove some non-existent .inf file section references
    
    The mfglt and VerboseResultCodes sections are not present in the .inf
    file, so remove refernces to them.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 641c5373724d34c3adfcf42420a528d6bba736b9
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 27 22:35:18 2010 -0800

    windows: try harder to get windows install to work
    
    Add devIDs to .nsi file. Fix install section name mapping from the
    hot-plug info.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit cd414e2c04ce5ecbc75f19325a6d6f82cd489fb3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 27 16:30:29 2010 -0800

    altosui: Correct windows hardware IDs for nsis installer file
    
    Need real hardware IDs (encoded USB ids) to get windows to
    auto-install the driver?
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f834b22905db87557f729f942607dc363b013694
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Nov 25 22:31:33 2010 -0700

    update changelogs for Debian build

commit da3b39d6b1b5ba48686c2a4add4b5448fd5711af
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Nov 25 22:29:01 2010 -0700

    changed main document name from telemetrum-doc to altusmetrum

commit ab6c9c983a2830bc8807e1b75d2576141b73632d
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Nov 25 19:30:02 2010 -0700

    update fat target in Makefiles to reflect move of altosui and libaltos

commit b8f05cdc0e9b4a96852eed9d38ff6d5950e2d2ed
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 25 17:29:28 2010 -0800

    altosui: Clean up flash code to ensure swing gets called from right thread
    
    This moves all of the flash code to a separate thread and passes
    messages back to the swing thread to keep the UI up to date.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit adbb14c63d85b7a54223f88ac623571456f4a462
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 25 16:28:04 2010 -0800

    altosui: Remove gratuitous threading from device flashing UI
    
    There's no need for a thread here, and swing doesn't want us to use
    one anyways.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7f88520089660845009148b69bfcea6c9dff9672
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 25 16:23:18 2010 -0800

    altosui: Flight data download GUI operations called only from main thread
    
    Swing doesn't like UI functions being called from non-dispatch thread,
    so fix up the eeprom download code to use SwingUtilities.invokeLater
    to make sure this works right.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6d3612e267cd4c1e7fdd74fc33952b3f26f870f5
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 25 16:09:37 2010 -0800

    altosui: Eliminate unnecessary thread from config UI
    
    There's no reason to use a thread to run a dialog box, and
    swing doesn't like threads anyways.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 12fb7f0e70cd244475d84469f93283112478d1e1
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 25 15:56:42 2010 -0800

    altosui: Only call swing display functions from main thread.
    
    Swing insists that all display functions be called from a single
    thread, and the flight window wasn't following this for display
    updates. Use SwingUtilities.invokeLater to make sure the flight UI
    updates happen in the right context.
    
    Fixes a UI freeze on Mac OS.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b74cec6cd0bc043f53e9e28472765aa343136813
Author: Bob Finch <w9ya@qrparci.net>
Date:   Thu Nov 25 13:30:48 2010 -0700

    Updated AltOS PKGBUILD to track makefile changes

commit f88bde21d76a4ff91099a5051153ebace1619978
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 25 11:16:55 2010 -0800

    altosui: Hack up standalone makefile to maybe build altosui again
    
    This isn't tested, but at least the paths are more likely to be correct
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3d98440d53378aaa6da87ed65e9abb2f96f7ee49
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 25 11:16:28 2010 -0800

    altosui: Make windows bits build after moving altosui directory
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4893ed50bc14772986ac02f9b39928f1882da923
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 24 23:54:08 2010 -0800

    Revert "altos: Don't abort radio transmissions with ao_radio_abort"
    
    This reverts commit 54468e5dc567aaac5c5c20e921859b7cec28bb88.
    
    With this patch in place, TD could not be placed in 'packet' mode.

commit cb08bc264c71ca972027392b42f347a03df76a43
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 24 22:55:08 2010 -0800

    doc: Rename telemetrum-doc as altusmetrum
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 554bdd25e132dbaec322bc11f94093d2c2e78751
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 24 22:49:33 2010 -0800

    doc: Add more authors, fix URL formatting, note that AltosUI actually exists
    
    Add aj and bfinch as authors. Insert an acknowledgements section. Fill
    in the Fire Igniter section in the AltosUI chapter. Then change the
    section talking about the future plans for Java to mention that they
    actually exist now.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bcf78b67717374b5971820021b83061e2e9734cf
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 24 21:39:18 2010 -0800

    doc: Reformat altos to use sections for each function
    
    This places them in the TOC, making them easier to find.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 51c7741040d95c5deece939dae5e4136cc04afc4
Merge: d1dbe3b 4e47c44
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 24 21:00:52 2010 -0800

    Merge branch 'buttonbox'
    
    Conflicts:
    	doc/telemetrum-doc.xsl
    
    Pull the buttbox version of the docs in as it had been updated.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4e47c44d335276cf0dc5ed3a0756e50c98c1b9b9
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Nov 24 21:44:53 2010 -0700

    manually fold in documentation work from the master branch

commit 8a68c1da253c0b29a7cb9c7540c20585ad6e3dec
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Nov 24 21:21:53 2010 -0700

    tweak rev history

commit 7cd1c7765d137df711caeeb69abaaba1b36e0a65
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Nov 24 20:53:36 2010 -0700

    fix missing section close in Site Map content

commit db2b19b8f0d452d682d53c7ed0ff6e359b46efa0
Merge: b372f3c 915f881
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 24 18:57:35 2010 -0800

    Merge remote branch 'aj/buttonbox' into buttonbox

commit b372f3c0ee4ec49aabe61c169cb1eb9bb4fb2cfc
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 24 18:50:46 2010 -0800

    Missing change to top level Makefile to build altosui
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 915f881d61294dc6f5a6a3e8d75567e18492a631
Author: Anthony Towns <aj@erisian.com.au>
Date:   Thu Nov 25 09:52:30 2010 +1000

    doc: Document altosui "Site Map" tab

commit f01096c4b42f9a4720ed0414826c2a283a992545
Merge: 357826a 3fbefb3
Author: Anthony Towns <aj@erisian.com.au>
Date:   Thu Nov 25 09:10:50 2010 +1000

    Merge branch 'buttonbox' of git://git.gag.com/fw/altos into buttonbox

commit 3fbefb3eea981d34a09496cf8abf0119de2e35bf
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 24 14:57:57 2010 -0800

    Move altosui to the top level, placing libaltos inside it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 357826aa9c7b42c59f5d52b8eb016d73b6da0c7f
Author: Anthony Towns <aj@erisian.com.au>
Date:   Thu Nov 25 09:07:34 2010 +1000

    docs: Document altosui "Graph Data" button

commit 7811e6dfa6caf10251da7df7c24b98cdc3787892
Merge: 71b1949 7a50837
Author: Anthony Towns <aj@erisian.com.au>
Date:   Thu Nov 25 08:47:36 2010 +1000

    Merge branch 'buttonbox' of git://git.gag.com/fw/altos into buttonbox

commit 7a50837ea0d92db3f469f197ec8210aee22aa143
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 24 10:55:18 2010 -0800

    altosui: Make sure packet mode is turned off when the connection fails
    
    When the packet connection times out, turn packet mode off when
    closing the serial port.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7d90e2f6009e060fb59c519f7e564483a7ca6872
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 23 20:17:44 2010 -0800

    altosui: Let people fire igniters that don't read as 'ready'
    
    This provides for igniter testing with LEDs or other materials that
    don't look like regular igniters.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f3233985a132e1d660e6df12d0056b6729f16faf
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 23 19:09:31 2010 -0800

    altosui: Disable radio configation over packet link.
    
    Attempting to configure the radio over the packet link will only end
    up confusing the user, so disable it. This also works around a bug in
    older TM code which would lock up when trying to do this.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6cd9be22f06f21d12ee2f668989d83d3c61d14c0
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 23 19:08:07 2010 -0800

    altosui: New AltosSerial.set_radio function sets channel/call
    
    Use this anytime you need to set the device radio channel and call
    sign, either for telemetry reception or packet mode origination. This
    uses the saved callsign and per-device radio channel number. Do not
    use this when opening a telemetrum as there won't be a saved channel number.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ed7cf7d262fcf7c0c677c2fb981582b571de9e5e
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 23 19:04:55 2010 -0800

    altosui: Make AltosSerial.flush_input keep reading while non-empty
    
    Flushing the input buffer can take a while, especially over the packet
    link. Keep reading while stuff is appearing on the reply queue.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3b9db8c82d26a6a2e43d4ca40742fc1bdc502380
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 23 19:02:54 2010 -0800

    altos: Make radio test command careful with the radio mutex.
    
    Remember whether the radio test mode is on or off and don't try to do
    either of them twice to prevent the mutex from being acquired or
    released twice.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 54468e5dc567aaac5c5c20e921859b7cec28bb88
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 23 18:57:49 2010 -0800

    altos: Don't abort radio transmissions with ao_radio_abort
    
    We only want to abort pending radio reception to release the radio for
    other use, or to change the radio channel. Let radio transmission
    proceed. This fixes a problem with using packet mode to configure the
    radio channel; if the packet transmission is aborted, the TM ends up
    wedged.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d873dc28f0752aeb58a6263e42bdd5b9095bd392
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 23 18:56:46 2010 -0800

    altos: remove unused variable from ao_igniter
    
    The 'status' variable used to hold a reported status value from the
    igniter after firing, but we ignore that now.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 71b1949e50f4533bcf44537da65b19bc67863c8e
Merge: a79225c f1892b1
Author: Anthony Towns <aj@erisian.com.au>
Date:   Wed Nov 24 12:14:11 2010 +1000

    Merge branch 'buttonbox' of git://git.gag.com/fw/altos into buttonbox

commit f1892b137b1de3d6caf0293bd40ed5c3e4948066
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Nov 23 18:58:11 2010 -0700

    lose the placeholder on how GPS works, as it's going to be a
    while before I tackle that, if ever.

commit a79225c215f17fa5218ddd9db4fc3f5c563a9f74
Merge: 84cd5d4 853b711
Author: Anthony Towns <aj@erisian.com.au>
Date:   Wed Nov 24 11:55:14 2010 +1000

    Merge branch 'buttonbox' of git://git.gag.com/fw/altos into buttonbox

commit 853b7112e34212040c4cb7289f9cfdb2f3ea9f90
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Nov 23 18:53:18 2010 -0700

    merge Keith's AltosUI documention into "the big book"

commit 84cd5d42d8b5659463544fe2a400758b56478609
Author: Anthony Towns <aj@erisian.com.au>
Date:   Wed Nov 24 02:13:32 2010 +1000

    altosui: sitemap uses rocket gps if no pad gps

commit c7119c21baa9d4ca681975b8613ade6593f65577
Author: Anthony Towns <aj@erisian.com.au>
Date:   Wed Nov 24 02:11:36 2010 +1000

    altosui: don't switch away from user selected tab

commit ae55a107f12546dc65f04618c7abc17beb920d73
Merge: d1005f6 737f2fd
Author: Anthony Towns <aj@erisian.com.au>
Date:   Wed Nov 24 01:53:46 2010 +1000

    Merge branch 'buttonbox' of git://git.gag.com/fw/altos into buttonbox

commit 737f2fdd012202f453120ece117ae5e859b32082
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 22 22:26:19 2010 -0800

    doc: Add internal documentation for AltOS
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5523e7d55ecc8d310e495fa4f5115f7483c42d65
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Nov 22 21:07:10 2010 -0700

    add a rudimentary --help for command line use

commit d1005f68376d695039c314b8d7a68bbf9acbca4f
Merge: 9a83e0d 22c0978
Author: Anthony Towns <aj@erisian.com.au>
Date:   Tue Nov 23 10:14:55 2010 +1000

    Merge branch 'buttonbox' of git://git.gag.com/fw/altos into buttonbox

commit 22c09781af1df4b38562b577e9926c23e4a397f2
Merge: b27327a a79606a
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 22 16:02:22 2010 -0800

    Merge remote branch 'origin/buttonbox' into buttonbox

commit b27327a05d249eaf969b67d2a8d12fc6a93841f0
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 22 15:56:04 2010 -0800

    altos: assume igniter worked.
    
    Many igniters don't go open when fired, so there's no way
    to know if they worked. Assume they did as a failed igniter is
    unlikely to do anything when fired again anyways.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 68323cbb222f1f33198a42abaa0550af22f75a93
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 22 15:53:27 2010 -0800

    altosui: Close serial port when debug link fails
    
    If the debug connection isn't working, close down the serial port when
    reporting the failure.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9a83e0dc79f7a7467c7814d58daa2a2b89e50972
Merge: 902735f a79606a
Author: Anthony Towns <aj@erisian.com.au>
Date:   Tue Nov 23 08:07:04 2010 +1000

    Merge branch 'buttonbox' of git://git.gag.com/fw/altos into buttonbox

commit a79606a6507fc01a74910f7959e84c4e9a730714
Author: Bob Finch <w9ya@qrparci.net>
Date:   Mon Nov 22 12:24:42 2010 -0700

    Added PKGBUILDs for deps into contribs

commit 377ee7e90ecd028f984cd1abce96b2efc3b5b977
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 21 14:03:17 2010 -0800

    altos: Add on/off modes to 'C' command
    
    This lets the user turn the radio on/off and then invoke other commands.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 902735ffbfdd97672d52b09f17cdcd619193fd05
Author: Anthony Towns <aj@erisian.com.au>
Date:   Mon Nov 22 05:29:26 2010 +1000

    altosui: keep sitemap more centred on rocket

commit b85df38b5611e45cb9296df07b720badf74ac26e
Author: Anthony Towns <aj@erisian.com.au>
Date:   Mon Nov 22 05:22:17 2010 +1000

    altosui: improve sitemap scrolling behaviour

commit 4a9ded5b39ed08e13abc2cddba8b712f62b983f2
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 17:39:50 2010 +1000

    AltosSiteMap: ensure buffer around active tile

commit ec47bc93a487614714a752cb30ec9fe3d8f72929
Merge: 0393830 e7954c8
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 16:08:37 2010 +1000

    Merge branch 'buttonbox' of git://git.gag.com/fw/altos into buttonbox

commit e7954c820763f80e993f9f822e837725cf36af84
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 20 22:03:26 2010 -0800

    altosui: When fixing eeprom gps time information, make GPS data valid
    
    Eeprom files may be missing the GPS time (due to a firmware bug). Working
    around this involves finding the next valid GPS time and using that to
    create a fake GPS time entry. However, that next GPS time may not
    be locked or may have few sats as it is from the boost stage of the
    flight. Fix this by simply forcing the fake time packet to have
    4 sats and be locked.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0393830f85da5efc96bbdf0d9769b66019c34b33
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 15:13:35 2010 +1000

    AltosSiteMap: limit nr of tiles to 200x200

commit a08b2a6363c194195db92029743f6612676373ce
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 15:03:21 2010 +1000

    AltosSiteMap: never accept 0,0 as lat/long

commit 84e570d8a8a52e0d358582135ec1b3a12be94c26
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 14:45:10 2010 +1000

    AltosSiteMap: refactor tile collection

commit 71e487344395a8efc9cd279aad92f601ff4c6d3d
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 14:05:00 2010 +1000

    AltosSiteMap: thread safe tile addition

commit c040bcd06679484175542208fb564d0271a7fc1b
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 13:19:36 2010 +1000

    AltosSiteMap: try to get new tile construction right

commit c3994dd82d489289ebc99ff9c5fa88f560c023ac
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 13:07:11 2010 +1000

    AltosSiteMap: extend map if rocket goes far away

commit 835b903727a2eabda8d9659cc46e53301f92897c
Merge: 440a0f3 8789135
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 11:15:02 2010 +1000

    Merge branch 'sitemap' into buttonbox
    
    Conflicts:
    	ao-tools/altosui/AltosSiteMap.java

commit 878913551a1e4e3c8f2b39fa4aeb234880735a1c
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 10:55:22 2010 +1000

    AltosSiteMap: explain tile size better

commit 440a0f3f5130eb0c8e614691892be8c94e7fd3c3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 20 16:55:12 2010 -0800

    altosui: Set site map flight path lines to 6 pixels anti-aliased.
    
    Much more visible over the map.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2a7dc3ba36bac81640a9498e0d0caf1470b57c19
Merge: e5b1ada ece2c86
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 10:45:15 2010 +1000

    Merge branch 'buttonbox' into sitemap
    
    Conflicts:
    	ao-tools/altosui/AltosFlightUI.java

commit 8df185cd95cfecbed8272dd1275d077c5b45535b
Merge: ece2c86 1e71264
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 20 16:35:48 2010 -0800

    Merge remote branch 'aj/sitemap' into buttonbox
    
    Conflicts:
    	ao-tools/altosui/AltosFlightUI.java
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e5b1adae9b23b98a6321986f5cd67c9d3166b87f
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 10:34:39 2010 +1000

    AltosSiteMap: better gps check, lower zoom

commit ece2c86e2641b2cd613791293526c492b1606aa1
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 20 16:19:42 2010 -0800

    altosui: Rewrite info table to mix with scroll pane well. Fix startup size
    
    Using a single table for the info table means that the scroll pane
    automatically picks up the table headers and shows them above the
    scrollable view.
    
    This patch also fixes the application size at startup so that no
    scrollbar is required in the info table, and the window is < 800x600.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1e712647dd6df1e77650db705f3ac32a3c8f6907
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 08:58:44 2010 +1000

    altosui: reindent

commit a59a204e188e40ec8848a0dc63d6de710cee3039
Merge: 8263630 37f0201
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 08:56:13 2010 +1000

    Merge branch 'buttonbox' into sitemap

commit 82636305021c41d676f5f0f11378724fe0de0079
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 08:44:13 2010 +1000

    AltosSiteMap: be more polite about preferred size

commit 37f0201d724693528f37ac7d275f68f90cf94da0
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 20 14:31:23 2010 -0800

    altosui: change descent tab formatting to four columns
    
    This places labels to the left of each field. For igniter voltages,
    it uses three columns for the labels.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 66ebd954d9c9a44a8db0ee713c682e39306fabd8
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 08:28:24 2010 +1000

    Add GrabNDrag.java

commit 72f5e05f9f0055f2cef8b840812f090556c94338
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 08:18:39 2010 +1000

    AltosSiteMap: major refactoring

commit b47517d4c2e49f6f7b9954d2c85f96397fe1103e
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 20 14:06:37 2010 -0800

    altosui: re-indent

commit 6f8bc2ad20b715343e0510563ab0f14787ef3e07
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 01:34:52 2010 +1000

    AltosDescent: switch elev from height to range

commit 89f44c5587ea4f927d5e398b6af919df0d6561c3
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 01:27:01 2010 +1000

    AltosAscent/Descent: tidy up layout

commit 51e403145d28ac913e36d205077a613845596be2
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 00:17:51 2010 +1000

    AltosSiteMapTile: draw boost circle as well as landed

commit 25ffe1cc7823895886b4777f310b4bda1c80133b
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 21 00:07:16 2010 +1000

    AltosSiteMap: automatic fetching of map data

commit 20f714bbe3137de8fb7491b39985021fd1774930
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sat Nov 20 22:49:51 2010 +1000

    AltosSiteMapTile: seperate map and drawing layers

commit 58f8d069ce9488e2987b8e92caa69fe68cda7569
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sat Nov 20 21:06:37 2010 +1000

    AltosSiteMap: add autoscroll and grabndrag scroll

commit 74cab8503b51ba6fb05a4d12a031c749e870b0ef
Merge: 0ecf033 9a99cab
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sat Nov 20 18:20:45 2010 +1000

    Merge branch 'buttonbox' of git://git.gag.com/fw/altos into buttonbox

commit 0ecf033110084f1a8be98282d7029dc14f70dab5
Merge: 081fbd5 71c41ea
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sat Nov 20 18:14:30 2010 +1000

    Merge branch 'buttonbox' of git://git.gag.com/fw/altos into buttonbox

commit 9a99cabc1c34c657fc95246192ba6d330f5f22d3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 20 00:13:58 2010 -0800

    altosui: Fix channel changing in flight UI to actually work
    
    Replacing the menu with a combo box required reworking the way events
    are delivered from that widget back to the channel changing
    function. Just delete the old magic and use the JComboBox action
    listener directly.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 71c41eadd12c3ece5fffce7669e4991778046d4e
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 20 00:09:03 2010 -0800

    altosui: Initialize display thread state in constructor instead of run
    
    Some state will get set before run is called, initializing it there
    can be too late.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 081fbd5715f9d3d81d98e149fb95d40447c07a79
Merge: 90b9bc4 7920ed5
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sat Nov 20 17:40:49 2010 +1000

    Merge branch 'buttonbox' of git://git.gag.com/fw/altos into buttonbox
    
    Conflicts:
    	ao-tools/altosui/AltosFlightUI.java

commit 7920ed5c34b088f45ce4213b061ddd1ffe22cee8
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 19 23:18:51 2010 -0800

    altosui: calling thread.interrupt with null thread doesn't work well
    
    This was a left-over from debugging the previous patch.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8c8dc3794c7b5fa5a5b43b1c461d6c8bb3ab425d
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 19 23:09:15 2010 -0800

    altosui: When switching log files, don't terminate log thread
    
    The log thread automatically switches output files when the incoming
    telemetry changes. Don't use 'close' for that as 'close' terminates
    the log thread as well as closing the file. Create a new
    'close_log_file' function which just closes the file.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 594e80572821f1848db062d0cff18ca8bf0d90ce
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 19 22:44:48 2010 -0800

    altosui: switch channel selector to combo box. Shorten displayed device names
    
    A combo box displays the current value, which is quite nice to
    have. Add a 'toShortString' for AltosDevice so that the window frames
    and error messages don't have extra spaces generated by the
    altos_device toString method.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fa07afc73bc5eccff8464a2def05ad600da33c97
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Nov 19 23:33:42 2010 -0700

    update turnon scripts to use stashed copies of stable release firmware

commit 9ffc2eb53a47e435f39b02896b0e43ae5f47f450
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 19 18:25:48 2010 -0800

    altosui: Use timeouts to recover from broken packet links.
    
    This puts timeouts every place the system reads from the packet link
    and aborts the in-progress operation if it takes more than a second to
    get a response.
    
    Also mixed in here are persistent igniter status displays for the
    ejection testing UI.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 68078eab3c07d8dc83302747cf6f3dcb1797c6ce
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 19 20:44:29 2010 +0800

    doc: Document the 'Flash Image' operation.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b4bdda65488e8ef27d2889cb6cc8eda3c5d50e0a
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 19 20:29:14 2010 +0800

    doc: git ignore generated doc files
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f0542085de2139ef562af068ec05fa73f47c73b1
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 19 20:26:49 2010 +0800

    doc: Add preliminary altosui documentation
    
    Also, update the Makefile to allow for further documents to be added
    without a lot of custom rules.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0e7a10f71803d60f8b34c5a91efd220449442769
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 19 17:16:03 2010 +0800

    altosui: Clean up global AltosUI configuration settings dialog
    
    This dialog had a mish-mash of styles and was confusing.
    Now it's got a label for each line, and suitable setters for
    each element
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8f72f08839346fb225238420324f0edcd070e531
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 19 17:14:17 2010 +0800

    altosui: Unify datafile selection to AltosDataChooser
    
    Instead of having several separate intefaces, use a single dialog for
    selecting data files for graph/export/replay.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 24ffcf86c43290ce0f70fb4ee0984b3debdb8a5f
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 19 15:41:30 2010 +0800

    altosui: Add igniter ground testing code
    
    Not yet hooked up, but the UI is finished.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 90b9bc4475011bead7117ed72fa5efa0f77b2813
Author: Anthony Towns <aj@erisian.com.au>
Date:   Fri Nov 19 13:30:00 2010 +1000

    AltosSiteMapTile: adjust scale to 1 nmi per tile

commit fa45336062523838ba8abb08427cdc4d9c7de7a8
Author: Anthony Towns <aj@erisian.com.au>
Date:   Fri Nov 19 13:17:29 2010 +1000

    AltosSiteMapTile: adjust centering calculation

commit fda93afcd8aa4133b0e5f008b824d072e338d0ed
Author: Anthony Towns <aj@erisian.com.au>
Date:   Fri Nov 19 13:02:05 2010 +1000

    AltosSiteMapTile: autoscale to about 2 nmi per tile

commit 483346a03c94b200692f5e6d59f3feee4dcf2ace
Author: Anthony Towns <aj@erisian.com.au>
Date:   Fri Nov 19 12:09:46 2010 +1000

    altosui: tile site maps

commit 939be6793238a275b7682ecc376fed14379cf044
Merge: e68fe94 1a4b6e9
Author: Anthony Towns <aj@erisian.com.au>
Date:   Thu Nov 18 05:54:06 2010 +1000

    Merge branch 'buttonbox' of git://git.gag.com/fw/altos into buttonbox
    
    Conflicts:
    	ao-tools/altosui/AltosFlightUI.java

commit 1a4b6e96f823035b113f01d1bdfd61afc1f33e25
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 16 22:46:29 2010 +0800

    altosui: Add igniter status to ascent and descent tabs
    
    Monitor igniters during all phases of the flight.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d0eb41619544ead6d9dab3a8d024a12936c9cdd0
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 16 22:20:00 2010 +0800

    altosui: Cleanup flight UI layout
    
    Use common constants for fonts and insets
    Shrink fonts so that the window is < 600 pixels tall.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fcca333cda64be35f0c9fb0109eef1be3709dddd
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 16 21:49:59 2010 +0800

    altosui: Add callsign configuration in AltosUI configuration dialog
    
    This callsign is used during packet communication.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d1dbe3b69e6f95ef8ecd4cf959863b922ab47c66
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Nov 15 11:08:00 2010 -0700

    add a paragraph about forcing TM back to idle mode if an accel cal goes badly

commit 39e371561469d8e5059638ffa4e7075f391de268
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 15 23:14:51 2010 +0800

    altosui: add reboot button to telemetrum configuration UI
    
    This lets you reconfigure and reboot telemetrum, including over the
    radio link.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 257e97137325f5dbbd6aa034f20fd6937b67df90
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 15 22:38:35 2010 +0800

    altosui: eliminate menu bar, moving elements to buttons.
    
    This adds a new 'configure AltosUI' dialog to set the log directory
    and voice preferences.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 524644d8d8ce3f8a5a914ecfc7e2a8d474d89095
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 15 22:04:44 2010 +0800

    altosui: oops, missed a file in the previous commit
    
    AltosSerialInUseException.java just defines a new exception, thanks to
    java for making this live in a separate file.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 511903704f7e1b22e88dd3e3cc35fd3c0583820e
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 14 03:26:57 2010 -0800

    altosui: With --replay option, exit when replay window is closed
    
    Otherwise, the application hangs around forever.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 11c95f687b1f68d35fa1a0af2c4e7982b8bb226a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 13 17:09:51 2010 -0800

    altosui: Replace flight status table with labels, fix resize.
    
    There's no reason to use a table for the flight status data,
    replace that with a selection of widgets instead.
    
    Also, set all of the grid bag constraints for the various flight
    status displays so that resize does something sensible.
    
    Adds a scrollbar to the table display so that it can shrink.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit dcfa56498d1b65a213b8aba9cbd6c4806532383c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 13 16:07:04 2010 -0800

    altosui: Open serial device at 'new' time. Prohibit duplicate opens.
    
    With the per-serial UI, there's never a reason to create a serial
    device without opening it right away. This eliminates the bug caused
    by not opening the serial device for telemetry reception.
    
    Serial devices can now be opened only once; this eliminates errors
    when trying to reflash or configure devices while receiving telemetry.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8463ffcaca6bcd31e645aba71c171f548dce96d8
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 13 15:19:14 2010 -0800

    altosui: Eliminate unncessary import altosui lines
    
    Java appears to automatically import every module from the current
    package.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 566c6486c8815ae241e0b116a93b1a0ff4783831
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Nov 13 12:19:12 2010 -0700

    continuing to work on the docs

commit e68fe9454352087889c560d95797922493117acb
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 14 00:59:01 2010 +1000

    AltosSiteMap: add targeting circles around landing site

commit 1e7e02987276847274493312202d22222c953149
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 14 00:57:45 2010 +1000

    AltosTelemetryReader: actually open serial port

commit 9c32b93ef5fb43558fb0179ea1b047e35b7ed6e8
Merge: 991541f a6f30fa
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Nov 14 00:29:11 2010 +1000

    Merge branch 'buttonbox' of git://git.gag.com/fw/altos into buttonbox

commit a6f30fae906bd87dff192c5fd4d10df283f99930
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 12 17:02:22 2010 -0800

    altosui: Add RF calibration to TeleMetrum config dialog
    
    I think that's the last user-settable value.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1bdc6166f3bc5ce3f8e55acb1484923781412e21
Merge: f111871 5c6a533
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Nov 12 17:32:43 2010 -0700

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit f1118717780a81f9257d2eed7828b66538deb8a8
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Nov 12 17:32:21 2010 -0700

    fold in content from Keith's email on the re-flashing subject

commit 7def9dd0d0a4ce9cf7c65de573100e664f278717
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Nov 12 10:58:54 2010 -0700

    first cut at instructions on how to re-flash TM and TD devices based on email
    reply to a user who asked

commit 991541f57f065f429c6ec425efd6ac731280b2c1
Author: Anthony Towns <aj@erisian.com.au>
Date:   Fri Nov 12 23:42:42 2010 +1000

    better error behaviour if no map

commit 1bcfa22de7821984149db10cb79913efed36b41e
Author: Anthony Towns <aj@erisian.com.au>
Date:   Fri Nov 12 23:29:40 2010 +1000

    pull up maps for arbitrary locations

commit beb6c881ec006241c7d2820c64e5381131d41180
Author: Anthony Towns <aj@erisian.com.au>
Date:   Fri Nov 12 03:24:26 2010 +1000

    make infotable scrollable, revert its fontsize to 14

commit 0327c1da01a3f6ede01f05c1d775651a57fd0c68
Author: Anthony Towns <aj@erisian.com.au>
Date:   Fri Nov 12 02:08:58 2010 +1000

    tabs -> spaces

commit 81e7b43ecad666e2e2310c7c94184f888bc86585
Author: Anthony Towns <aj@erisian.com.au>
Date:   Fri Nov 12 02:07:41 2010 +1000

    add site map tab, at least for QRS launches

commit 5394548fa5c7bdbfcc01e8aa19e93e1cf6345e2a
Merge: 891e629 75f7698
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 10 22:11:21 2010 -0800

    Merge remote branch 'aj/buttonbox' into buttonbox

commit 75f7698b99a661ed17a91748a99699fa6761772a
Author: Anthony Towns <aj@erisian.com.au>
Date:   Thu Nov 11 16:06:32 2010 +1000

    add compass bearing during descent

commit cc0a730de093c49be2a921101d27622b6f592e92
Author: Anthony Towns <aj@erisian.com.au>
Date:   Thu Nov 11 15:57:52 2010 +1000

    add compass bearing to voice output

commit 317ec72a34906faad88c6924e634617b074e71db
Author: Anthony Towns <aj@erisian.com.au>
Date:   Thu Nov 11 15:52:01 2010 +1000

    use grayled.png for off

commit 8503943e3613f8670b128012b12ff14fb54321d7
Author: Anthony Towns <aj@erisian.com.au>
Date:   Thu Nov 11 15:45:43 2010 +1000

    reduce font size for FlightInfoTable

commit 3ffaa5d1c00b28be20fd4a26deb7bd41d953e92a
Author: Anthony Towns <aj@erisian.com.au>
Date:   Thu Nov 11 15:43:05 2010 +1000

    read preferences for --replay

commit 1f3e091efdfb2fe6f06a066cac60f5d267b94856
Author: Anthony Towns <aj@erisian.com.au>
Date:   Thu Nov 11 15:40:37 2010 +1000

    add --replay command line argument

commit b16b873723ee3e5097e6725c59ce191119439ad7
Author: Anthony Towns <aj@erisian.com.au>
Date:   Thu Nov 11 15:38:27 2010 +1000

    use value_font for values

commit 891e629f6ba20654b614f3ca7211a0f1c92670cb
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 10 16:28:19 2010 -0800

    altos: Use grey leds when unlit - easier to see

commit 5c6a5335a057be0219450b4b9889c647d8d4a012
Author: Bob Finch <w9ya@qrparci.net>
Date:   Mon Nov 1 14:36:41 2010 -0600

    Updated PKGBUILD-git.altos
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b0d31910da592e2f67c47c8fc3e15ce8135d5094
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 9 23:34:32 2010 -0800

    altosui: Add ascent, descent and landed tabs
    
    This completes the set of tabs for in-flight status information.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 22d00785188a880700cd372528189a7a15278da9
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 9 14:40:58 2010 -0800

    altosui: Add tab UI with 'pad' mode.
    
    This creates a multi-tab interface for flight monitoring
    and includes a special tab for 'pad' mode.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit eb77e806ded99532dc7eaa39c1893f075b028af6
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 9 10:21:34 2010 -0800

    altosui: Create abstract interface for flight data display
    
    This allows the implementation of the flight data display to occur in
    the flight UI instead of the display thread.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a0a92c605e238277c9881545a7226e53b5dbc295
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 8 22:17:26 2010 -0800

    altosui: Fix more calls to AltosPreferences.channel()
    
    Oops. Two more.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 94f4a50d6430cc8280cbdaa9f39d3cb858d0e077
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 8 22:10:46 2010 -0800

    altosui: Fix channel setting at serial open time
    
    Was using the previous non-device-specific preferences API.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6b17d276271faa8a420a1c8f6be17faaa0c7043c
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 8 22:07:04 2010 -0800

    altosui: Create buttons for main actions
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 16916be51d746b1e1057b3219e5bec8f8814259e
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 5 23:44:47 2010 -0700

    altosui: Split out flight monitoring to separate window
    
    This creates a per-TD (or replay) window to contain the flight
    monitoring information, allowing multiple monitors.
    
    This also adds per-TD preferences for monitoring channel.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ca931b1c484bd6b64617370e81b16e169fdae1c2
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Oct 6 17:47:44 2010 -0600

    update changelogs for Debian build

commit 811ced628d586134224c1b501b40ce9eb435fc7c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Oct 6 16:42:27 2010 -0700

    altosui: Separate out jfreechart and jcommon directories
    
    This allows these packages to be referenced separately
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c2c4d515ef9cc2cae8a8f2803e9498bb0794c4ed
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Oct 6 16:25:49 2010 -0700

    altosui: Remove ability to graph data in .csv files
    
    There's no reason to support these files when the raw .eeprom or
    .telem files which generate them should be used instead.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d5caf6f2f4d9257e26aa4305b26c02d1b263fa24
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Oct 6 17:14:35 2010 -0600

    remove the csv build dep, as that code will be abandoned

commit 43e23a60780191e3c6f61df44c5dd08cc8604c51
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Oct 6 16:27:57 2010 -0600

    update changelogs for Debian build

commit 8103432bf7adfe6ee5bf3ee42e1672475e6edd5a
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Oct 6 16:26:33 2010 -0600

    update changelogs for Debian build

commit 635066cd35fb24cacf8400a477ea4b4e3dd2c39c
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Oct 6 16:26:19 2010 -0600

    update changelogs for Debian build

commit 4396aaaf34cda3751dcca0eceb05b4ffeb411cde
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Oct 6 16:25:22 2010 -0600

    add build-dep on libcsv-java

commit 7475ab5804bf3fb12b1b755e850af90d5a15d3eb
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Oct 6 16:19:35 2010 -0600

    update changelogs for Debian build

commit d8a2f4ceb1c70a6be976a78e2264c961de2f2277
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Oct 6 16:18:45 2010 -0600

    add build dep on jfreechart lib

commit f0d1468ceae065f0cdae6f6ae3323dec5636f073
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Sep 28 17:56:49 2010 -0700

    altosui: Add KML file export.
    
    Command line has switches now, --kml and --csv
    Export save dialog has combo box to select kml or csv result.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5a119fd92532d53e552efe1f7c61e87181fcace0
Merge: 28da340 82744c3
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Sep 27 22:28:07 2010 -0700

    Merge remote branch 'aj/master'

commit 82744c3497d37650b88dee80be7956c4bd1cffb2
Author: Anthony Towns <aj@erisian.com.au>
Date:   Tue Sep 28 15:27:07 2010 +1000

    Add callsign/serial/flight to graph title

commit 28da3406426437604125d332e4cda90d459df487
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Sep 27 22:26:56 2010 -0700

    altosui: use Altos constants in graphing code
    
    The Altos class nicely defines constants for all of the flight states.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ce7f59fbfb5a94a67a4ceced3cc371b4c6b6e5d1
Author: Anthony Towns <aj@erisian.com.au>
Date:   Tue Sep 28 14:45:01 2010 +1000

    Hax0r graphing to support telem/eeprom files

commit e2b9f47a205348d38756c70e928a2a9183de6884
Merge: 7ef3ad0 8032031
Author: Anthony Towns <aj@erisian.com.au>
Date:   Tue Sep 28 12:55:47 2010 +1000

    Merge branch 'master' of git://git.gag.com/fw/altos

commit 803203197e51e71e9c77b3610047fd5bf9a56c56
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Sep 27 18:52:30 2010 -0700

    altosui: Deal with eeprom dates going backwards across wrap
    
    eeprom timestamps can go backwards as the GPS time stamps are
    recorded when the first GPS character is received, but not placed into
    the eeprom log until the last GPS packet is complete. If this happens
    at the same time the tick count is wrapping, then the tick count will
    wrap backwards across the 0 boundary causing time to jump forwards.
    
    Fix this by letting time go backwards across the tick boundary, which
    requires that we know when the first 'real' tick is read from the
    eeprom file.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fe7eba2e4af36cf29d8dc2378ac6985be04f68c6
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Sep 27 18:51:05 2010 -0700

    altosui: .CSV output: add link quality, gps hdop and sat C/N0 numbers
    
    This makes the CSV files contain all of the available information.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c89a34d1eb25155405b0036baeadc7bbfeade1c2
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Sep 27 17:11:48 2010 -0700

    altosui: Create iterables for log file scanning. Split out display threads
    
    Convert from log file reading paradigm to using iterators which is
    more idiomatic for java. Split more code out of AltosUI.java,
    including the display update threads for telemetry monitoring and
    logfile replay.x
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7ef3ad0c9354c0484c25badc69334b59c7f355e2
Merge: eb74866 e66919a
Author: Anthony Towns <aj@erisian.com.au>
Date:   Fri Sep 24 10:28:06 2010 +1000

    Merge branch 'master' of git://git.gag.com/fw/altos

commit e66919aa46193bd8c7a1e86fb32a3367dae121f5
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 23 16:52:51 2010 -0700

    altosui: Require 4 sats for 'good' GPS data
    
    Wait for 10 consecutive GPS reports with at least 4 sats before
    reporting "GPS ready" state.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 34ca8c00f4be72c314baff4c96f1e2f010948454
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Sep 20 06:30:49 2010 -0700

    altosui: remove unused ReplayThread wrapper classes
    
    These aren't used now that the replay opener dialog knows how to build
    a reader from a filename.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fd010661ced6075f82a961625826665a3d8d1efe
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 30 14:00:04 2010 -0700

    altosui: Factor some UI elements into separate classes
    
    Clean up AltosUI by moving the two main tables to separate class files.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit eb74866e919e8c661153847871f5a79e66d37296
Merge: af404b4 1260589
Author: Anthony Towns <aj@erisian.com.au>
Date:   Mon Sep 20 22:05:26 2010 +1000

    Merge branch 'master' of git://git.gag.com/fw/altos

commit 1260589976c1a95848b298497fd251c4ee7d3f93
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 19 02:52:29 2010 -0700

    altosui: Write raw sensor data to .csv files
    
    For data export, provide the raw sensor samples instead of the
    filtered values.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7a4d7110debb88f4e906fee7c46f2badd561809d
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 19 02:50:43 2010 -0700

    altosui: Use recorded ground acceleration when reading eeprom files
    
    The flight software records 1000 accelerometer samples and records
    that in the flight log. Use that value instead of using the very few
    samples recorded in the eeprom before boost is detected. This
    generates far more accurate accerometer data in the .csv files.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit af404b428bd742039afc25ff3850f76bc92c7c29
Author: Anthony Towns <aj@erisian.com.au>
Date:   Wed Sep 15 07:24:04 2010 +1000

    Add JFreeChart to Makefile.am

commit 61590b8729831cb138b2ba6b88802c208d114753
Author: Anthony Towns <aj@erisian.com.au>
Date:   Wed Sep 15 06:51:05 2010 +1000

    Add graphing.

commit 3d64f5a6511529ca53699190f4d54de1ba62a9bd
Merge: ec6da08 b9623f8
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sat Sep 11 15:15:14 2010 +1000

    Merge branch 'master' of git://git.gag.com/fw/altos

commit b9623f8ef26491e9fa14e2478295fe6f5cbbd87f
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 10 21:07:14 2010 -0700

    altosui: Remember directory containing firmware files
    
    Instead of forcing the user to navigate to the firmware directory each
    time, this remembers the previous directory and starts there.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7f2204e0832b14b1edca4266a2cbc272141ecc2b
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 10 20:55:05 2010 -0700

    altosui: set default .csv file name in file save dialog
    
    This uses setSelectedFile to specify which output filename to make the
    default in the save dialog.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7e053ae1f2d09347123ac9fa79e46645378b4c70
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Sep 10 10:42:35 2010 -0600

    make the column headers comma separated, too, so they align with the data

commit ec6da0824474e46de842845d7b53fe1a1dde33ed
Merge: 7c2e411 1031067
Author: Anthony Towns <aj@erisian.com.au>
Date:   Fri Sep 10 16:11:34 2010 +1000

    Merge branch 'master' of git://git.gag.com/fw/altos

commit 10310672a83a66dc630718b151d653fc066f8e59
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Sep 10 00:09:25 2010 -0600

    update changelogs for Debian build

commit 9d0e89e8ad8926dc8371fa809835a580ae49711d
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 23:04:59 2010 -0700

    altosui: Stop parsing eeprom file after hitting 'landed' state
    
    Sometimes there are additional records found in the eeprom file; the
    reader is mostly worried about not losing anything, so it reads as
    much as it can. However, the last record written for any flight is the
    'landed' record, so we can stop looking at the file after hitting that.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 67b6952f7126704478ede5575e5e938d18fcc329
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 23:04:14 2010 -0700

    altosui: Fill in time value of last Eeprom record read from file
    
    The last record is handled separately, and was missing the code to
    compute the time. Sigh.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8b0b584cd0ca7542e65aac0c7897ad7ab4115122
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 22:55:47 2010 -0700

    altosui: Remove debug printfs from AltosTelemetryReader
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a80bfae15f1499c49f7ef47978bf0337d8120892
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 9 23:57:34 2010 -0600

    rewind packaging changelog, again

commit 78ce3120e5a53858ca0d43c734aa5d28b4948ce3
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 9 23:52:20 2010 -0600

    update changelogs for Debian build

commit 71c85613a28c24c3aad7b4aa3299d8677ef1268e
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 9 23:51:23 2010 -0600

    rewind packaging changelog

commit 7c2e4114a3a43f919a7a6c967d3f16e5d630f90f
Merge: ddc83b4 af200f5
Author: Anthony Towns <aj@erisian.com.au>
Date:   Fri Sep 10 15:50:01 2010 +1000

    Merge branch 'master' of git://git.gag.com/fw/altos

commit af200f5b84555de0556b52146379f3934774a3f3
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 22:30:48 2010 -0700

    altosui: Fix telemetry file reader to handle tick count wrapping
    
    The telemetry reader was ignoring tick count wrapping, so you'd see
    time go backwards in jumps. Not useful.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 96ca7051f60ea299e3e05bafbe5717fc83c3afd2
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 9 22:50:03 2010 -0600

    update changelogs for Debian build

commit 2d5e48c5dc0e822fdf430f43804c1e5e79fdbf84
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 21:28:10 2010 -0700

    Add --with-fat-dir configure option to publish finished stand-alone bits
    
    --with-fat-dir specifies a directory to copy the finished
    linux/macosx/windows stand-alone ("fat") packages to. A sub-directory
    will be created under the specified directory based on the product
    version number and the files copied there.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit dd2b77b2a516a055f29191dcdfeb727e637aae86
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 20:59:29 2010 -0700

    altosui: libaltos.so is built with libtool -- it's in ../libaltos/.libs
    
    It used to be in ../libaltos
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 72a5c1258db92d0ddd660bfa875e8e55cab47af7
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 20:39:41 2010 -0700

    altosui: Remove some debug printfs.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 031fd9a954f2e3447d0150eb4ecc81af7b620dca
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 20:36:12 2010 -0700

    Add firmware and libaltos to 'fat' target at top-level
    
    This ensures that all of the necessary bits are available to construct
    the distribution images.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fcaa480b1dfeb2fd4044f9c4e1b6d50c46fc9984
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 9 21:29:20 2010 -0600

    update changelogs for Debian build

commit 48f57997452e17564e28fe3e37403f6f63d32dea
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 20:24:42 2010 -0700

    altosui: conflating USB product and vendor IDs is a bad idea
    
    We've now got a USB vendor ID called 'altusmetrum' for generic
    altusmetrum devices (old USB ID 0x000A) while the general vendor name
    for all devices is 'altusmetrum' as well.
    
    This patch splits vendors and products into separate name spaces,
    products are prefixed with product_ and vendor with (oddly) vendor_.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 632d276118ab04de67561104be650f8fb69a0450
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 9 20:34:43 2010 -0600

    update changelogs for Debian build

commit 1ac3d7e3ba52d1b0dc834eaa5d7886c730eaf307
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 9 20:34:22 2010 -0600

    initial cut at an altosui man page

commit 5c4e437975054d33604402591e1ea2f314932593
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 9 20:06:09 2010 -0600

    update changelogs for Debian build

commit 0ea75761416bff299233991e961ba25b6c7dcf89
Merge: 35d70c9 8ee3464
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 9 20:05:27 2010 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 8ee3464d8064ebe1694c7b20177878c0d9961451
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 17:54:41 2010 -0700

    altosui: Display error dialog when AltOS JNI library can't be loaded
    
    Having an error dialog appear at application startup seems better than
    simply failing to present the device dialog later on.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4224a7526e51eb8fbf1f0a31bae7ee68c6385095
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 17:52:46 2010 -0700

    altosui: Store libaltos.so in $(libdir)/altos
    
    It's not a public library, so hide it away in a subdirectory.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1e4c18777d982061f5e507a4d4f4f1cd4d685268
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 17:49:37 2010 -0700

    altosui: Need to have JVM include path substituted into libaltos Makefile
    
    The libaltos Makefile needs to find the relevant jni.h file, which is
    found in the JVM_INCLUDE path, all nicely located by the configure.ac script.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 35d70c92307dd478bc619b2f6c5a88e155cdad28
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 9 17:27:07 2010 -0600

    handle versioning of ihx files (poorly) by just wildcarding the file name,
    which assumes there's only one matching .. probably ok on Debian?

commit c286ada6457579d64e9d8ca44b927258b4a561da
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 9 16:27:40 2010 -0600

    update changelogs for Debian build

commit 6c0ae7e966a81ece35bccbe89d626a58afe899a2
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 15:25:18 2010 -0700

    altosui: remove FATJAR from all-local to avoid building fat .jar file
    
    the fat .jar file is used in non-native builds to run from a directory
    containing all of the freetts jar files along with the altosui jar
    file. We don't want this on a real install where freetts is installed separately.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 737a64c57a8f979f51c3fa6b3f214520c736cf8a
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 15:22:14 2010 -0700

    altosui: hack to make JAVAROOT directory get created before javac runs
    
    This ensures that the JAVAROOT directory gets created by adding it to
    the variable used to set the CLASSPATH environment value.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b456bd9d7bcd9d968e43c38eeb6fa6ad8c58f895
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 15:11:41 2010 -0700

    altosui: fix telemetrum.inf FFFE:000A product names on AMD64 and ia64
    
    This appears to matter to Vista. Dunno why.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 16980b848651a6b20a0b458446f0a19fb517539d
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 15:10:25 2010 -0700

    altosui: Add explicit requirement to create classes directory
    
    The implicit ordering doesn't appear reliable.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 15da683c2f747baef49c8b8d321a86faede0de30
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 9 15:51:50 2010 -0600

    update changelogs for Debian build

commit 012e7176954a6b74b3b667317be0f6dc41d7ab70
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 9 15:51:02 2010 -0600

    add libtool to build deps

commit 3e5824b9a71971ce99bfe38a1e860b421e265f02
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 9 15:43:47 2010 -0600

    update changelogs for Debian build

commit ddc83b4c401be965a9947782becf20cc8c54e6a2
Merge: afea6c2 3d49d5f
Author: Anthony Towns <aj@erisian.com.au>
Date:   Sun Sep 5 20:49:34 2010 +1000

    Merge branch 'master' of git://git.gag.com/fw/altos

commit 3d49d5f69b41c27003dbc5ccf1899014bd13bd99
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 5 02:05:06 2010 -0700

    altosui: ensure that 'altosui' script is installed. Pass arguments along.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b61fec225ada6a9e252e4c7920101ee18c77cbdc
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 5 01:55:56 2010 -0700

    altosui: eeprom files place 'boost' time in the flight number record.
    
    Instead of looking for the first state change record, use the Flight
    record to get the boost tick.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6c653a4cba5fef8d49261cf1c024f3e86e9058c6
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 5 01:52:36 2010 -0700

    altosui: Record flight number when scanning file, not when running
    
    The very first record in the eeprom is the flight number, but it is
    time-stamped with the 'boost' time, and so it gets sorted until much
    later, delaying the return of data until the rocket enters boost
    mode. This drops all of the nice pad GPS and state date on the floor.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 38e1d87c8d449866faac026577fefa9a118428cb
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 5 01:23:53 2010 -0700

    altosui: Use local .class files in the classpath
    
    This ensures that compiling only a few changed files will
    locate the old .class files instead of using a stale .jar file.

commit 9941b05a1d03dafd6cd899b5fe999ed769efb1d6
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 5 01:21:14 2010 -0700

    altosui: Prevent voice altitude data from queueing up
    
    When flight status changes rapidly, the queue of voice data can get
    quite long. This change does two things -- first, it remembers when
    the altitude reporting happens due to flight events and delays the
    periodic reporting until a suitable time after that, second it ensures
    that the voice data has all been delivered before generating a new
    altitude report.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4dec5c36702d76dc95beada7c1d3222a638a2cbb
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 5 01:19:11 2010 -0700

    altosui: Add AltosVoice.drain() to wait for queued speech to finish
    
    drain() blocks until all pending phrases have been processed, allowing
    the UI code to avoid pending data that will end up stale by the time
    it is emitted.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 410ba89eef9c9817eef81b702966cb88820ff7c4
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 5 01:13:01 2010 -0700

    altosui: Start idle thread after the rocket leaves the pad
    
    This makes the first altitude report time consistently 10 seconds
    after launch, instead of some random time depending on when the rocket
    launched relative to the time the device connection was made.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6205547ec7191aab0259a8449520e966a96129e6
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 5 01:08:50 2010 -0700

    altosui: When replay thread is interrupted, don't make final report
    
    Normally, the replay process makes one final report after the file has
    been parsed. However, if the reading process is interrupted to display
    something else, this report is just annoying, so don't make it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3d99584fcfe43b22e8581874e0ac77ce3d635d48
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 5 01:03:18 2010 -0700

    altosui: Add elevation and range data to main display
    
    Reported by voice, it's useful to see these on the display as well.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2d58f319a7c1a6a8ccc6a539722009996ba886ab
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 5 01:01:10 2010 -0700

    altosui: Eeprom files contain only one date; save it.
    
    While reading eeprom files, the GPS record is reconstructed each time
    the system sees the first GPS log item (the time field), but as the
    date isn't repeated, we need to copy it from the old GPS data record.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b2aa689bf3d61e4a3ebe7c828162d1be20aad0f6
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 5 00:59:54 2010 -0700

    altosui: Remove debugging printf from AltosEepromReader
    
    These were in place while validing the GPS data reconstruction code
    that handles eeprom files missing the first GPS date line due to the
    record overwriting bug in old firmware versions.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit eb0e7a59f0806734a4c959a3ce7c57f71cbe3986
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 5 00:57:38 2010 -0700

    altosui: Return AO_LOG_INVALID instead of exception for eeprom files
    
    When an eeprom file contains an invalid line, just return
    AO_LOG_INVALID instead of throwing an exception. This allows us to
    replay and parse files with extraneous serial communication.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c3a17c71a45207dd715d537704f161de9219f0d7
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 4 18:49:22 2010 -0700

    altosui: Fix linux fat distribution
    
    Again, use 'cp -p' instead of 'cp -a' to get files into the archive
    instead of links. Also, make the shell script 'altosui' instead of
    'altosui-fat'.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 828e9e4c68e3ac90b6ba2e9fd5f131a9975f7e4a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 4 18:39:58 2010 -0700

    altosui: Fix up Mac OSX .zip file
    
    Must contain 'altosui.jar' instead of altosui-fat.jar.
    Also, was using 'cp -a' instead of 'cp -p' which made files
    represented by symlinks not end up in the archive.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 044fd27449c70474f51b99dec25fd23d3c03a559
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 4 18:20:45 2010 -0700

    altosui: Fix windows installer to ship correct files
    
    Was shipping altosui.jar instead of altosui-fat.jar
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 148b927c3b8bc7b7b5c5356392032faf2b1203d3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 4 18:04:04 2010 -0700

    Add top-level 'fat' target to aid building distribution files
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit aed59e1c057c13e28fd368dc2592aa4628211097
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 4 17:59:11 2010 -0700

    Add version numbers to released files. Set version to 0.7.1
    
    Instead of using git revision counts for version numbers, use explicit
    versions numbers configured in the configure.ac file. Expose published
    files with version numbers.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2808bba3efa1cff133cc060dabff06fab8b75388
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 4 17:58:52 2010 -0700

    Ignore libtool files.

commit bc183400ab93d5902c52851319999cc77f27bc81
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 4 17:35:17 2010 -0700

    altos: add some SDCDB config files

commit 887b11f6b9c81b9f15348d54017e700ca7dc5e55
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 4 17:27:17 2010 -0700

    Use autotools for altosui and libaltos
    
    This switches from hand-written Makefiles to automake with libtool
    for these parts of the system.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e844e8a0695e27af6f8e3e37a5e3bcc865b862e3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 4 01:13:42 2010 -0700

    altosui: Add icons to application and Windows menus.
    
    Use the altus-metrum icon for an application icon and a windows start
    menu/desktop icon.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e9ea28504c646fc25791aab09b9e5faf73e0ac0c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 4 01:08:34 2010 -0700

    icon: add some icons for application programs
    
    altus-metrum.ico: Windows ICO file
    altus-metrum-16x16.jpg: 16x16 jpg image for java
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f550677df016070430ed38bfa2b2be33f1b8c40a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 4 00:16:41 2010 -0700

    altosui: oops. renamed the nsis file to altos-windows.nsi
    
    And forgot to change the dependency in the Makefile
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c0988ddbf104ea729090c2e7e2a28cc6dc9e90f6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 4 00:14:15 2010 -0700

    altosui: ignore built files

commit ecb4a09535b6a8da0765010489a96e605dbdeb46
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 4 00:13:11 2010 -0700

    altosui: Add windows installer build using 'nsis'
    
    nsis happens to be packaged in debian, and it appears to build usable
    installers, which is all very cool.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bf22923cd8b4f6f954718358b411b5b10d8e7b4d
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Sep 4 00:46:29 2010 -0400

    update changelogs for Debian build

commit 59798c6fd11502a9c8b66090c23ba50eb250692e
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 3 12:43:45 2010 -0700

    altosui: Catch I/O errors on telemetry device, report to user
    
    This catches the USB device being unplugged and makes sure the
    user sees an error dialog in this case.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 16d8d6a8853d09f683b13f9cda3c3174a0aab130
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 3 12:31:05 2010 -0700

    altosui: Must flush serial line after configuring for telemetry
    
    Without flushing the configuration commands to the serial device, it
    never sees them as the telemetry input thread doesn't flush.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d4f64e95e31e2335470efc15df2ab357b7d197f3
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 3 11:48:55 2010 -0700

    Revert "altosui: Deal with altos bug setting radio channel while monitoring"
    
    This reverts commit ba65e4aeb952a1cf49a77f1e24e235508fcea71f.
    
    Testing the old code

commit 71191ecef3ba0e00d0f8a7cd1a24982bfa44ec72
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 3 01:30:33 2010 -0700

    altosui: Allow 'connect to device' when already connected
    
    Opening another serial device involves shutting down the display
    thread (to reset its state) and spawning another one. Shutting down
    the display thread normally closes the serial device as a part of the
    process, and if this isn't done before the new serial device is
    opened, then the new serial device ends up getting closed too.
    
    Interrupting the display thread and waiting for it to stop before
    opening the new serial device solves the problem.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ba65e4aeb952a1cf49a77f1e24e235508fcea71f
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 3 01:21:57 2010 -0700

    altosui: Deal with altos bug setting radio channel while monitoring
    
    If the monitoring thread is active, then setting the radio channel can
    sometimes cause the monitoring thread to get stuck. I'm not entirely
    sure why though. For now, work around the issue by making sure
    monitoring is off, and the monitoring thread has stopped, before
    changing the radio channel.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e5ef42c2b22c6639d90631dbbb588f9fd2494385
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 3 01:12:24 2010 -0700

    altosui: Report telemetry CRC errors in UI
    
    Telemetry CRC errors can signal problems with TeleMetrum or TeleDongle
    units, so report them in the UI.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3b3aa448f3a0f44137f7530b04b58967ba5f22f5
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 2 21:11:29 2010 -0700

    altosui: build Mac OS .zip file to include paths
    
    Without the paths, the OS X zip file doesn't create a usable
    application structure.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit cff0d1ef6b338b3d5ad9450d4d5f95df934cb5e4
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 1 22:56:34 2010 -0700

    altosui: Post error dialog on invalid ROM config values.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8d8980f56a4f2c7d6f2ce667130706e0f04f8ded
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 1 22:56:12 2010 -0700

    altosui: Remove some debug printfs from AltosRomconfig class
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5ee6cd41ed189c3166f76558ecada80917f40652
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 1 22:47:15 2010 -0700

    altosui: Hide internal rom config UI helper function
    
    This was getting mis-used by the flash UI causing the rom dialog
    'cancel' button to work just like 'ok'.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9a690c9795e8257d2a3225f905117681668a472f
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 1 22:46:04 2010 -0700

    altosui: allow flashing to be canceled from the rom config dialog
    
    Was using the rom config class wrong, causing cancel actions to work
    just like 'ok' actions. Oops.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2f07ad14a16dbf1b75c71784ceae303825c90ade
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 1 22:43:22 2010 -0700

    altosui: Abort flashing if debug port isn't working
    
    Check each command going over the debug port and make sure it works as
    expected. This commit adds checks for initializing the clock,
    selecting the desired program counter and running the flash
    program.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit cf30343aadd5039627a85319872685f743e64b16
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 2 00:55:41 2010 -0400

    update changelogs for Debian build

commit 59a40f6d5a2159b9009a3fa0737bb679efd5b32c
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 2 00:55:01 2010 -0400

    another distclean fix

commit 59ff9180f11063c257746b895a167179b3a4ff7c
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 2 00:53:16 2010 -0400

    and a few more distclean fixes

commit 3aafd70257b70b7c11ba9c55749157979bc61ea2
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 2 00:52:04 2010 -0400

    more makefile distclean target work

commit d5a6ad87c7a9ac03b2e694bed0a54b6cc4322a6f
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 2 00:50:16 2010 -0400

    update changelogs for Debian build

commit 14fa24ed93b3b1cec08a170004c6fb7f4d74f7e5
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 2 00:48:31 2010 -0400

    update changelogs for Debian build

commit 83552dfa0d38db9cdf3efc89e64e6c7896467856
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 2 00:47:54 2010 -0400

    add distclean targets to libaltos and altosui to all Debian package to build

commit 6f24d2a476759104a10b26b54faff2b18b0e208b
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 2 00:46:21 2010 -0400

    update changelogs for Debian build

commit d079bfe86ed40ff450ece445cf5f5e3970e44cec
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Sep 2 00:44:30 2010 -0400

    update changelogs for Debian build

commit a470315e5d822a69ef5304512cf73c604c88e481
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 1 20:14:51 2010 -0700

    altosui: Remove Manifest.txt from git repo as it's built now
    
    This file is built with appropriate contents for each different .jar file.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1177e0a684328422be5adc68093d0091a218a824
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 1 19:53:24 2010 -0700

    altos: Bounds check Skytraq GPS tracking data array
    
    Missing GPS serial data could cause the tracking array reset to
    get skipped, causing the array to be overrun, smashing critical data
    beyond the array.
    
    This was detected using the 'altosui' flash command to program a
    device from TM. Hitting the USB that hard caused TM to crash with a
    mutex error (3 beeps) after the ao_gps_task structure was overwritten
    with zeros.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 775acb89660cdee2f3c54c38297baefe39f2414c
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 30 22:24:09 2010 -0700

    altosui: missed AltosReader.class in the Makefile
    
    This caused clean builds to fail to make this file
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bd2b9d958c2b7f846031b076ed51c4fbaaf2d68f
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Aug 31 00:20:06 2010 -0400

    update changelogs for Debian build

commit d006c5e1255433181aca4c8e6a277b2d1bc0841b
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Aug 31 00:19:37 2010 -0400

    add runtime dependencies for altos binary package

commit c1c7d731e3774883fa0bb5538be225a59334d124
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 30 19:52:51 2010 -0600

    update changelogs for Debian build

commit c35632efb1919764e4b8581ed6fcf2bedd4bd517
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 30 19:37:50 2010 -0600

    update changelogs for Debian build

commit 2a004d17a13b4ff52d892bfdecff8ad3d0823f7c
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 30 19:37:17 2010 -0600

    don't build all the "fat" jar deliverables by default

commit 507e429db6638f82c32449e9c5ca06b46da30134
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 30 19:09:00 2010 -0600

    update changelogs for Debian build

commit 25764fcd1b65c3a5a817afdb5901ac30e8a5f0c0
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 30 19:08:29 2010 -0600

    update changelogs for Debian build

commit 4790f78aead8a816e5b247c022b2998ce3a94053
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 30 18:48:50 2010 -0600

    add a .gitattributes file, configuring the Mac and Windows binary library
    files with the export-ignore attribute, in hopes that this will prevent
    them showing up in source packages

commit 81318e5b7179b0311ab099043ecb04a25d763750
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 30 18:15:40 2010 -0600

    make invocation of 'install' pathless to work on more Unix variants

commit cbc72399a0f4d7429df0189bcdae683dd491cb9e
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 30 17:56:56 2010 -0600

    continue even if rm's don't have anything to do

commit a9a8d23c877e6f6c76857b7c85e3d43b4da1db27
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 30 05:49:11 2010 -0700

    altosui: Devices with USB id 0x000a always get listed
    
    List 'unknown' AltusMetrum devices anytime the UI needs a device
    name.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a94900b8862b99b4e317ea0ee3edd2a560f270c7
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 30 05:48:23 2010 -0700

    altosui: build debian-style altosui too
    
    This adds the dependencies to make sure altosui and altosui.jar get built.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 38ac388baf8125c0644b868a7aaf8eba1bdf990d
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 30 05:28:37 2010 -0700

    altosui: Build linux, mac and windows archives on Linux
    
    This adds 'fat' archives for each target OS.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 35d9a8214252dbe79aeb69ae47d2e5c58a654702
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 30 05:27:45 2010 -0700

    libaltos: Use overlapped I/O on windows
    
    Otherwise, reads block writes and vice-versa. Crazy stuff.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c7ba92317ac55272acbde12416448ebd17b983a6
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 30 04:52:00 2010 -0700

    altos: Windows sends USB Out packets of 0 length. Ack them.
    
    This was an untested case as no other operating system sents 0-length
    out packets (they're not necessary). The correct response is to ACK
    them by clearing the OUTPKT_RDY bit so that another packet can be sent.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 20a472cfe3369200150ea4ff067ceb28968dbcac
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 30 02:58:23 2010 -0700

    libaltos: Add pre-built Windows .dll
    
    This lets us create the windows distribution on Linux.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0300fe581c949232bc52b05fe9c1f6032cad6b60
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 30 02:56:25 2010 -0700

    libaltos: Add pre-built Mac OS X libaltos.dylib
    
    This allows the mac bits to be built on Linux.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5d48c494325524bbeed10e0dc7300ed44e7e208e
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 30 02:53:26 2010 -0700

    Update telemetrum.inf to include all current USB ids.
    
    Windows 7 has 'encouraged' us to split out each product into a
    separate USB ID. telemetrum.inf now has all of them listed.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit df34bbe7d1c43b12ab6d610fe810b6e1683e4c21
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 30 02:49:49 2010 -0700

    libaltos: Improve Makefile
    
    Builds Windows .dll correctly now and sample app.
    Moves linux install target to end so it is not default
    Adds .NOTPARALLEL to disable parallel gnumake.
    Removes -g debugging flags to shrink file size.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit dd5374b8e660012ae4f8b058454fd101e0749ca7
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 30 02:00:30 2010 -0700

    libaltos: Fix windows build.
    
    Need stdlib.h to get calloc/free defined, remove debug printfs, fix
    serial timeouts.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 63c832394a829f41b8f77d075786530536360349
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 29 23:22:27 2010 -0700

    altos: shut down packet mode cleanly
    
    Instead of constantly bashing the packet master thread, let it shut
    itself down in an orderly fashion. It will shut down fairly quickly as
    all of the activities in that thread are bounded. Otherwise, the
    master packet thread might leave mutexes locked and all sorts of other
    horrors.
    
    Tested on Linux and Mac OS X and shown to be reliable.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 43619c13f749b79c096d1e8fdab3d5cfb5fd85f1
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 29 22:42:23 2010 -0700

    altos: Abort radio harder when terminating packet mode.
    
    Make sure the master radio tasks don't get stuck waiting for an
    incoming packet again by aborting the radio each time we poke the
    tasks.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c4a8569f61eddf690d00337543462235ecbfbe54
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 29 22:41:18 2010 -0700

    altos: flush pending output when terminating packet mode
    
    Just in case the last command sent hasn't been transmitted, hang
    around for up to a second waiting for the data to get across the link.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1acd3c7ec167b1b18e4ea493e5978c938a91cc89
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 29 21:45:19 2010 -0700

    libaltos: cjnitest needs altos_flush now

commit 6527357d1f0e94faf9e7dacac10a39875131be7c
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 29 21:43:46 2010 -0700

    libaltos: Missing OS_LDFLAGS on cjnitest build

commit b7fa1ea3338f63b8edcf8aacccb5e519ca0b213f
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 29 21:41:40 2010 -0700

    libaltos: Mac OS X cannot use 'poll(2)' on serial lines.
    
    Who ships this stuff, anyway? Instead of blocking, we'll poll every 100ms now,
    otherwise, we won't be able to abort the read when the device is closed. Yay!
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e60c59123232915e808cee23ef89eb1a38ced34b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 29 21:40:21 2010 -0700

    altosui: discard invalid lines while reading Eeprom flight data
    
    This shouldn't happen, but it's easy enough to get back in sync by just
    skipping lines with weird contents.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ae02b1590439d5c8dfb472cf1f83a14fdcfbaf11
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 29 21:36:47 2010 -0700

    altosui: provide separate flush_input/flush_output for serial. deal with monitor automatically
    
    (yes, this should be two patches, but the diffs in AltosSerial were merged together).
    
    First, this replaces the existing flush/flush_reply mess with two simple functions,
    one to flush output to the serial device, making sure that all data written will be seen
    while we wait for input. The other sucks any pending input off of the serial line and
    discards it.
    
    Second, AltosSerial now tracks whether the serial line is being used for telemetry
    monitoring. If so, it enables monitoring, otherwise it disables it. Eliminates a
    bunch of manual state tracking elsewhere.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit edcfb1bdf64772d3b83405ccf99385b8fea5d8e4
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 29 17:33:59 2010 -0700

    libaltos: AltusMetrum devices use more than one USB ID.
    
    List all usb devices, picking those with AltusMetrum IDs.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 236685807b63860ad033aa0254ce8f6d8d36d4ef
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 22:26:09 2010 -0600

    update changelogs for Debian build

commit 1cda15fdef2d9d3e54354bd5c43a0bcc7e3240cb
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 22:24:51 2010 -0600

    fix up for an 0.7 release

commit 4c5c7c7f198775c398c1ad2edafb3488384cc297
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 22:13:38 2010 -0600

    update changelogs for Debian build

commit 42055af5c6f17d14a2f1c6a2b5e1ce6d3b45a615
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 13:13:19 2010 -0600

    update changelogs for Debian build

commit 0bd4cc03b3bf23aa32b5ce1921078021d1d8a9c6
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 13:12:46 2010 -0600

    fix path to installed shared library

commit 99c1d9b4ef10ec4ebbee058ce0bb38c954a0a3a6
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 12:41:26 2010 -0600

    update changelogs for Debian build

commit cf65c6b8056c4af7c26b52ec6f9fbd3400cef638
Merge: 5f2f6a8 ae5eff7
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 12:38:25 2010 -0600

    Merge branch 'bdale'
    
    Conflicts:
    	debian/control

commit ae5eff7bc0b63047737223423009707bedcb00f5
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 12:37:36 2010 -0600

    Revert "lose the prebuild hook for now while I'm fumbling"
    
    This reverts commit a21b6bb60ac1c07ebd161534a4ea63bfde50dcdf.

commit de2e71c4923a0282df74dbe37d087c34b4ddd279
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 12:25:20 2010 -0600

    fix man page delivery path

commit a8dbe082960dc9bdd44c6e4b1198423c4e566029
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 12:18:28 2010 -0600

    install altosui man page

commit 5cc933039e4763b8675611c63b6147b42878a2bb
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 12:16:19 2010 -0600

    fix permissions on installed jar file, switch from ao-view to altosui in
    the desktop file

commit 138009e9fad01f79df4c3820fbc206f78688bdce
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 12:06:01 2010 -0600

    update Debian standards version

commit c280071b7db4e9a7af31dc5740eb8d27f137950e
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 12:04:13 2010 -0600

    fix up the wrapper's path to the jar file

commit 5f2f6a8f9ba56be867888758848bc7f152ccbd47
Merge: 63bd34c 9d1b27f
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Aug 27 11:00:31 2010 -0700

    Merge remote branch 'origin/master' into new-packet-format

commit 63bd34cd1b5a411489e8c3ab377f0fe0eec11f67
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Aug 27 10:58:55 2010 -0700

    altosui: add elevation and range information
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 72a18502e40f55cbba6418dc94315517881cd411
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 11:51:24 2010 -0600

    add an install target for altosui

commit 72c33a72ee105ec692dad62d6d9c1ad40b89bfe8
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 11:45:19 2010 -0600

    add install target for libaltos

commit a21b6bb60ac1c07ebd161534a4ea63bfde50dcdf
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 11:26:29 2010 -0600

    lose the prebuild hook for now while I'm fumbling

commit 9ea94411c9730f7a271366d309ab4827beeeb839
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 11:17:54 2010 -0600

    add a dummy install target

commit c443f43f8dee6e0fcbcecf9d09e948fd928b7af4
Merge: 2950431 2923cf5
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Aug 27 03:08:53 2010 -0600

    Merge branch 'new-packet-format' of ssh://git.gag.com/scm/git/fw/altos into new-package-format

commit 2923cf5057f9cef110dd547d8677ea5b60e00796
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Aug 27 00:10:29 2010 -0700

    altos: prepare for sdcc 2.9.1
    
    A few minor language changes -- non-standard keywords are now prefixed
    with __, such as 'at', 'interrupt', 'naked'.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 68967157cee620ebedcc8c2ffd6fc7656532087b
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 26 23:55:44 2010 -0700

    altosui: command line args are converted to csv format
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7e0506dc2014b7178f52b950e8c1cb820b35f9c6
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 26 23:54:53 2010 -0700

    altosui: Remove debug printf from AltosState.java
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 49364608b59de7421ab00d87d2685bc3b5f58411
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 26 23:53:06 2010 -0700

    altosui: When parsing saved telem files, errors shouldn't abort file
    
    Make syntax errors in telem files just skip the current line and move
    on to the next one instead of abandoning the whole file.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a16db143fc7ca72dc91e7989420049192114642d
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 26 23:50:51 2010 -0700

    altosui: Serial line is in UTF-8 encoding. Deal with it.
    
    We read bytes from the serial line and need to convert each line into
    a string. So, save the bytes and at EOL, pass the whole mess to the
    string constructor with the appropriate encoding info.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0942912163255523d923140c01afbdb5da1c19b5
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 26 23:49:37 2010 -0700

    altosui: Add support for old (version < 3) telemetry files
    
    This lets the code read telemetry files from pre-released versions of
    the software. Not strictly necessary for production, but useful for
    analysing old files.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e383595cd281687de903fb6176564bbef270cb83
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 26 23:47:38 2010 -0700

    altosui: AltosEepromReader was mis-setting boost tick
    
    It was supposed to use record.tick instead of the (unset) state.tick
    value.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 651f6102ac79459fc8d5679d852c963dcb5bb3fc
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 26 23:44:25 2010 -0700

    altosui: add rssi and distance/dir from pad to CSV files
    
    Just adds a couple more fields to the CSV files that might be interesting.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3dc67c1401976d6e9e2e942d5a4707a4810a0404
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 26 23:43:00 2010 -0700

    altosui: Add AltosGreatCircle constructors
    
    This adds constructurs from AltosGPS pairs and also one from empty
    args (which defines both distance and bearing as 0).
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f0fd423d0bf83bc5c3f9d39e9c09397fbe8caed2
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 26 23:41:26 2010 -0700

    altosui: Move number parsing code to Altos general class
    
    This moves these shared functions to the global shared class.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 68b2b66d7574dfd0bd5e3571b8ffad32ca5d2b73
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 26 23:37:29 2010 -0700

    altos: mark gps date written only after it gets into eeprom
    
    Data logging doesn't start until boost detect occurs. As the GPS date
    is only logged once, if that happens before logging is written to the
    flash, then the GPS date will never get saved.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit aa6c27df5db6bdae59d00affccb891854a6caa18
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 26 15:59:09 2010 -0700

    altos: print GPS state flags in GPS 'g' command
    
    Having the GPS state information can help with GPS debugging.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 34055129b4008f6a9833887b12dee39ffa408002
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 26 15:57:09 2010 -0700

    altos: always rebuild ao_product.c to track git version
    
    The git version is built into ao_product.c and saved in eeprom log
    files, providing useful diagnostics about the firmware revision used
    for each flight. However, if ao_product.c isn't recompiled, then the
    updated version won't be included. Force recompilation of this file
    each time make is run to ensure that the final output contains an
    updated version number.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 99400fdc0f19ef538fc362dde5c3ab5b7cdac409
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 24 16:43:38 2010 -0700

    altosui: flush replies from serial link when entering debug mode
    
    We use replies in debug mode a lot and depend on them matching the
    expected parameters. The case which caused trouble was using
    TeleMetrum to reprogram TeleDongle -- sending the 'm 0' command (to
    disable telemetry monitoring on TeleDongle) to the TeleMetrum caused
    it to reply 'Syntax Error' which confused the subsequent flashing
    operation. Flushing that reply gets things back in sync.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ba086cc77273efe5397f60dcaccd1e3771441481
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 24 04:02:27 2010 -0700

    altosui: write USB serial number string while flashing
    
    USB serial number is encoded in UCS2 as a part of the string
    descriptors. Place those right after the other rom config bits so that
    altosui can find it. altosui is changed to write the serial number there.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 220f3afdaa432c65f8ad45be7cdbe5c8a3616db3
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 24 04:01:47 2010 -0700

    altosui: always display romconfig ui while flashing

commit f62b2aa08ebfd912b3c732397d43ff9f6162ec88
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 24 04:01:14 2010 -0700

    altosui: fetch existing romconfig for flashing

commit d93787284c8e514a929edb9f944c98ae0206a33f
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 24 03:59:09 2010 -0700

    altosui: Delay mapping Flash UI until flashing actually starts
    
    The flash operation may be abandoned before it even starts; this makes
    sure the UI doesn't flash up on the screen.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7d44cbd621d2b113ac2b802ef17e3d8a660ce7f2
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 24 03:58:00 2010 -0700

    altosui: disable radio monitoring while using serial line for debugging

commit 7bd220dfd9b3fb0e42eb90c3b37eb7b4169eb21b
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 24 00:29:11 2010 -0700

    altosui: Add ability to create CSV file from telem or eeprom files
    
    This creates a comma separated value file to export data for
    external programs.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 634a550149e7c344a22a637ba484f115592b1018
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 23 23:15:05 2010 -0700

    altosui: refactor logfile chooser dialog to share more code
    
    Move file opening logic into logfile chooser as it can be shared that way.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit afea6c264c5ebf12f1d629bd4bc724da86d11b7a
Merge: 0e17853 9d1b27f
Author: Anthony Towns <aj@erisian.com.au>
Date:   Tue Aug 24 00:02:31 2010 -0600

    Merge branch 'master' of git://git.gag.com/fw/altos

commit a55b132668a819cc26478a609cb79bd9190deb9d
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 23 23:01:36 2010 -0700

    altosui: Separate out log file choosing dialog to share with CSV generator
    
    This dialog will be shared with the CSV file generating code, so split
    it out instead of duplicating it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 295043112ccde35092945c286596f9045ee6fa05
Merge: 2007288 ef8376c
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 23 23:11:22 2010 -0600

    Merge branch 'new-packet-format' of ssh://git.gag.com/scm/git/fw/altos into new-package-format

commit ef8376c4dd8262a34e02b6bb9e19e907ac2f4330
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 23 22:08:30 2010 -0700

    altosui: make default Manifest look for built-in freetts

commit 56b906f535ac2f86bcab71addbbcd376d74f6a73
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 23 22:03:36 2010 -0700

    altos: Place rom config variables in fixed location
    
    The device serial number and radio calibration values are stored in
    flash, mostly so that TeleDongle gets them saved.
    
    Placing them in well-known locations (starting at 0xa0) makes it
    possible to find the previous configuration and to re-write it
    easily, without requiring the .map file.
    
    altosui doesn't have the .map file parsing code, so it relies upon
    this new technique. As a benefit, it reads the old values from the
    device before reprogramming it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4c0c099716197ef7539be0cf55bbb164f6804958
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 23 22:02:21 2010 -0700

    altosui: Finish device programming code
    
    Altosui can now reprogram Altusmetrum devices.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bd2b44ddd61fadd8bf8ee6bf783ce019b1be7cc0
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 23 22:01:38 2010 -0700

    altosui: Remove debug printf from AltosRomconfig

commit c3f57ffdb6c74de90d982eacd604e658ce9b00a5
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 23 22:01:11 2010 -0700

    altosui: flush serial output before waiting for reply

commit 8857ac5e43eac6db8d5594b8864df497a712242b
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 23 22:00:16 2010 -0700

    altosui: remove debug printf from AltosHexfile

commit b1758be01397fd49c441f40852f3558fe9343a2d
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 23 21:58:50 2010 -0700

    altosui: Add lots more cc1111 debug interface functions
    
    These are sufficient to program the flash.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f9e80f39bc39e5882bfe75f959b6501cb3277cd2
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 23 21:55:49 2010 -0700

    libaltos: use pipe to wake up getchar on close. use mutexes

commit 86f7b9314b042f2e512fdf35067817e68532867b
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 23 21:54:47 2010 -0700

    altosui: pad TM config dialog values to avoid clipping descenders

commit b8519b8669ff54741dd738ac343fbd2424451247
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 23 21:53:37 2010 -0700

    ao-dumplog: Fix --remote and --channel options to actually work

commit ebeb13688a9a5442c838641ede6ba0dc92c9a1a4
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 23 14:32:58 2010 -0700

    altosui: Add debug dongle API, split flash UI out
    
    Create an API to talk through the debug port on another AltOS
    device. Split the flash UI out from the flash implementation so that a
    command line flash utility can be written.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7f8d7978606abe544b1b9b6065c5480ed813b8ec
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 23 11:53:19 2010 -0700

    altosui: Add .ihx file reading code and stub out flashing UI
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2007288da8a83e3aa925e11cc196f1c65aab2e5c
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Aug 5 15:00:15 2010 -0400

    working on java packaging details

commit 44b26dd550eef789e70082ccaa46d7d430c67bce
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Aug 5 15:15:04 2010 -0400

    add freetts as a build dep

commit 0e17853c08f77debef3e8cf82e9cdb6a5079fc9b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 22 23:06:15 2010 -0700

    altosui: Set callsign when fetching eeprom data over the air
    
    The updated firmware places the callsign in each packet to comply with
    regulations, this ensures that TeleDongle has the current callsign
    configured.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 953bc3438b10b21f3d65d292356c4ab2de23cddd
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 22 23:05:20 2010 -0700

    altosui: Add TeleMetrum configuration
    
    This presents a dialog with all of the user-settable options in the
    TeleMetrum set for editing. Combo boxes are used for everything except
    the callsign.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e1463d8e265dfd42c824d90088cd2a51b4cf8131
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 21 17:57:31 2010 -0700

    altosui: Make teledongle callsign configurable
    
    Teledongle uses the callsign in packet mode; this provides a way to
    set that.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 09252ec22d58e946494e4ca2cf367bf3bbe1cc50
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 21 17:09:41 2010 -0700

    altos: Define USB product ID in per-product Makefile.defs file
    
    This allows Win7 to tell which kind of device is connected purely by
    USB id as it doesn't expose the USB product ID string to user space.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 22800dc094797e1e0ad99124198809d0360f7556
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 17 18:22:28 2010 -0700

    altosui: Select devices by USB vendor/product ID.
    
    Because Win7 doesn't expose the product name, we're swtiching to using
    the USB idProduct/idVendor values. This patch adds support for
    selecting devices by those new IDs.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d14c96663a1027164fa30ed89b53f5a9d3fdb82b
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 17 18:19:43 2010 -0700

    libaltos: integrate Windows support.
    
    This adds Windows support for discovery and I/O.
    
    The API to the library is mostly unchanged, except that it now exports
    product and vendor USB IDs as Win7 doesn't expose the product name
    anywhere that we've been able to find, so we'll be updating the
    firmware to use unique idProduct values for each product.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9d1b27fa147fc8b765d5be165ebef7ee0f85bd37
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 11 22:11:50 2010 -0400

    update changelogs for Debian build

commit b6da90b4627dde1fe88240c38c51559d8f781dd0
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 11 17:15:39 2010 -0400

    update changelogs for Debian build

commit 4918f73fd0a0f3f5d52907f95a0ec385e901d447
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 11 08:50:27 2010 -0400

    update changelogs for Debian build

commit f63f16a70e4d0535667a6364cafcbff026ee6a8c
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 11 08:36:59 2010 -0400

    update changelogs for Debian build

commit 294d9c7db21eaf1e71504dbcca5040371abcce55
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 7 22:30:55 2010 -0400

    ao-dumplog: add --channel option (for use with -R option)
    
    Sets the channel when downloading data with the -R option.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f317f1324b69b4241f4bb192e164b33d712d5a43
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 7 00:42:25 2010 -0400

    altosui: Start adding code to write csv files from eeprom/telem files
    
    This is a start to code which can write out a csv file full of flight
    data from either an eeprom or telem input file. It's not hooked up,
    but the restructuring necessary is finished and the output is started.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4738cb2fc639adb1d9237e6c903479f0690dd81a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 7 00:40:59 2010 -0400

    altos: add callsign to packet mode, increase payload to 64 bytes
    
    Untested, but it 'should' work. Need to add callsign setting to packet
    mode users.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b7699a5907e64bc7547fcc27e73f4a35bbaabfff
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Aug 6 13:09:21 2010 -0400

    altosui: Add comments to Eeprom reader

commit 0e917f3ff822616adb147517ac961422e5fedbfd
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 5 22:49:53 2010 -0400

    altosui: Compute flight state from eeprom data
    
    This lets eeprom files be used to replay flights.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a0a9b445a4d379730b67720f8d7b682d5206a582
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Aug 5 15:16:48 2010 -0400

    update changelogs for Debian build

commit e075b8623533965b1b77b77d38c2df32f5f77fce
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Aug 5 15:16:24 2010 -0400

    update changelogs for Debian build

commit 410de62715a0830f03b0a65d6c7730dff51e6ef4
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Aug 5 15:15:04 2010 -0400

    add freetts as a build dep

commit 0b85160c44d934f3d1352c1c07c296d01ceffc32
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Aug 5 15:02:17 2010 -0400

    update changelogs for Debian build

commit d091099753d9cae01c4805812425ebea19ec09cf
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Aug 5 15:00:46 2010 -0400

    update changelogs for Debian build

commit aed55ef1ce45b0f6e6fefeebf50be97607b31d65
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Aug 5 15:00:15 2010 -0400

    working on java packaging details

commit d8bf05f7ad55964c9bce0551e58f4ef6c9f721ad
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 5 13:50:18 2010 -0400

    altosui: Split flight record out of telemetry class
    
    This will permit either telemetry or eeprom data to be used to
    construct the sequence of flight events for reply or data generation.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 85a670b5a904d6750d0f179ae307baeb8fc7cbd2
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 5 13:40:17 2010 -0400

    altosui: Explicitly initialize Altos class
    
    Because the Altos class is never instantiated, the static initializers
    are never called, leaving the string to state mapping empty. Hand-code
    the call to the initialer instead.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 02f17f2cd26189e2676a9dc0d86bd959ed0bc3f4
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Aug 5 00:54:05 2010 -0400

    move to science menu

commit 9e8f7f75442303f9bfa99a0435984f5d36863ae6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 31 10:34:21 2010 -0700

    altosui: Split status and info panels into separate files
    
    This moves some code out of AltosUI.java into separate files
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9c9b35254c693b3ade42b24d1e29eaf31e6ba2aa
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 31 10:24:56 2010 -0700

    altosui: Clear displayed data rows as needed.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 88e0137a60d7a13ddb7781befa76650e13ad44ae
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 31 10:07:38 2010 -0700

    altosui: Merge gps date and time classes into gps class
    
    No reason to split out the date and time information from the other gps info.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1c3b2fe357d6acf28f48aeddd91693f10381be51
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 31 10:05:15 2010 -0700

    altosui: Capture config and version info in .eeprom files
    
    Instead of only writing the serial number to the .eeprom file, write
    all of the config values and all of the version reply to the .eeprom
    file. The config values, in particular, contain the accelerometer
    calibration data which is needed to correctly compute acceleration
    from the captured accelerometer data.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e286eb61ad2a90746c1c31f95d26d5edb48738d3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 31 09:57:49 2010 -0700

    altosui: rename AltosEeprom -> AltosEepromDownload, split out Altos constants
    
    Renames the eeprom downloading code and adds a new file to share the
    flight data constants across the various UI modules.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e3a9e3815db3f290e28b40ae02aa654f515cfc37
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Jul 31 10:55:27 2010 -0600

    update changelogs for Debian build

commit 8fc261c2b77bb8aab201a0649a84b5ffa236ce26
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Jul 31 10:55:07 2010 -0600

    see if my new freetts package works

commit 2f114c7ff6b0deddb790d34139bb11ac37f8c0da
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jul 29 13:30:36 2010 -0600

    update changelogs for Debian build

commit 7877496d47ce6d25210c0e1c6500666dbfc0876c
Merge: c71061a 4cf39b1
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 29 12:07:49 2010 -0700

    Merge remote branch 'origin/master'

commit c71061a37d3d3be2855b61cde33d2371989d7681
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 29 12:06:06 2010 -0700

    Make altosui test script executable

commit 4cf39b13a574cb656999cf329f5b08e7f910604b
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jul 29 12:57:31 2010 -0600

    update changelogs for Debian build

commit d1848193d8208388e4ccdfbed4e5663a9ba04dd3
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jul 29 12:56:59 2010 -0600

    add a jdk to the build deps

commit 9ad4984124b6c05114feac4c4ac078dc248ce16a
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 29 11:56:24 2010 -0700

    altosui: remove option to install to alternate volume

commit 2e797b18f0724caf7aaf96f45997998c7416f34e
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jul 29 12:50:57 2010 -0600

    update changelogs for Debian build

commit 89109f9dff3ce855d80da166e3362375282f745d
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jul 29 12:47:37 2010 -0600

    ugh, fixing failure due to aborted build

commit 6fb8546575f6d99676dbb1dce190b0b7cf24b657
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 29 11:45:56 2010 -0700

    Moved Mac OS packaging to altosui dir

commit 865d5cdf8931ffc796f608e3e12d7c5a70832825
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jul 29 12:45:18 2010 -0600

    add swig as a build dep

commit 91d75fb3919f606a1956bf8c6423a8012d99a56a
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 29 11:45:12 2010 -0700

    altosui: Switch eeprom extension back to .eeprom

commit 33ffd89d5a64c991d28bd7369b61e1faa18f605b
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jul 29 12:40:52 2010 -0600

    update changelogs for Debian build

commit 62b4cc51a0f54ef363cbff46caef80a0afecdea2
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jul 29 12:40:25 2010 -0600

    update changelogs for Debian build

commit 6f86db5e0360bef26b21336769b7635e3a11e160
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 29 11:24:47 2010 -0700

    Add Mac OS X packaging bits
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 950f0a8c54e5835ee5d8b0aea360bd8362c21bc5
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 29 11:09:19 2010 -0700

    altosui: construct Darwin application directory
    
    This adds the necessary files and build steps to construct
    AltosUI.app on a Darwin system.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 669c5f52abb972a82ed6efbee7a8c7d20afb5cd0
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 29 10:48:52 2010 -0700

    libaltos: build with java src encoding UTF8
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit efa0e034a161f4852947cbac06537d6ba4422a0e
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 29 10:48:25 2010 -0700

    altosui: remove debug printf
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 53c279b9e96da8b69837ae84038a78ca5707f2a5
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 29 10:45:02 2010 -0700

    altosui: Close serial, join reader thread, free altos_file
    
    Separating out the close and free actions ensures that the reader thread will not
    access freed memory or dereference a null pointer while shutting down the
    connection to the serial device. Otherwise, a race condition exists between the
    serial close and the thread join.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b8bc9994d8bfde6116c8a509e70ddf45fc4decce
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 29 10:24:59 2010 -0700

    altosui: Remove unnecessary freetts .jar files
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e33dbbba94ce42295e9fed9f4ba7e46f9eff1517
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 29 10:24:09 2010 -0700

    altosui: check for closed serial device before reading
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 27a2d0c00acf78628428c20ab68e2bfba06340da
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jul 29 11:02:38 2010 -0600

    update changelogs for Debian build

commit 537492dc961ee6a1945b1041ee3cc0d3f519a42c
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jul 29 11:01:21 2010 -0600

    update changelogs for Debian build

commit adf6cbcba23e24a3824f7e242ec37baa2750ab94
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jul 29 10:59:18 2010 -0600

    update changelogs for Debian build

commit d0fd53bdab2f480cd43b6d7010c2094f4fccda91
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 28 21:49:23 2010 -0700

    Reset GPS ready status when GPS comes unlocked on the pad
    
    If GPS becomes unlocked, then report that in the UI and via
    voice.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5fd225c3a52445ecdc7c04fac5e3d9a0db177c66
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 28 21:01:41 2010 -0700

    altosui: report rocket ground bearing at landing only if known
    
    if state.from_pad is null, then there isn't any data to report.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d2d772164af95a35ea0f5d2413a5be67de9a210f
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 28 20:18:36 2010 -0700

    altosui: Replace device dialog. Center eeprom monitor.
    
    This adds a custom dialog for selecting device, which makes it look
    much nicer on the screen and allows the user to double-click on an
    entry to select it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ea32290704a8ca468f01172166b561833b20c954
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 28 19:37:02 2010 -0700

    altosui: Fix Save flight data monitor layout, add cancel
    
    Use GridBagLayout to improve the appearance of the flight data monitor
    widget, add a cancel button to stop loading data (useful if the
    connection is wedged).
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ce90f3fe2aa6e23695ccccb36a8e6e614a08ba31
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 28 17:08:42 2010 -0700

    altosui: Add progress bar for eeprom downloading status
    
    This has a progress bar tracking the state and block count while
    downloading stuff from telemetrum.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6599e9576c3da9325a1731144c1b8bc4943184c0
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 28 15:41:34 2010 -0700

    altosui: Add eeprom data capture function. No UI yet.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8a6040e143ecc7830cc1c0114de85f3b72c067eb
Merge: 024d077 554a97e
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 28 13:29:51 2010 -0700

    Merge remote branch 'keithp/macos'

commit 024d077302f91bdb17abe70d3211ab0949dab8b9
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 28 13:29:21 2010 -0700

    Remove debug printf
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 826061eaca88c0dd75051a6006ef6703c91af595
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 28 13:10:11 2010 -0700

    Add voice test command for help in adjusting volume.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 71da54a5ce255395376a44586782ab8b6f3b289f
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 28 13:01:52 2010 -0700

    Make voice and channel menus work.
    
    Stores voice and channel data to preferences.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e76b9cc32bbcc5176d9bdd6f8d79778024627382
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 28 12:24:53 2010 -0700

    altosui: Catch errors opening USB devices. Limit list to relevant devices
    
    Avoids a segfault when failing to open a device. Limit listed telemetry
    devices to just TeleDongle units.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 172a2817dde6718724f2b5fad5a7761801446fa0
Merge: f2a006f 81bf204
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 28 11:20:22 2010 -0700

    Merge branch 'macos'

commit f2a006fd98045066bdf429cc142d033e9feb0a8f
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 28 09:31:09 2010 -0700

    Make ao_log_data re-entrant as it is used for both sensor and GPS logs
    
    Because ao_log_data is called from two different threads, failing to
    make it re-entrant would cause the 'log' pointer parameter to get
    overwritten if another thread asked to log data while the eeprom was
    busy writing out a block.
    
    This would cause the second thread to re-writing data from the first
    thread's address, but without re-checksumming the data as the checksum
    is computed before the log mutex is taken.
    
    The bug can be seen by log blocks with invalid checksums.
    
    Here's what happens with the ao_gps_tracking_report and ao_log threads:
    
      ao_gps_tracking_report		ao_log
    
       Writes a bunch of records
       *blocks* in the eeprom flush
    					sets ao_log_data 'log' to global 'log'
    					computes checksum for 'log' block
    					*blocks* on ao_log_mutex
       Wakes up
       sets ao_log_data 'log' to 'gps_log'
       writes remaining records
       'gps_log' is left with svid = 0
       *blocks* on ao_gps_tracking_data
    					writes data, reading from
    					the current ao_log_data 'log'
    					pointer which points at 'gps_log'
    
    Making ao_log_data re-entrant fixes this by ensuring that the 'ao_log'
    thread has its own copy of the ao_log_data 'log' parameter.
    
    I made this function take an __xdata restricted pointer so that it
    could be passed in the dptr register instead of needing to go on the stack.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 554a97ef455c801dcab825815f44520f96f4c3f3
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jul 27 19:29:38 2010 -0700

    Force java source encoding to UTF-8

commit 81bf2042ca39eb106b789e5a08647c3114669358
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jul 27 15:29:28 2010 -0700

    Java voice reporting cleanups.
    
    Make sure it says something at the end of a log file replay.
    Make sure it reports max speed after motor burn out, and max height
    after apogee.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8f2f38f2a9fb0c106e2c6b60cdc205292ce329ea
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jul 27 10:18:20 2010 -0700

    Java clean ups -- use varargs where possible, remove AltosSerialReader
    
    Add methods that format stuff using String.format for voice and serial
    link, remove AltosSerialReader class and just embed that in the
    AltosSerial class directly.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 734cd15ccff691f851359518ce6118f29dc9f88d
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jul 27 10:18:09 2010 -0700

    Remove directories as .class file dependencies; it makes them get rebuilt all the time

commit 809feb75e2155e84aebfcc431867edcfd9054670
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jul 27 01:22:56 2010 -0700

    Clean up altosui build a bit

commit 3784578a40dcc61f447435cfdf22e13c409cb9c0
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jul 27 00:16:15 2010 -0700

    Add application icons for Mac OS X

commit 2c273710ea9b76ebee4101893f9fe84be8a02354
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jul 27 00:11:58 2010 -0700

    Add Mac OS X packaging files for altosui

commit a58c44cd904e5429b807e5c23913051ed6484edc
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jul 27 00:09:41 2010 -0700

    libaltos: build fat 10.5-compatible library
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4e3285575e0c7d029e799258587e965779990099
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jul 27 00:09:18 2010 -0700

    libaltos: make clean remove all built files
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fb8507975c6e081de2e909eca6faaa8f868b609e
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jul 27 00:08:38 2010 -0700

    libaltos needs -I. on all systems
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0a782026f6b19e84ffd44f1ae1b466363474bd30
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jul 26 18:10:07 2010 -0700

    Darwin doesn't have strndup.
    
    This provides a private version of this GNU extension.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b51497597868a40df039dd3ca11b35a6258bbbb3
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jul 26 18:04:10 2010 -0700

    Re-enable Linux support for altosui.
    
    This steals code from cc-usbdev for scanning the USB tree and uses the
    same tty code as on Darwin
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e9153c4f2c71ed965822fcfe5112d2bc38506baf
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jul 26 17:04:04 2010 -0700

    Re-enable freetts

commit 17188f36fe18c23bc2eb877ac9a01b7693f4b863
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jul 26 17:03:47 2010 -0700

    Present list of altos devices in nice format

commit 005e2d6a7bb3b0546b0c1273296875621632ec6d
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jul 26 15:42:48 2010 -0700

    Switch AltosUI to libaltos for device access
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c726d8f6eb861801d7543552beab6ee2c920c96f
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jul 26 15:41:39 2010 -0700

    Add libaltos which talks to USB connected altos devices

commit 05111d5be4d37bedaaee6415d6ee27347e6a112c
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jul 26 12:52:17 2010 -0700

    When the EP0 IN buffer is full, don't panic, just skip sending another
    
    If the host doesn't pull the IN packet out of EP0 before sending
    another SETUP command along, the IN buffer will still be busy when we
    try to reply to the SETUP command. While I don't quite understand why
    this would ever happen, there's no need to panic about it, just drop
    the reply packet on the floor.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d0647950b76bfa9942e4f8cf87353f2b724099f4
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Jul 21 14:26:36 2010 -0600

    fix text since TM only has one led to blink

commit 8eda9fe94a7fd40cb84f50e17e64956f1584ebdc
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Jul 20 22:24:32 2010 -0600

    update changelogs for Debian build

commit cd8aa79de72b8b6b3a26d0c2522e94c621b70f13
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Jul 20 22:24:01 2010 -0600

    update to latest Debian standards version

commit 3284c7516e302e6db403d18866924ad926ffb2a7
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Jul 20 22:20:08 2010 -0600

    update changelogs for Debian build

commit 8f1933717e3acfbcb09191da6e79a7944f91f9d9
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Jul 20 22:19:27 2010 -0600

    reflect documentation file name change

commit 2cf1ef555a7feceeb1c333b273c19dd848e8d03f
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Jul 20 22:15:47 2010 -0600

    update changelogs for Debian build

commit 74c67fc466118b86b4eb5173f7a6886ae220a985
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Jul 20 22:14:27 2010 -0600

    add build dep for sndfile

commit 0794ab1e13313fa49b7caf01aef20b052ad78a88
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Jul 20 22:10:01 2010 -0600

    update changelogs for Debian build

commit 15a6791ba8f8313b6b55752c3fa7dc254d56dd5c
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Jul 20 22:08:56 2010 -0600

    update changelogs for Debian build

commit e747954b6a9e71705f619684df8a118a909b1039
Merge: bd40a5b 695879d
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Jul 20 22:07:22 2010 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit bd40a5b431847c071f5c486d754eca5627e5e3b9
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Jul 20 02:12:03 2010 -0600

    significant update

commit 695879dbccfc5ec6b79698653c58814158f91686
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 14 19:07:02 2010 -0700

    Switch DBG pins to GPIO when using any debug commands. Reboot to restore.
    
    If you want to use TeleMetrum as a debug dongle, you need to flip the
    three pins used to talk to the remote debug port from SPI mode to GPIO
    mode.
    
    This patch doesn't provide any way to get back to SPI mode, so you'll
    have to reboot the TeleMetrum to write out config parameters or log
    flight data after using any debug commands.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a9ec6be0e92dee01f7aac006ef6f7779c1da1b36
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 3 17:42:36 2010 -0400

    Telemetry code was mis-computing RSSI
    
    The RSSI data from the hardware reports in 1/2 dBm increments, and so
    must be divided to report plain RSSI numbers.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 62294ea3830d3ea261a8761edc9fa6f98201d321
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jun 24 12:38:23 2010 -0700

    update changelogs for Debian build

commit 4766b13d1241fa585907c6f77707d2d4b3ccff75
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jun 24 12:37:55 2010 -0700

    update changelogs for Debian build

commit 52834517c0706b1f16fb81643a42dc1c1997e00a
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 21 15:53:33 2010 -0700

    Abort any in-progress radio operation when changing radio channel
    
    In monitor mode, the current receive operation must be aborted so that
    the radio channel change can take effect without receiving a
    telemetry packet on the old channel. Aborting any in-progress radio
    operation will make sure that happens.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5933eaa44fe45027b856f1303dd657b974eb53e7
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 21 11:44:32 2010 -0700

    ao-postflight: was walking off state.data array

commit 11d155d558d0b121b66f089adee0a47d71f65a78
Merge: 544003a 24393ea
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 16 21:54:06 2010 -0700

    Merge remote branch 'mjb/master'

commit 544003a8da0248fd6f3c62ded86af74ab7cdadf6
Merge: 267923e 93c1e29
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 16 21:52:23 2010 -0700

    Merge remote branch 'origin/master'

commit 267923e56e22b3635a21f42ef77a3a36158bc273
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 16 21:49:43 2010 -0700

    Add special code for USB panic's.
    
    The USB system may panic if the hardware isn't ready for IN data when
    the driver thinks it should be. This adds a special panic code to make
    figuring this out easier.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 50ae347bf9de49ccfc92d26888f36e155fb406a3
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 16 21:48:04 2010 -0700

    ao-view: disable radio telemetry monitoring during channel change
    
    This makes ao-view disable the radio so that the channel change has an
    immediate effect rather than waiting for a packet on the old channel.
    
    Note that this should also be fixed in the TM code itself so that this
    change wouldn't be required.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 24393eab0ea085f2d0224b59fdc3c00693e5d3a9
Author: Mike Beattie <mike@ethernal.org>
Date:   Thu Jun 17 14:04:01 2010 +1200

    Extension to KML output format, and minor bug fix
    
    Extended KML output by breaking flight into coloured segments representing
    flight state. Add extra statistical information to description bubbles
    visible in Google Earth when clicking on links in My Places.
    
    Fix Bugs:
    * output kml to file provided as argument.
    * move kml coordinate output code to take advantage of nsat calculation
    * remove superfluous %9.2f format specifier from raw_file output.
    
    Signed-off-by: Mike Beattie <mike@ethernal.org>

commit 93c1e29b07c331a5ca6e0f647b9d2e9266ed3014
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue May 18 23:12:45 2010 -0600

    updates from Bob

commit bb46c9a1da5788a082e4483e576a5a6d3963507b
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue May 18 00:26:28 2010 -0600

    update changelogs for Debian build

commit 16c4cae7ebed7bd3ee0f12b8872bf950574f17e8
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue May 18 00:26:00 2010 -0600

    update changelogs for Debian build

commit bc89d962c87b50e5487628f8ca25e4443ac4823d
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue May 18 00:24:03 2010 -0600

    merge the altusmetrum-themes package

commit 0c6cf621dfd8339b8bc3915750a3147235f1331b
Merge: 32e430b 563a9dc
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon May 17 23:59:43 2010 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 32e430b8a5f93b312f6359b4d553bad92ed37b19
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon May 17 22:43:19 2010 -0600

    merge in a derivative of Bob Finch's mere mortals guide as a getting started
    chapter

commit 563a9dcdfef42718370c49f16cc2271642b3e055
Author: Keith Packard <keithp@keithp.com>
Date:   Mon May 17 21:30:57 2010 -0700

    Finish basic flight monitoring UI with voice using FreeTTS
    
    This captures telemetry data to log files and presents flight status
    information in audio form using FreeTTS.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 69092ffd23ac1928d5c84413fd00c2423f313fc2
Merge: 3c2211a cc002c0
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon May 17 20:10:46 2010 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit cc002c0a43a02845ba67d1a61828be382f307b2e
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 16 22:31:23 2010 -0700

    Fix telemetrum.inf, tested by Adrian and Keithp

commit 3c2211ad7877d622435bc9e8c9c0b01d62be6ff0
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu May 13 15:37:37 2010 -0600

    typo fix from Bob

commit f0433c83d76e90d78fb86a1f4a2f145f3c57fb25
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu May 13 01:27:39 2010 -0600

    updates from Bob

commit 0f05cf06e3f1ec510b11d993d9038211ac66c97b
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 12 19:54:04 2010 -0600

    update changelogs for Debian build

commit 6bd85138c1bfbc1d8b78dce1501870a65a64db36
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 12 19:53:40 2010 -0600

    lose the quotes since they apparently aren't necessary

commit d639144b9bb840fbbced199738787ec054eddf12
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 12 17:04:41 2010 -0600

    update changelogs for Debian build

commit ae6854df00579ea1c3486f1bf8f19443d5ac9498
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 12 17:04:13 2010 -0600

    update desktop file for conformance with current standards

commit 7191d74e680a63728f5eb139069a674fef969e6c
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 12 16:45:00 2010 -0600

    update changelogs for Debian build

commit 68eaaa694bb7bf20642ad11eac8a13c1c8e21b7d
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 12 16:44:14 2010 -0600

    add desktop file

commit 9d3d09578381bb6e6f88c39b0e945371bbc22c5a
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 12 16:34:49 2010 -0600

    add desktop file provided by Bob Finch

commit 3cc1dad3b497524ffef61190dd68908cb19e8c35
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 12 16:28:35 2010 -0600

    add initial package build scripts for Arch Linux from Bob Finch

commit 1b8671bd0a00cec6ae4ccf442cd007b18af82fb0
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun May 9 01:41:00 2010 -0600

    lots of updates

commit 53b9a9bc28a9278249ff37f92110c21380e93cda
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu May 6 13:59:23 2010 -0600

    update changelogs for Debian build

commit cde60f16f6ab2cdd5010a0e106ae312d144947cf
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu May 6 13:58:31 2010 -0600

    Revert "Merge remote branch 'remotes/origin/fix-reset'"
    
    This reverts commit 314d27a73c903fef2968dabac3d5313573713460, reversing
    changes made to fa77db2ffd8a749c93767db5a6311131e00473ae.
    
    For whatever reason, this is utterly not doing the right things today!

commit 8be04df7e1e0a369ffb1137c6e2ec63585e3c935
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu May 6 12:48:00 2010 -0600

    update changelogs for Debian build

commit 314d27a73c903fef2968dabac3d5313573713460
Merge: fa77db2 823fc0a
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu May 6 12:47:30 2010 -0600

    Merge remote branch 'remotes/origin/fix-reset'

commit 823fc0ac27b8df9b4ba1ca0f229b431baf5b46dd
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 5 12:50:39 2010 -0700

    Don't change dbg clock while changing reset_n. Use 20ms everywhere
    
    This changes the reset code to be more conservative about changing
    things at the same time, and also sets all timings to 20ms to make
    debugging with the scope easier.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fa77db2ffd8a749c93767db5a6311131e00473ae
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 5 02:34:41 2010 -0600

    update changelogs for Debian build

commit 8b6767e24a88482dbd3d4c4c969a0be08917d22b
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 5 01:32:46 2010 -0700

    Use ao_delay to sleep for 2 seconds instead of trying ao_sleep
    
    ao_sleep doesn't delay for a specified time interval as much as one
    might want it to.

commit e6bb80975fde20928a830170f0821d59a8c72690
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 5 01:31:57 2010 -0700

    Fix all stdio reading functions to be __critical
    
    Oh, right SDCC has '__critical' to mark sections of code that need to
    run with interrupts disabled; no need to use EA = 0 and EA = 1.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ff03cdf746b83542ebcca00d32e6cc69ccfc122d
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 5 01:57:54 2010 -0600

    update changelogs for Debian build

commit 8702f497c4278648303eced1aed5bd76d559521a
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 5 01:57:11 2010 -0600

    initial attempt at a telemetrum turn on script .. needs work

commit 01cefa181b04e53c20109ef8f3ffff633744da73
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 5 01:56:51 2010 -0600

    update changelogs for Debian build

commit 45a1c2d2dfb69e5269ef2756fcd0f734b48d41cb
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 5 01:54:33 2010 -0600

    update changelogs for Debian build

commit f7ff3278bb670df59d7425a014cfe8e3718fea3f
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 5 00:44:42 2010 -0700

    Disable interrupts while reading from stdin
    
    With multiple input source support, there is a lag between asking a
    device if it has data and then waiting for more data to appear. If an
    interrupt signalling additional input arrives in this interval, we'll
    go to sleep with input available.
    
    This patch uses a big hammer by just disabling interrupts for the
    whole process.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit aa9ff021d683764a43800eaa18ea0c9be5134939
Author: Keith Packard <keithp@keithp.com>
Date:   Tue May 4 21:42:54 2010 -0700

    Revert "Add optional 's' command to packet slave to enable/disable slave mode"
    
    This reverts commit e7dc7fab787df63a4de72c8450e94092eb04d7db.
    
    This patch didn't work, and magically appears to break flashing TM
    from TD.

commit 8c95f33686f69da717013ec2c25dbcd99c03aa45
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 29 17:48:44 2010 -0600

    more text created during SFO->DEN flight

commit af0613ffc178b9b1f011c315923f92f2581fe53e
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Apr 27 00:18:43 2010 -0600

    update changelogs for Debian build

commit 99094f02bf4849ba1f6b9842ded6c39d894320f7
Merge: 641e76c 75d8ffd
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Apr 27 00:17:37 2010 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 641e76c5d419dab057298541b3a7546877643198
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Apr 27 00:17:15 2010 -0600

    add some RF usage information from an email reply sent today, and re-indent

commit 75d8ffd4eadf31d50b2f58c021530c17ff1bdc66
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 23 13:53:25 2010 -0700

    Autodetect flite voice registration function
    
    Old versions of flite exported the function 'register_cmu_us_kal'
    while new ones export 'register_cmu_us_kal16'. This patch just checks
    which one is available and uses that.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 97f4874d19ec05c81a04a3ecd06abffcf7fbfafc
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 22 16:25:35 2010 -0700

    More ALtosUI changes

commit e7dc7fab787df63a4de72c8450e94092eb04d7db
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 22 14:53:44 2010 -0700

    Add optional 's' command to packet slave to enable/disable slave mode
    
    This option has been selected for teledongle so that you can use slave
    mode and hook two teledongles together over the RF link.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f4383394b5d2b275b21e3ce8040d8cb9e48bb375
Merge: 5f93cf8 c879b17
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Apr 18 08:36:07 2010 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 5f93cf8c73555f43c14b1b0757f264bde69e9b8a
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Apr 18 08:35:43 2010 -0600

    capture work done on SFO->DEN flight

commit c879b178d83c9a9a521f42a960b10e19b11cee92
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 10 22:09:57 2010 -0700

    Increase reset switch time to 100ms
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b3a2e1221735d54dc3f2b97b4e75ed6f33ab8227
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Apr 10 15:01:14 2010 -0600

    update changelogs for Debian build

commit 9394393c24c0a96b94319f2d0aa78fb498a121c9
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 9 17:51:01 2010 -0700

    Only have the slave return a packet if it received one.
    
    When the receive is aborted to switch modes, it's important to not
    immediately re-acquire the radio and try to send a packet as the
    aborting thread won't know to kick the receiver again.
    
    This prevents the 'C' command from locking up as it tries to stop the
    packet slave before turning on the transmitter.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ce39372a3aeffff1a08d609e63164a00cf974663
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Apr 9 13:50:49 2010 -0600

    wrong Yaesu model

commit a832c7e9d9e9e420e1281136188bd53b34c56464
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Apr 9 00:10:03 2010 -0600

    update changelogs for Debian build

commit c0ee1ae25e1d18138d8372f47085de48ffada344
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Apr 9 00:09:21 2010 -0600

    file changed by auto tools

commit 25e69ebfec94560e0714cf2cc623dc9697b4ea99
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Apr 9 00:08:32 2010 -0600

    update changelogs for Debian build

commit ea5d4f01d18d93d032f05933041b7b6881289780
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 8 22:45:04 2010 -0700

    libflite may forget to reference libasound

commit 4b02f293e9c32a568fad89558274f21157e7d473
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 20:08:07 2010 -0600

    update changelogs for Debian build

commit 5c3b6e2d1989bcaa19ae3e294f297ec3e5648a53
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 19:56:40 2010 -0600

    update changelogs for Debian build

commit 01e524f11a67390a8ea1f20aa2d611909b4da363
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 19:55:05 2010 -0600

    choose a better set of docbook xsl files

commit f93c9bf3695862db31f2c3b3bc5a7bb24ef3766c
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 8 17:28:17 2010 -0700

    When changing RESET line, delay 20ms
    
    The GPS data sheet suggests a 1uF cap on the reset line to ensure it
    is held low long enough for the power supply to come up to voltage. TM
    v1.0 loads a 0.001uF cap there, but in case that isn't large enough,
    it could be replaced with the larger one. This change makes sure that
    even with that larger value, the debugging link will be able to reset
    the target.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit baaaac499cfbc1286ae55374cfdc796d32983b92
Merge: a4356b9 dec9971
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 8 13:31:23 2010 -0700

    Merge remote branch 'origin/master'

commit a4356b9bcf679c4d7b88fbbad77a98ecb0f80098
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 8 13:30:16 2010 -0700

    Use 16-bit flite voice (which appears to have changed symbols recently)

commit 447c121fc1ceb878e45718ad1364a5349965a59a
Merge: 10330d2 53ca3f9
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 8 11:46:56 2010 -0700

    Merge remote branch 'origin/master' into altosui

commit dec9971d70f17067ba0051206851b49c7604ac85
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 12:43:03 2010 -0600

    update changelogs for Debian build

commit 6629ec52def8917ad033847812a1adc4c3e9c947
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 12:42:47 2010 -0600

    lose the url entirely for now

commit a1539a075a0cc79c9122fea878d9a20ee722a18c
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 12:41:42 2010 -0600

    update changelogs for Debian build

commit 934434ffb3514fe9ff95692784750d7c5217a5d3
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 12:41:28 2010 -0600

    fix typo in url

commit 8a067cd0eebbec313fc39086747ef618f2d1cf37
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 12:36:18 2010 -0600

    update changelogs for Debian build

commit 05ad58389fa3814ecb56344bf4ec3a3e025920a2
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 12:34:54 2010 -0600

    need another build dep

commit 6fbdc7037db185f03bd5ff96b9d9320646572df7
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 12:28:49 2010 -0600

    update changelogs for Debian build

commit 8f1d47e9cd61738e516d15fc97d5730d80611e87
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 12:28:20 2010 -0600

    update changelogs for Debian build

commit 10330d23518c94a8b791193a97a6cc07b1c9a97c
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 6 00:58:00 2010 -0700

    Enable telemetry monitoring
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9e10e43eff9de3f034da49c4f88728fb933f5035
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 6 00:56:57 2010 -0700

    Tasks may move in task structure as a result of ao_exit
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a7fc7901cd591c93d9d0cffeec2977ebb17554d4
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 6 00:55:19 2010 -0700

    TD reports "not-connected" when GPS has 0 sats

commit e064d05da87926c19fb665b40fb280fb59328183
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 6 00:54:52 2010 -0700

    serial port read function cannot be interrupted. poll every 1 second

commit c099a67d9ea37e731e0eca318102560281ac240f
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 5 22:42:05 2010 -0700

    Interrupt running replay thread when starting another replay
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit cc600a0389720bc7e435dbda8bec080ef19e0c58
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 5 22:21:46 2010 -0700

    Add Linux device discovery
    
    AltosDeviceLinux.java scans /proc to locate suitable devices. This
    will be hooked up to the UI shortly.

commit c28646d72005daeadb70b95fd3b0050bd752cc55
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 4 20:55:30 2010 -0700

    Switch TeleMetrum from v0.2 to v1.0
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d22ba55ae0e056530a727df50f14ad853d79a2c8
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 4 20:55:18 2010 -0700

    Clean up some altosui comments

commit 6251e89c6eea655769f77bc18e98e79c99cf3cad
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 4 19:54:46 2010 -0700

    Don't abort the radio when enabling telemetry monitoring
    
    If telemetry monitoring is already on, then there isn't any point, and
    if it's not on, then presumably there isn't any radio work to abort.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b0b99f30c4e00689e9faceb363a5c7284541c6be
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 4 19:48:50 2010 -0700

    Make ao_radio_idle keep trying to get the radio to idle.
    
    Attempting to abort a radio operation could lead to a hang if the user
    of the radio jumped in and started using it again before the task
    attempting to abort woke up. This change just keeps smacking the radio
    until the radio goes idle long enough to detect it.

commit 0e7abc9fedec568b431c983d3df1b0b29f4f10e3
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 4 16:32:04 2010 -0700

    Use RXTX for serial comm. Add logdir preference saving

commit c66eebad323e4572bb7cc23bc476ee144f03e9b8
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Apr 3 08:02:44 2010 -0600

    rewrite urls in docbook format

commit 3d34c488c5b71020d86f83156fd821fd860bf214
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 3 00:02:44 2010 -0700

    Make .jar file

commit 4bea4c327e002ce8f88218f0d840af7c1521bc35
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 23:25:02 2010 -0700

    Remove unused cell renderer class

commit 4ad062969ae8a608b8428620579bbe114e580a11
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 23:20:38 2010 -0700

    Remove GPS data missing from skytraq. Save max height/accel/speed

commit ebd49d4ec6b0b60c85b2de45cfe2e36add8fe9bf
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 23:05:40 2010 -0700

    Report current gps nsat, not last locked nsat

commit 3f9b66b307ee88172151e3bee58e50f5acbde109
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 23:00:30 2010 -0700

    Clean up GPS data formatting

commit 9cc48698ec14c34d437baad7b6540edc31e9741c
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 22:47:40 2010 -0700

    Fix state updates

commit 6d523ee4dad3b9890d3cf05852459101fe7e26ea
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 21:48:41 2010 -0700

    Fix status update

commit caa0bf49668344937483190d1c258bfa32971d19
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 21:44:00 2010 -0700

    Fix up table formatting

commit a579402f428dd6a0529505069d1846f70b83ab5d
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 18:10:59 2010 -0700

    Display table of flight info. gps is not working yet though

commit 65079f84ea64220fa928c3ad96652fed159bf74b
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 16:07:40 2010 -0700

    Steal C code from ao-view

commit 02f2be90879b682b6e648cf2debc83223d127b9d
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 13:37:52 2010 -0700

    Add telem parsing code

commit 8c600abf87c95f8f214b5e56ff6eab955795dff5
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 1 23:56:47 2010 -0600

    crudely incorporate "day in the life" info from web page

commit 53ca3f98aeb70cb780031fee788de950e4388cf6
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 1 23:39:42 2010 -0600

    tweak copyright assertion

commit 6454e309858aeef7912e862de8632618d89b4205
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 1 18:31:14 2010 -0700

    Fix windows install file

commit 584ab100640a07dec6e06829e73b7260d17d2232
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 1 18:30:56 2010 -0700

    Add Windows install .inf file

commit a06bee96e648d9ded8776f3d6cba9505e7be1a60
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 31 23:05:03 2010 -0700

    Add telemetry data parsing code

commit 7f233369e32c3254165ee251df0a3dbc21ea5a29
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 31 13:49:54 2010 -0700

    Start adding java-based UI

commit 76768804e68ed09421d7a48cb0b390f102ce2d76
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Mar 30 23:26:35 2010 -0600

    make lintian happy

commit eb3cc3e9b60ec23acbb7d797affa743d671801ab
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Mar 30 23:19:48 2010 -0600

    update changelogs for Debian build

commit 00f49c8fb0aa38331360bdb85c32bcebe60dcdc3
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Mar 30 23:19:07 2010 -0600

    fix typo

commit f03ed0876c67b58624abf0c14bf73444b0322d3c
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Mar 30 23:18:37 2010 -0600

    update changelogs for Debian build

commit b41e617080fe825f7810ee5eee52ea37f7618ec6
Merge: 28e40cc df7bda1
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Mar 30 23:15:32 2010 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos
    
    Conflicts:
    	ChangeLog

commit 28e40ccfcd80ab8764d4aa235257cea4d193a0c1
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Mar 30 23:14:47 2010 -0600

    update changelogs for Debian build

commit 20d4d410e0fc04fe192e309811eed6c0194fa5a8
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Mar 30 23:11:40 2010 -0600

    initial harness for documentation

commit 9801ff7de21027935f52ccabaa3ff157e22d21ce
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Mar 15 12:04:18 2010 -0600

    move gbp.conf into debian/

commit df7bda1f32b0049c3878c325ea0b55999f3980e3
Merge: 23da4f3 a7042fe
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 12 10:38:26 2010 -0800

    Merge remote branch 'origin/master'

commit 23da4f3bcdd1d780c9e1f6b68ad2fb309fcae6ba
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 12 10:37:32 2010 -0800

    Document the ao-dumplog '--remote' flag for radio-link downloads
    
    The --remote (or -R) flag uses TeleDongle to fetch data over the radio
    command link from TeleMetrum. It's been there for a while, but the man
    page failed to mention it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 93df98898f8cd199ae13158bc4f65e3494c954ad
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 12 10:35:12 2010 -0800

    Round radio calibration value instead of truncating
    
    The radio calibration function in the bring-up code was truncating the
    radio calibration value which caused the resulting frequency to
    always measure above the target frequency, instead of trying to get as
    close as possible. This change will result in a closer frequency
    match, but may sometimes be below the target frequency.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a7042fe7d065d1da1252be5ad43e3c9856214dc8
Author: Bdale Garbee <bdale@Deborah.(none)>
Date:   Fri Mar 5 19:11:11 2010 -0800

    update changelogs for Debian build

commit eda5e1166a97766aa22561beaa1086ba4e19ee16
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Mar 4 17:33:39 2010 -0700

    update changelogs for Debian build

commit 6e61170d42936c18cd6efba6f4c14af616a30745
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Feb 28 18:24:46 2010 -0800

    Need to duplicate new altitude conversion code in aoview.
    
    Altitude conversion is now done with a smaller table and interpolation
    instead of a giant table.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e4e17e6d3844ae682a0e7a9469a522359bac77b6
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Feb 27 17:36:13 2010 -0700

    update changelogs for Debian build

commit a1478f65538fdaac7b58ffbd958a035b74956099
Merge: 901fce5 bbf8c9f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 27 15:19:33 2010 -0800

    Merge remote branch 'origin/master'

commit 901fce5fe3e2762406079ecaa787612b5ed4b34a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 27 15:18:47 2010 -0800

    Add .gitignore for ao-bringup
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7aab73a265841aac817ea34235dd1eb819debf76
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 27 15:14:04 2010 -0800

    Fix up LED colors for each product.
    
    Different products assign different color LEDs to the two available
    LED drivers (P1_0, P1_1). Make the LED color pin assignments
    per-product (in ao_pins.h), then deal with not always having a green LED.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1d6d8d76ec65373ffee70add75d183f5c4168f61
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 27 15:11:44 2010 -0800

    Eliminate deadlock when writing config from radio link
    
    Writing the 'Saved\r\n' string would fill the packet buffer and cause
    a flush to occur, which would need to wait for the radio link to
    receive and transmit a packet. The radio link always re-fetches the
    radio channel number when lighting up the radio, so it need to look in
    the config space. If the config mutex was held by the config writing
    process while the radio was trying to get the channel number, then
    we'd get a deadlock.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f1956ebadd7bf46b84a05a0c383b6404ca26b344
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 27 15:10:16 2010 -0800

    Leave .ihx files in the build directory too - easier to debug that way
    
    sdcdb wants the .ihx and .cdb files in the same directory, so humor it
    by copying the .ihx files to the src directory instead of moving them.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bbf8c9f1748af3f1fac08ddf80ae98da2e9b5727
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Feb 26 15:21:12 2010 -0700

    create a turn on script for lighting up TeleDongle v0.2 boards

commit 461d4a1948e112ec7353caf88967391d876469dd
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Feb 26 10:33:13 2010 -0800

    Add LED test

commit 5d7a3a5fbc0af4621c67a6fd51a9c9d5ae688fa5
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 25 16:40:13 2010 -0800

    Fix and document the ao-rawload --run flag
    
    This allows ram-based programs to be loaded and executed easily.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1e60deca147c85a064719dfad14ccabd1049bbbd
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 25 16:33:34 2010 -0800

    Allow product names to have suffixes (like board revisions)
    
    When looking for a board by product name, just look at the prefix of
    the name instead of requiring an exact match. This will allow products
    to have board version suffixes.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f4d5790a284e2d02dd7568fbca90402fa5ed1aea
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 25 16:32:57 2010 -0800

    Add ao_radio_xmit to help test boards without flashing them.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d7d551b0078acb1596a9b9023c3df6dbfa46213c
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 17:30:23 2010 -0700

    update changelogs for Debian build

commit 2f45953ee54034209a23c254e65da36e44cf075f
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 17:29:47 2010 -0700

    un-muck changelog

commit 540f86678853e7ea80ae91f3f2ec0ec88c5b1ca7
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 17:27:51 2010 -0700

    debugging

commit cdccd92f6ed97be7385e84de5694064cb8f43946
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 17:25:28 2010 -0700

    conditionalize use of git on executability of /usr/bin/git binary

commit 54dd7a200e6956aace5a580d4c4d6a10a13c654b
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 17:22:45 2010 -0700

    update changelogs for Debian build

commit 4b6b28530206c6fdbe46699b81746fbbcab5b148
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 17:22:20 2010 -0700

    see if this works

commit c74958d3e8c5ce8006a9f9f6853238fce0c77432
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 17:13:29 2010 -0700

    move git-using variable declaration into the prebuild target

commit cf091a7252eba09902a42a3cfe7b4d6a343907ce
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 16:44:44 2010 -0700

    update changelogs for Debian build

commit deccc10f0305c0cd02bf6317d6dc9d2ae38c3dac
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 16:43:32 2010 -0700

    add gawk as a build dependency since strtonum is a gawk extension

commit ac45da6e61597dcdb119b976f7301b2cc7fdced4
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 14:57:26 2010 -0700

    update changelogs for Debian build

commit 24912821b3230b8357b9e0094cd69fa0bccc5513
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 14:53:27 2010 -0700

    update changelogs for Debian build

commit 82fdbfe1229d1ea5e6906ea240d54b3da73d9a69
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 20 21:35:43 2010 -0800

    Must install .map files for ao-load to work
    
    ao-load uses the .map files to rewrite the serial number and other
    config parameters into the program flash.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a5215c2bd9249a285fc834db0c453fb3e7daed87
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 20 21:20:05 2010 -0800

    Add back stack size checking to altos linking phase
    
    This verifies that the stack start specified during the compile
    will work with the resulting program
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 18eeb79026f7e5c54bf99435537c024427011a36
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 20 21:05:45 2010 -0800

    Quiet make output.
    
    This borrows ideas from the notmuch project to reduce the command line
    clutter seen when compiling or linking stuff.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 004c2a9b7a4b44ef71ca60482573e8e9d8c6ce93
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 20 20:36:08 2010 -0800

    Update .gitignore files

commit 84c93bb2fc4558a5e4654794ba90e730a84eaf67
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 20 20:22:16 2010 -0800

    Change altos build process to support per-product compile-time changes
    
    This creates per-product subdirectories and recompiles everything for
    each product, allowing per-product compile-time changes for things
    like peripheral pin assignments and attached serial devices.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fd0a42e0e96dcb8ecc9e999f70bcf70692692af9
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 20 20:21:07 2010 -0800

    Change barometer conversion code to shrink conversion table

commit 876e9a10b9096ead85fbe08ec9a6a0329cf7cbd4
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 13 16:42:27 2010 -0800

    Log GPS data on pad after boost detect.
    
    This wakes up the two GPS reporting tasks and gets them to report out
    any existing GPS data to the log file. To make sure the timestamps in
    that GPS data are accurate, this also records GPS time on receipt of
    the GPS data instead of when that is logged.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c83615567b4567f3dc45a7f7b894943b45fbb65c
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Feb 7 00:25:22 2010 -0800

    Pull in a bit more data for filtering the start of the boost

commit f8967607b3dda0c0ce7afe8bb077da2da5ed3dcd
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Feb 7 00:24:56 2010 -0800

    Compute daytime using GPS as time base

commit 2a6350149407c7d2e7d143906c40c5e331248aeb
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 11 18:48:56 2010 -0800

    Missing ao_mutex_put in gps_dump

commit 9856b7c4397afcecc8f541af9a83824e817b3612
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jan 10 16:31:50 2010 -0800

    Switch to using internal cc1111 temperature sensor
    
    v0.2 has no temperature sensor, and several of the v0.1 boards didn't
    get a temperature sensor loaded. Use the internal temperature sensor
    on the cc1111 in all cases instead.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0c2533be15858774ef9381aa8c8344356fd5b971
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 22:06:19 2010 -0800

    Force idle mode by shorting the SPI clock to ground at boot time.
    
    This allows you to override the flight mode detection code in case the
    accelerometer calibration is broken somehow. Hold the SPI clock shoted
    to ground until the LED comes on, then remove it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 28346736a7799c0767e54511d9949cd61d35e471
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 20:57:48 2010 -0800

    Add simple gps dump command 'g'
    
    This just dumps out the data in a very simple format to verify the GPS
    receiver.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a6082a8b4501ac4cb18584ace1f0c40e088e5484
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 20:57:29 2010 -0800

    Remove flash debugging printfs
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 05bb953830604721c9a49dd56256b86f3666b5ff
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 20:42:57 2010 -0800

    Don't set ao_flash_setup_done until we're actually done.
    
    Because we're accessing this variable outside of the mutex, we need to
    make sure it isn't set until the data it covers has been initialized.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 327e5e782958e516a7b7a786ab6c176b0decb8b8
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 20:04:42 2010 -0800

    Dump config block from read/write config and flash_status commands

commit 05e5bb2d330b755967d06fb859585c81f5f5fbb5
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 19:46:46 2010 -0800

    Dump more flash parameters for the flash_status command

commit d4c8895b349998e02e03ed83466a0ca7afb3d99b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 17:57:52 2010 -0800

    Add 'f' command to display flash status register contents
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c1334f712f01543adb10809bc1a3ca120e27290b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 09:55:04 2010 -0800

    Add at45db161d.h header file for new flash part.
    
    Forgot to add this when I added the driver.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a0d4c1b06d27e850d233f8ddf8fe32912bf0ec8f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 01:29:41 2010 -0800

    Remove green LED and temp sensor from v0.2 code
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit dc8d18736239b14c2ec48a40a01515912c5c25e6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 01:22:06 2010 -0800

    Add AT45DBxx1D driver
    
    This driver supports the AT45DB011D through AT45DB321D DataFlash
    parts as found in TeleMetrum v0.2
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3bab7e66d25988f5d63ec139c8814a85b983f8f3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 19 20:32:18 2009 -0800

    Remove dbg driver code from telemetrum/teledongle
    
    The only board with debug outputs is the TI dongle at this point, so
    the debug modules were disabled in TM and TD some time
    ago. Unfortunately, the code was not removed then.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit eddb82390a0ecb07ef83c04861993842906b03ab
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 19 15:31:36 2009 -0800

    Ensure that ao_alarm waits at least the specified time
    
    Because the timer tick may happen soon, it's important to delay by
    another tick to ensure that we don't wake up early.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 598d168bd6552c3756e4b0267de44147eadab9f6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 19 14:03:11 2009 -0800

    Disable monitor mode before attempting radio test.
    
    If monitor mode is left active, then the radio lock will not be able
    to be acquired for the radio test.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d4cf1446680d8b47396bcda338e8df7af395d102
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Dec 19 13:53:38 2009 -0700

    update changelogs for Debian build

commit 10d1bbcd9709a5eee8d50989215242b16feb7232
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 19 11:34:16 2009 -0800

    Use ao_radio_get/ao_radio_put in packet code.
    
    The ao_radio_get function both acquires the mutex *and* configures the
    radio channel and frequency. Failing to use this in the packet code
    would leave the radio frequency unconfigured.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a15abc1882a3bdd2c980eed169f3b80337528390
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Dec 19 12:15:29 2009 -0700

    update changelogs for Debian build

commit bbb152c712801653374a8f82869e2e8bf41f7279
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Dec 19 12:05:40 2009 -0700

    update changelogs for Debian build

commit 7ac8efea5d60b81adccdc1e38ac4c13facfae7c9
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Dec 15 23:58:29 2009 -0800

    Add --cal to man page

commit 5481082b18226a0de6b377215b3b330bdbc4a6c6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 5 19:50:38 2009 -0800

    Allow radio calibration to be set from ao-load
    
    This moves the initial radio calibration value into const memory where
    it will be used if no eeprom configuration value is available, either
    on an unprogrammed board with eeprom or a device without an eeprom.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 46f03ab3145a61139c8ca6fc99e8f2798728b5a9
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 5 15:36:12 2009 -0800

    Re-order config values. Change frequency to cal
    
    Place more often used values at top, and consistently call the radio
    value 'calibration' instead of 'frequency'.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bf29a62532fec12e6af2d2f3a6624882c863e933
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Dec 5 11:03:42 2009 -0700

    update changelogs for Debian build

commit cd49847f3125df1733f298b56a43e8027ab5ce05
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 4 23:38:26 2009 -0800

    Add radio calibration configuration.
    
    The crystal we use is only good for 20ppm, which generates a fairly
    significant error bounds at our RF frequency. This commit adds a
    configuration variable that sets the RF frequency control variable so
    that the output frequency can be adjusted.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c671a3f31f54715284beef5baa4a72ca922e4018
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 4 23:36:54 2009 -0800

    Make ao_cmd_decimal produce both 32 and 16 bit values.
    
    ao_cmd_lex_u32 is produced in addition to ao_cmd_lex_i so that
    functions can easily read 32-bit values from the command line.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e6d6ad66ce177eb6e49eaa04b1ecc6426f4bbdbf
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 4 23:35:40 2009 -0800

    Remove send_serial and serial_baud commands.
    
    No longer useful, and they take up space.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ce7325cefbbe91054c1e8174cf40a6c687f6694b
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Dec 4 21:02:07 2009 -0700

    update changelogs for Debian build

commit 9a1d7dd78c07d18954ef620b6ed25d6701df21e2
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 4 14:35:39 2009 -0800

    Change default callsign to "N0CALL"

commit 291e2004e77debdc1543912cf11043c849305de8
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Nov 26 11:18:37 2009 -0700

    update changelogs for Debian build

commit 40533095a96b6c6364eebdc4b7d53c4eabe72e9a
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Nov 26 11:16:04 2009 -0700

    update changelogs for Debian build

commit ab1075e7219b02258c1613d93379582be4168947
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Nov 26 11:15:13 2009 -0700

    change home URL in control file to be the AltOS page

commit d34dcc5f3616e59ee90ed172770fe2a3eb1e0cac
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Nov 26 10:40:07 2009 -0700

    fix absolute path in debian/dirs, add Suggests for slim-altusmetrum

commit ea40561b36519a5dcabedabe18672b79ea5e9993
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Nov 22 10:18:44 2009 -0700

    update changelogs for Debian build

commit d6ba07e885bdc62ba64719c9d8cc42fcecbcb09d
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 22 01:10:44 2009 -0800

    Automatically extract flight number for eeprom and telem filenames.
    
    Extract flight number from either telemetry or eeprom files and use
    that in the resulting filenames. To ensure that files remain unique,
    add a new field, -seq-%03d. This is appended only when the sequence
    number is non-zero as it shouldn't occur in normal usage.
    
    This also eliminates some duplicate filename creation code in the
    library and aoview sources.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 06cebd1026dc1bd6ee51526fa2d02905df3b3b37
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 22 00:52:58 2009 -0800

    ao-postflight: don't try to use missing gps sat data
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a9ada1b538af3308e1b22bd024d9204521184173
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 21 22:12:21 2009 -0800

    ao-postflight: compute barometric alt for each GPS position
    
    Print that to the --gps file, and use that in the --kml file for the
    altitude. Gives a very different picture of our flight tracks,
    presumably far more accurate (at least in altitude).
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b84b634d9ae8ce6ab1c02833a3ed8514404e1ca3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 21 22:11:45 2009 -0800

    Don't crash if --plot isn't passed on ao-postflight command line
    
    Crashing is not nice.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2d77c18b15834046b7b79d49d87211828f2409e9
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 21 21:10:09 2009 -0800

    Convert telemetry file GPS satellite information in cc_log_read
    
    The satellite info wasn't being correctly converted from telemetry
    files to the data log structure, so ao-postflight was not seeing it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1e7fb61700f1f6f2ed5fdbc4380d7187b0cd187b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 21 21:09:03 2009 -0800

    Fix --plot arg handling. Add -all option.
    
    The --plot file name handing is special as the library wants a
    filename instead of a stdio file pointer.
    
    Add a --all option that just creates all of the possible outputs.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 199f0cecae22645140185238682b9e1aba0e5715
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 21 20:36:20 2009 -0800

    Make TD print 0000-00-00 for invalid dates.
    
    This 'shouldn't' happen, but in case it does, I want to know about it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 238d03462a56dc1b7c871608cb00f961a88c1b97
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 21 20:35:22 2009 -0800

    Make ao-postflight create filenames using input filenames.
    
    Instead of requiring the user to provide names for the various output
    options, just create them from the input name by replacing the extension.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1a3b4c02a01187f8b7b9a9c97712476d0007ab35
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 21 19:52:26 2009 -0800

    Document ao-postflight --gps and --kml options.
    
    These were missing from the man page, but included in the --help output.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 80b23f3044a654d61212891a61fadb8a3a4e5572
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 21 18:57:45 2009 -0800

    Decode HDOP data from skytraq GPS
    
    The hdop data was getting dropped on the floor, but is rather useful
    when deciding if the GPS position is crazy or not. This reports HDOP *
    5 (giving a useful range of .2-50).
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8f036ee7cd30ce3ed2e5cc8501914a4c19b73875
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Nov 20 13:19:02 2009 -0700

    update changelogs for Debian build

commit 87e6f3e5c1688503ab8595912d8d6eb7139830b7
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 20 12:16:37 2009 -0800

    Eliminate SiRF state values from ao-view.
    
    With Skytraq not having any visible GPS state information, just
    remove this from the display.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8065b8146a31438e66f83c13b99281ec47439a73
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 20 11:56:48 2009 -0800

    Add GPS date/time output to ao-postflight.
    
    GPS date/time information was already being stored in the log, it just
    wasn't getting displayed by ao-postflight.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6894541e0ee144bfc689cc02d4ed333711d3b500
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 20 11:55:28 2009 -0800

    Reduce igniter firing time from 500ms to 50ms.
    
    Given that the system will brown-out with the longer pulse, it doesn't
    make sense to even try; failure at 50ms probably indicates a short.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b75aa1c825b84bd7fa1578320fbc7e904c373a7d
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Nov 19 21:43:13 2009 -0700

    fix typo in comment

commit c2f661b75ec035f6a3f700962290ef297f9ab0af
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Nov 20 11:44:06 2009 -0700

    update changelogs for Debian build

commit b0d7e3f9c9322542e9b649bb6ad7f7e5bb99dffa
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 15 16:20:18 2009 -0800

    Stop using SiRF state info.
    
    With the switch to the skytraq GPS unit, we don't have the same level
    of detail in the GPS stream, so stop reporting that in the telemetry
    stream, in the UI and writing it to eeprom.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 524665fc221b0d483453c67b7211e282cebc8980
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 15 16:04:41 2009 -0800

    Add date to GPS data, captured from GPRMC packet.
    
    Pull the date out of the GPS stream and send it over the telemetry
    link and write it to the eeprom.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3ee279ba76c2a79d142c466f19ef758cf4c01d70
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 15 15:59:01 2009 -0800

    Add flight number to telemetry stream.
    
    This makes it easier to tie the telemetry and eeprom files together as
    they're now both labeled with serial and flight numbers, which should
    be unique.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6391c89bd5b89f5f46255b8365c658a873e5959a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 15 15:53:01 2009 -0800

    Switch order of serial/flight in ao-postflight summary

commit 9b06e294e2777f69bcf5e98789c3f5477097d53b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 15 15:51:58 2009 -0800

    Enable telemetry receive in ao_view

commit 4cffc9c4b079e39c8196ddbaf91129cda6df7f8b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 14 22:24:37 2009 -0800

    Share telemetry parsing code in cc library.
    
    ao-view had a private copy of the telemetry parsing code which
    included the ability to parse the newer version of that file. Those
    changes have been moved to the library version and the private copy removed.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0e0db8ca3af4c07bae909938486766c646bf580b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 14 22:24:09 2009 -0800

    Provide a dummy 'uninstall' target in the src directory.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1c654a9369294c9b8066c33f91161d8005b96680
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 14 22:17:24 2009 -0800

    Loosen tolerances for main->landed transition
    
    Detecting that the rocket has landed is required for the system to
    flush the eeprom log and re-enable the RDF beacon. This patch changes
    the landed state entry requirements for the accelerometer to require
    only that the accelerometer stay within a quarter of a g (down from
    1/10g) and changes the testing interval from 20 seconds to 5
    seconds.
    
    The requirement that the barometric altitude be within 1000m of the
    launch altitude and that the barometer change by no more than 0.05kPa
    are unchanged.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 03092d1a72a9651711e22c58dca6d6aba5705c5e
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 14 16:35:12 2009 -0800

    ao-postflight: fix sloppy gps sat data realloc code (was crashing).
    
    Realloc'ing the wrong data, and failing to set the realloc'ed size was
    causing ao-postflight to crash while reading long logs.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit adf656192441eb7f44792955c86e469145477e29
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 5 22:11:59 2009 -0800

    Return radio to telemetry settings when packet system closed.
    
    To receive telemetry after disabling the packet system, the radio must
    be reconfigured for telemetry mode.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 83afdbdc154fe013bfe35ce5ecf1d61570b04ed6
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 5 21:45:00 2009 -0800

    Add reboot command.
    
    This resets the processor using the watchdog timer.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0358988ac0ee25a564d48af79b1c3fb0c0fe0a88
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 5 21:44:31 2009 -0800

    Add Watchdog Timer Control register definitions
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4114210e0b813f4af99d0cb7755ad2ac2c4b120e
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 5 21:43:21 2009 -0800

    Move ao_match_word from ao_ignite.c to ao_cmd.c
    
    This is a generally useful command line utility.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5a79a04ddb0b3ee64de34e366f71a0f6db509c01
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 4 21:59:51 2009 -0800

    Stop recording in ao-dumplog after receiving an invalid block
    
    If no samples in a block are valid, assume the flight log is over.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 843ee489aac34ad6d81f55f1c85fb9eecc42d86b
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 4 21:59:12 2009 -0800

    Flush pending input when switching to remote packet mode
    
    Any pending input would just confuse the application, so pull it off
    the link and dump it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 036400a2db303f3db3be7cc0426f88359c6bd2b1
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 4 21:42:51 2009 -0800

    Explicitly use USB I/O routines in packet code
    
    Using the implicit stdio functions (putchar/getchar/flush) would
    result in essentially random redirection of each, depending on whether
    the packet code had characters available when getchar was called. This
    would cause lockups in putchar.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3ece984f4d72b4f720a5efdfaad7cff77a93d676
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 4 21:32:07 2009 -0800

    In USB pollchar, wait for packet before re-checking USB out len
    
    This probably wouldn't actually cause a problem, but it seems more
    reliable to wait for a packet interrupt before re-reading the packet
    OUT len register. This could avoid spinning while waiting for a USB
    packet, which seems like a good thing.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bc62bb254085cc705203b57260c04ac5e14c6611
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 4 21:29:37 2009 -0800

    In packet master, move USB flush from packet thread to echo thread
    
    This keeps the packet thread from blocking on USB and also makes the
    flush happen after every packet (slightly more USB traffic, but
    packets are slow anyway).
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 27ebaf8e13aed06bb1ea6e770f767495a02be6c5
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 3 01:27:37 2009 -0800

    Add ability to dump eeprom data over radio link.
    
    This adds a '-R' option to ao-dumplog to redirect the connection
    through a USB attached TeleDongle over the radio link to a remote
    TeleMetrum device.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1de322b960005c9a16051afa1881fadb00f4bcd6
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 3 00:40:38 2009 -0800

    Pass accel calibration over telemetry stream. Telemetry data format change.
    
    This allows the ground station to convert the accelerometer sensor
    values into acceleration and speed data. This requires a new telemetry
    data structure, and so TeleMetrum and TeleDongle units must be updated
    synchronously. ao-view will parse either telemetry stream, and the
    serial format from TeleDongle now has a version number to allow for
    future changes.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b529e5e8998702986909111a457f3ce9932e1ccf
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 23:48:29 2009 -0800

    ao_flight_test was using accel value for pressure too

commit f57bea012d4fbca097df0d98fcd30eb4abd9701a
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 21:47:41 2009 -0800

    Reformat ADC values to show all 16 bits

commit 79718e798e96567f0ba11c61f187e432fdcf95ee
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 21:48:16 2009 -0800

    Remove "f" command

commit a4137263b69864c524d39c6ff88a0225fd06e79b
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 21:47:15 2009 -0800

    Remove "d" command

commit 47f510464907d2b9488109c96ade87a41d878842
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 21:46:39 2009 -0800

    Remove "l" command as ao-dumplong no longer uses it

commit 144db05f6b286a0450d486f69ce192632a2c0656
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 21:38:18 2009 -0800

    Add two-point accelerometer calibration.
    
    Calibration now uses two values, one upside right and the other upside
    down instead of a single horizontal value. This allows the use of
    other accelerometers and compensates for variations in the divider
    circuit to provide more accurate data.

commit 17611788aadc9460287145a340a7c18bf63766aa
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Nov 2 16:54:06 2009 -0700

    update changelogs for Debian build

commit 7db9d86178ecfd58cc1c17ac9fcbdcfd2f13aaec
Merge: b219801 f9de200
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 15:47:40 2009 -0800

    Merge remote branch 'origin/master'

commit b219801fb0e5eaff7778d21701da977104522da3
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 15:45:58 2009 -0800

    Add ao_usb_pollchar to ao.h

commit b92333ff5e75bf96804359e9fbf464d3b518bd95
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 15:45:42 2009 -0800

    Disable interrupts while removing tasks from task list

commit d519564fd08d2defe1211de83ccbdfa3c7cfe702
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 15:45:07 2009 -0800

    Add more docs to the README file

commit f9de20000794c97a04d5bc2476191864bd2af371
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Nov 2 16:00:11 2009 -0700

    update changelogs for Debian build

commit 127c3125e5a4b86b8f304bc2889e313688c3d83e
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Nov 2 15:59:12 2009 -0700

    update changelogs for Debian build

commit 6b1e77569e2fed3c44606ed268421df5d3ed4020
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Nov 2 15:57:41 2009 -0700

    update changelogs for Debian build

commit 8203bfa58af32a1d07a44c1c151b200df0b65f15
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Nov 2 15:56:42 2009 -0700

    de-version the libreadline-dev build dependency

commit 0b483233118673cbc2cda1be6acd379df82bc95a
Merge: ca5d323 550482d
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 1 20:59:02 2009 -0800

    Merge remote branch 'origin/master' into skytraq

commit ca5d323a3d206050d95f52a61e92c69e1f54e7b5
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 1 20:57:03 2009 -0800

    Enable packet-based communcation to command processor
    
    This splits the packet code into master/slave halves and hooks the
    slave side up to the getchar/putchar/flush logic in ao_stdio.c
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6c1a9ce16b966a21c885bf3be31cbcb85368b3fa
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 31 01:30:22 2009 -0700

    No need to wakeup &ao_tick_count now

commit cd0d495d7ef276956e730196476daa70a4359918
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 31 01:20:26 2009 -0700

    Poke master to speed up packet rate when things are busy

commit 442b1ef18c8320d4e5329dc92bb5268a36058fc5
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 31 01:19:41 2009 -0700

    Use ao_alarm for ao_delay so it can be easily interrupted

commit 4f7ed9ff484778381db647c27d2a34d0cadec41e
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:53:03 2009 -0700

    Do more flushing in packet test code

commit 6a7aa1810a90a9216160aec55ec4bd02b3240e1b
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:52:44 2009 -0700

    Add RFIM register

commit bf65e0b2a1299b49adc2d339ab9d9c7599aded9e
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:52:22 2009 -0700

    Send SYN packet to set sequence numbers

commit d46797e5c08d4955d516458185e2cfb51ee2d567
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:51:38 2009 -0700

    Use ao_radio_done to wait for TX to completely finish with packet

commit c5ec6fcfa1bd17aad0f85d2fbe603f1d125836e6
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:50:54 2009 -0700

    Switch packet code from timer thread to ao_alarm

commit b428faf74ae145126ec1da972028fcfe0b4b2b18
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:48:36 2009 -0700

    Remove reason from ao_dma_abort

commit 73db30b2f9128c37dc7fa075793a8862814ce044
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:46:21 2009 -0700

    Add ao_alarm

commit 251b0971f049cbf2f8db79a32729d47441ce65f3
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:45:43 2009 -0700

    Wait for TX to finish sending data

commit 9b31f07fe3556896b3e997bba156e30ef5777a80
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:43:52 2009 -0700

    Add radio carrier command

commit 7b14c3e609749f4fc00dbd660541375048535218
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 16:39:15 2009 -0700

    Initial packet bits. Just testing transmission

commit 690fc263516d8beb6b24e86fbcd6588f42ce4e5c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Oct 21 17:18:49 2009 +0900

    Add keyhole-markup generation for ao-postflight.
    
    This lets you see the flight path in googleearth.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b657aa209b9ea3b3efd33a940283b3ba60a169af
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 16 12:59:53 2009 +0900

    Add ao_wake_task and ao_exit
    
    ao_wake_task signals a specific task to wake up.
    ao_exit terminates the current task.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d709a0688eff84e25e24d755850ef045d6b0c3de
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 16 12:56:45 2009 +0900

    Save some DSEG space by marking cmd functions __reentrant
    
    __reentrant causes the compiler to place args and locals on the stack
    instead of in the data segment.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 550482d953c491a5ede9f2d243493afb13289898
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:58:46 2009 -0600

    update changelogs for Debian build

commit 2de548f45d0f50b558acc83f57e1e2fc1223ab92
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:58:19 2009 -0600

    oops, forgot to specify the repo to push to

commit 68008ac11c2735ca53a1b474324df43f2f1d5cdd
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:57:33 2009 -0600

    update changelogs for Debian build

commit 513328ac5f7c25f9ee144ab6befbea60d69eed1a
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:56:50 2009 -0600

    automate push of updated and tagged master branch during debian/rules prebuild

commit 67bf7d388a6dd2dbf65575bf4f0423ad355b4f2f
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:54:44 2009 -0600

    update changelogs for Debian build

commit 23bc21a93ccb9f35917f283ac5df6ce0870df71a
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:54:16 2009 -0600

    undue damage from partial build

commit 7da56ad8576ef212ffb6cb573bdaf578453e3fe0
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:52:52 2009 -0600

    add support for tagging git repository on each Debian package build

commit 8d4aa4ee54f85f4951cdd7293d58aaa405cfcdc5
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:49:34 2009 -0600

    update changelogs for Debian build

commit 241a860fe856b1dfad6e792736313648300d5c24
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:48:43 2009 -0600

    flush repetitive junk out of debian/changelog, and update the prebuild target
    in debian/rules to put git commit details into the Debian changelog

commit 6c4cdc927b43736b39be29d23ac3dc723f69e4d6
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 15:57:19 2009 -0600

    update changelogs for Debian build

commit c57bd7fd2f80e50b0b4c87fccb024ab07c93773d
Merge: adf8764 2b76572
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 15:57:08 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 69b6f6bb465163cf767bb68e0e4a716d8ad2b39c
Merge: bc77da6 2b76572
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 17:16:21 2009 -0700

    Merge branch 'master' into skytraq

commit 2b765728ce177e26899f6feef00bfdf6aeaf2678
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 17:15:38 2009 -0700

    Add apogee igniter delay.
    
    Provide for a delay after apogee before the drogue charge is
    fired. This allows TM to be used as a back-up altimeter.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bc77da68c9cb7d4cca483eadbbb7e9ccf71c0060
Merge: 46cccf6 8f7ea3d
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 15:09:48 2009 -0700

    Merge branch 'master' into skytraq

commit 8f7ea3de7037f40b0ff462b60d503c19431ae62b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 15:08:14 2009 -0700

    Report igniter continuity in pad/idle mode via beeper
    
    one short beep = drogue
    two short beeps = main
    three short beeps = both
    one long warble = neither
    
    In idle mode, it does this just once. In pad mode, it keeps testing
    and reporting.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit adf8764bc4591795ba4e618ccbd6393fc6ce6450
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Oct 10 15:11:23 2009 -0600

    update changelogs for Debian build

commit 541da6f3bbf81be93dfe3c01f7c8cfd757b28a2b
Merge: dfc73cb 5f26ad6
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Oct 10 15:05:50 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 46cccf62fb40514b5930fcb2ffdaf2735415c764
Merge: fb8f3fe 5f26ad6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 14:00:03 2009 -0700

    Merge branch 'master' into skytraq

commit 5f26ad663b3f60dddc9d967206e365f45dc4acd1
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 13:58:16 2009 -0700

    ao-dumplog: switch to 'e' command, display progress
    
    Using the 'e' command allows additional checking of the data,
    including end-to-end checksums and detection of missing data.
    
    Progress is displayed by showing the recorded flight state along with
    a '.' for each eeprom block read.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fb8f3fee6a1bab1e46d782e84405845cee2dadb4
Merge: 22856cf b8fc397
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 13:41:00 2009 -0700

    Merge branch 'master' into skytraq

commit b8fc3975bd92037a0cf53b0ff2b0e05ce0ba668f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 13:39:01 2009 -0700

    Send 0-length IN packet to flush USB after full packet
    
    USB bulk transfers are a sequence of maximum-sized packets followed by
    a short packet, which signals the end of the transfer. When the last
    packet of the transfer would be a full-sized packet, an additional
    packet of zero length is sent to signal the transfer end.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 22856cf8bb0f5e1f37c9b774132d9ef6934526ed
Merge: 2f76034 e29961f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 11:44:20 2009 -0700

    Merge branch 'master' into skytraq

commit e29961fdb2a48874c895829880eadbf13e094c0c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 11:43:31 2009 -0700

    Add channel menu to ao-view.
    
    Sets radio channel when TD is connected, saves selected channel in
    gconf database.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2f7603490a169df8f18b565db4fa967832ffc9bd
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 9 22:48:29 2009 -0700

    Build two versions of TM, one for SiRF, one for SkyTraq
    
    This creates two separate images, depending on which GPS unit is
    connected.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 33b0b6f2f2e07de105619a7b463226d2813152ab
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 9 22:02:40 2009 -0700

    Add support for the SkyTraq GPS unit
    
    This is a build-time option selected by hacking the Makefile at present.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a3771bfc5ce740f9d89193e9f8b1d7987aa57264
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Oct 6 20:06:00 2009 -0700

    ao-view: fix snd_pcm_open return checking
    
    I don't know how this code was supposed to work before...
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ac4b8a73848f434999a532eab4665253c267c597
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Oct 6 20:05:36 2009 -0700

    ao-postflight: dump out GPS signal data
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit dfc73cba1bee8b121e00e8cba45e7dfaaf79e9d8
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Sep 21 22:46:59 2009 -0700

    update changelogs for Debian build

commit 459ff3d377297f80ee2fba0df0a29ff6603467a1
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Sep 21 11:00:32 2009 -0700

    update changelogs for Debian build

commit 327c64305a59f48ababf19875874a550af6b9cef
Merge: c8a81a4 74f0fb4
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Sep 21 11:00:22 2009 -0700

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 74f0fb4dd189abc1d5027c64fa5a648a6003285a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 20 13:33:59 2009 -0700

    make bit-banging reset script actually reset

commit 7ea371a09385e2a93199f78685e8cb86793ed104
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 20 13:33:26 2009 -0700

    Add --gps option to ao-postflight

commit bc7ccb339e538a0e6120db0e5c0d9130c565e0dd
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 20 13:32:59 2009 -0700

    ao_rawload: Don't reset after we finish loading

commit c8a81a419f7f2331624f90bd6c107a86f6b04451
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 20 09:21:00 2009 -0600

    update changelogs for Debian build

commit df42ccaaf468cdc5d93cbd1c001f58df58419722
Merge: 0b24e40 078e9cd
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 20 09:19:28 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 078e9cdbdb388b22c6151f76ff0660fc14b8ef55
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 10 11:53:06 2009 -0700

    Plot raw accel data for the motor accel section.
    
    This shows a short sequence of accelerometer data without any filtering.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8b485d937ff148848ebda7f9ca6be29bb1de1f16
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 21:02:48 2009 -0700

    Show acceleration only during boost phase.
    
    We're interested in motor performance; the rest of the flight is
    boring, after all.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9e660315e1bd2bf71ab1c0574e895e1f7608a58f
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 21:01:44 2009 -0700

    Fix cc_period_make to not get stuck on samples with matching time
    
    When two samples have matching times, step to the second one;
    otherwise, we'll get stuck forever.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 932f1539b38567e565fd484171c13539b1467308
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 20:26:17 2009 -0700

    Color plots, integrate only flight portion of data.
    
    Telemetry files have piles of pad data which shouldn't be integrated
    into the velocity data as it tends to generate huge values from the
    noise of the sensor.
    
    Also make the data lines colored to keep them visually distinct from
    the rest of the plot image.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9177f5f4e9d832558ddd9ab227c4511f6201e7e5
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 18:11:24 2009 -0700

    Update usage and man page for ao-postflight

commit 0b24e4034f93010372a3d084668d10f0e4a2c2e1
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 18:01:20 2009 -0600

    update changelogs for Debian build

commit a5e94aa0677070a051714443cf7fd7e2b5e90269
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 17:59:47 2009 -0600

    need a run-time dependency to pull in the cairo module

commit 97acef95cc9843998963921459fdd71dd7eaa6b4
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 17:48:23 2009 -0600

    update changelogs for Debian build

commit 3f95a5abbf8ada70328ced45fbb2781ed1cb3d29
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 17:48:10 2009 -0600

    more build deps for plotting lib

commit 9d7e96e323d652de08b2f2a73e0eb3c321080185
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 17:47:56 2009 -0600

    update changelogs for Debian build

commit ae4e131b61244e06020b82919e31e05dd7dba88f
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 17:46:39 2009 -0600

    update changelogs for Debian build

commit 37e6c9a492a1d51373bf9333fb3172e0c377720f
Merge: d256f82 2e6686b
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 17:46:10 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 2e6686b1e183c66188ea447b8a54e4c29402443b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 16:45:47 2009 -0700

    Use plplotd instead of plplotd-gnome2

commit d256f8204e9fce53ae4309562bb4c0cde1fae43e
Merge: 0fc344d 32d3536
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 17:34:08 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 32d3536706324808df6cd02248a236302b831571
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 16:24:35 2009 -0700

    Add plots to ao-postflight using the plplot library
    
    It's not perfect, but it generates .svg plot output.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0fc344dfc031a8b1eef7cc40efb1d5ba7782269d
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 14:15:57 2009 -0600

    update changelogs for Debian build

commit 4b0de757874c0ecaf38e3dfd3beefc398150e3d5
Merge: 773c4ff d0eac98
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 14:15:53 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit d0eac989b1ffc8ae30ba12da403eb4bf1ad42d6b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 13:15:10 2009 -0700

    Don't look at NULL strings (summary_name)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 73f4a57239f770aff603b961169c0e2cfe2c276b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 13:08:54 2009 -0700

    Use pressure speed for drogue and beyond states. Fix differentiation time.
    
    Drogue state should always use pressure speeds.
    
    Differentiation code was using centi-seconds instead of seconds.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 773c4ffbc1d2e02eb02cfa543a077a408986da30
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 14:05:55 2009 -0600

    update changelogs for Debian build

commit 45ede4a4b203ef9da5bf05c49cb9c5a2e6382ec5
Merge: 45e2938 e35e485
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 14:05:51 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit e35e485ffe6b26034788ab295121bc2693b7eec1
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 13:04:31 2009 -0700

    Initialize summary_name and detail_name so stuff appears on stdout.
    
    Uninitialized variables lead to mysterious results.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 45e2938121411d1fc9b3aec3fdeaaeb3c90db5ed
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 14:02:14 2009 -0600

    update changelogs for Debian build

commit d42ebf0661ecf15455e5051de1e16ae66f8dd857
Merge: 384dbe9 7a19aac
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 14:02:09 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 7a19aac5e881e635962a64fff73027ca2143b96f
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 12:51:48 2009 -0700

    Add DSP code to filter data, allowing for integration/differentiation
    
    This adds the computation of speed from both accelerometer and
    barometer measurements and then presents a periodic flight profile
    using filtered data as a detailed flight record.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 384dbe9fc7fa8e4e5dceec5e150f0f1d3383bbdc
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 10:40:06 2009 -0600

    update changelogs for Debian build

commit 35c54b3a278fa9bc2bc7f4b5ee04866697c93ba0
Merge: 4f8eff7 6d018ab
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 10:39:23 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 6d018ab933832e2d80bb1564c339d9fb18b57be2
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 5 22:45:49 2009 -0700

    Handle vageries of .telem files in ao-postflight
    
    Telem files have multiple entries of the same state, and sometimes
    long gaps between recordings. Deal with this as best as possible.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c46e832b28820d7c5be4efaacbbd7c0607927fe5
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 5 22:03:31 2009 -0700

    Add simple post-flight analysis tool (ao-postflight)
    
    This tool reads either an eeprom or telem log file and displays some
    rudimentary data (max accel/alt for each flight stage).
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 26f56b51bd11aa91f1d77b81827b49c28cb6ec5f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 5 00:29:26 2009 -0700

    Add ao-dumplog to capture flight log from command line
    
    This duplicates the functionality of the flight log stuf in ao-view,
    except from the command line where it belongs.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 73adae3661160d410dcc802873b530d255c210e5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 4 15:30:22 2009 -0700

    Add --device/-D support to the command line tools and manuals
    
    Use the new cc_usbdevs_find_by_arg function to locate suitable target
    devices connected via USB.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4f8eff7401ee2d8092ab36fa33411f9b23dda880
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Sep 4 16:03:55 2009 -0600

    update changelogs for Debian build

commit 332b056459b1352e233a8bf5f08498df12d32160
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 4 15:01:32 2009 -0700

    'fix' ao-eeprom to read two blocks at once. Work around kernel bugs.
    
    The kernel appears to leave serial data undelivered at times. Reading
    two blocks at once appears to make it relinquish the queued data.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit df88ae4c5f229efcc0ea5cb0a81fc2bb8f96fea2
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 4 14:23:02 2009 -0700

    Add 'ao-list' utility to show attached AltOS devices
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0935d6a7e907e20381a42882ae728051f9bece02
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 4 14:21:19 2009 -0700

    Parse the USB serial number as an integer.
    
    AltOS devices use simple integer serial numbers, so parse the USB
    value as such to make matching values more forgiving.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0c771d999914f9d17c723900f2987acc45fd0fbb
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 4 13:00:02 2009 -0700

    Move usb scanning code to ao-tools library
    
    This will allow the scanning code to be used by the command line tools
    as well as the ao-view GUI.
    
    Now that ao-view depends on the ao-tools library, it has been moved to
    the ao-tools directory as well.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 15341b6e6dcf52df083d6aa37ef881ea6ad48ee5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 4 12:25:37 2009 -0700

    Set all of the values to reset the radio for telemetry
    
    Was sizeof(rdf_setup) instead of sizeof(telemetry_setup) when
    resetting the radio back to telemetry data mode from rdf mode. With
    the length value removed from the rdf config, these two arrays are no
    longer the same length, and so the last config value was not set
    leaving the radio sending garbage.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fee46389b70a624ab5b1128a8b4c3083c7747bcb
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 4 11:46:55 2009 -0700

    Make RDF beacon only run on pad and after landing.
    
    It's pretty much impossible to RDF the rocket during flight, and it
    interferes with the telemetry data stream. Leave it enabled on the pad
    so that radios can be tested, and then re-enable it once the rocket
    has landed.
    
    This patch also turns the rdf 'on' time into a parameter so it can be
    changed, and then sets that parameter to 500ms, once every 5 seconds.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 54545640b0db7747137655f84bc67fd290ecb904
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 4 11:45:52 2009 -0700

    Add back the RDF tone generator
    
    Tracking the rocket on the ground may be easier using tones than using
    the digital data stream, so we'll try that and see what we think.
    
    This reverts commit 3a3bfd471a868d546d83cdc431b53c8f5208edb9.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9fafee109e96435c96639b21211cac0500673a63
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Sep 2 23:18:15 2009 -0600

    update changelogs for Debian build

commit cb4a73f3b65ba72f645fd37ab8712829c9537bf8
Merge: 9ddd869 e2e449d
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Sep 2 23:17:37 2009 -0600

    Merge commit 'origin/master'

commit e2e449d5c23356e913f312de1fb2611a9dd5a352
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 2 22:01:52 2009 -0700

    Remove bit-banging debug support from TM board builds
    
    Our current TM boards don't have the wires to do bit-banging to
    another cc1111 board, so it doesn't make sense to fill up their flash
    with useless code (and the 'help' text with useless commands). Leave
    this to the TI board until we have boards that can serve as debug dongles.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit acea083d80e1ecc4287083519ea666964016b257
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 2 22:00:37 2009 -0700

    Make the ao_log_record structures 8 bytes again.
    
    When the GPS signal strength data was added, the structure was
    accidentally extended to 9 bytes, making all log records 9 bytes
    long. While not a serious problem, this left log records spanning
    across eeprom block boundaries, which seems like a bad plan.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7d39f17684feb49ac8a0017902158f298696e37c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 2 21:57:54 2009 -0700

    Make eeprom reads and writes across block boundary work
    
    Reading and writing across the block boundary was not stepping the
    eeprom position after the partial i/o operation at the end of the
    first block. This meant that the operation would re-use the end of the
    previous block, either re-reading or re-writing it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9ddd8696b4004ccc03238d95a8c2a1d07075e0fb
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 31 16:48:03 2009 -0600

    update changelogs for Debian build

commit 6926c4ab5d87a8f2eb4fcde2c673fb3a4639e115
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 31 16:47:44 2009 -0600

    pixmap file should not be executable

commit 1495e2f27acde3743c3764a0c31ee082224d6c64
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 31 16:42:55 2009 -0600

    update changelogs for Debian build

commit c8c5b7963babe8eb16e2651fba9cd2c8d1cba74e
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 31 16:42:37 2009 -0600

    deliver an icon for the Debian menu system

commit 591b99c232e780246fc07841c09c8c4e7835facb
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 31 16:26:00 2009 -0600

    update changelogs for Debian build

commit b34474c1f3083e73b7184d519f54d4c8031836fd
Merge: 8df1697 0d65bff
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 31 16:25:32 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 6358041f846ba9a20fa650c367d907dc4336e54c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 22 13:38:56 2009 -0700

    Enable GPS degraded mode, set 10 sec degraded timeout.
    
    No reason not to let the GPS report solutions whenever it likes, let's
    see how this works.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0d65bff443c17d4d98c18b620ec075ab66b30efd
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Aug 21 10:47:46 2009 -0700

    Turn off GPS tracking data when not present in data stream
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8df169791835510d96c11a3b0aa3cc5b79fa7fde
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 19 02:21:23 2009 -0600

    update changelogs for Debian build

commit 42ab6d52540d0326ef89e9d57954b08248558468
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 19 02:21:06 2009 -0600

    fix location for delivery of sources.list fragment

commit 977f5dc0bc7c666dcc1f21db77416efca0d696aa
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 19 02:11:11 2009 -0600

    update changelogs for Debian build

commit 8d4d6655f1b4c2fbc522fd255bfb75406e5ddaef
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 19 02:11:00 2009 -0600

    oops, aoview is now ao-view!

commit b9a97aea65f871fd287bc0bb566d8664766f4afd
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 19 02:07:16 2009 -0600

    update changelogs for Debian build

commit 21e3dd0affac89919e5d0e29c6e9eb1eacb51801
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 19 02:06:49 2009 -0600

    enable support for Debian menus

commit 0087c1776e0253fc2bd3b86f15bf9d1b32bdc45a
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 19 00:52:57 2009 -0600

    update changelogs for Debian build

commit 4486d9156e19e4280b42bcd422d81d04f2d04a92
Merge: dd09f0b 33edd62
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 19 00:49:24 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 33edd62992a32b0ec8ca66d879fa300871db5937
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 23:38:16 2009 -0700

    Update ao-view to add GPS satellite tracking data
    
    This adds another column to the display to hold per-satellite GPS
    tracking data and a count of the visible and locked sats.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 29687cbd462a332d9a36ed87500c5b737dcae3f4
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 22:35:15 2009 -0700

    Handle GPS satellite tracking data
    
    SiRF message #4 includes signal strength and GPS engine state for each
    of the satellites being tracked. This data is now parsed and sent to
    eeprom and the radio.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit dd09f0bc2b950c00f3b489878cd69ad8a003f46c
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Aug 18 21:57:01 2009 -0600

    update changelogs for Debian build

commit cd5ce661e2a8f9694933358ccb5b916fbed089c2
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Aug 18 21:49:39 2009 -0600

    add support for building Debian package

commit d996aa9b32fb0eb385bd3d158256c29788a42fe3
Merge: b3b2d3c 7d4ceb7
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Aug 18 18:56:09 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 7d4ceb75a454e6c9b3fe0bd934fadcb5104dea36
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 17:55:22 2009 -0700

    Add ao-ejection.1 man page
    
    Document the input requirements and output format
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b3b2d3c475a135084b5628c730fc6fca1ba0817b
Merge: 4685fc5 da12b89
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Aug 18 18:36:03 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit da12b89fb056a68e65ba363fef91d266727cb685
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 17:30:43 2009 -0700

    Create ChangeLog from git log

commit 7d69e2b3715faed10ce21ad562fc4d25dfc5f9c1
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 17:29:29 2009 -0700

    Fix ao-bitbang examples to not have . in the first column

commit 4685fc541466afbeefc151bcb64cd054739c048b
Merge: 1c2a0b6 c29275b
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Aug 18 18:09:38 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos
    
    Conflicts:
    	ao-tools/ao-bitbang/Makefile.am
    	ao-tools/ao-eeprom/Makefile.am
    	ao-tools/ao-load/Makefile.am
    	ao-tools/ao-load/ao-load.c
    	ao-tools/ao-rawload/Makefile.am

commit c29275b72438637d46d7a50742882d2736eb176a
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 15:21:57 2009 -0700

    Add manual pages for remaining commands.
    
    Manuals written for ao-bitbang, ao-eeprom, ao-load, ao-rawload and
    ao-view.
    
    Manual for ao-dbg updated to reflect program name change.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9b03d620722dc54630539afba40720c30de69b2d
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 12:19:31 2009 -0700

    Use --tty/-T on command line to specify target device
    
    Also, use the ALTOS_TTY environment variable in all tools. Note that
    the magic value of "BITBANG" switches the library to connecting
    through a CP2103 instead.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7c790fe859dff062692964338091ffbbcdf63257
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 12:40:24 2009 -0700

    Rename tools to ao-<foo>
    
    Use a consistent prefix to make it easier to remember which programs
    belong to this package
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1c2a0b6653623b689d68d7349a6b2dce3e20a4a6
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 13:36:54 2009 -0700

    re-add debugger sources

commit 9a9cce5510b87252f863239ac807b9fb4395b288
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 12:19:31 2009 -0700

    Start working on using getopt for the tty name

commit 9789ca5e8caa9a013e804f307b9da380e147bd75
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 12:40:24 2009 -0700

    Rename tools to ao-<foo>
    
    Use a consistent prefix to make it easier to remember which programs
    belong to this package
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a5782398d968e7cb11f7203afada7c216f233b3b
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 11:34:28 2009 -0700

    Remove unused cctools code paths for old libusb and cp2103 ioctls.
    
    Communication with the CP2103 board has gone through three revisions,
    first using ioctls supported by the CP2103 kernel driver, then using
    the old synchronous usb library and now using the newer libusb
    asynchronous interface. There's no reason to keep shipping the old
    stale code now that the new stuff works reliably.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7cba411de0780c65e3490ab67186a514f0ea42ec
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 17 20:47:31 2009 -0700

    test for sdcc, nickle and readline
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f48dcffae761700355a17b59345d55a60703f0c4
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 9 20:43:10 2009 -0700

    Sync USB data after each memory write command
    
    This makes sure we flush the USB link often enough for the other end to keep
    up.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit cd5456f18e4b39ad76d5549df91a0e0cfb18a2e9
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 9 16:08:07 2009 -0700

    Handle partial ALSA PCM writes
    
    The ALSA spec says that snd_pcm_writei will not return a partial write, but
    at least on the OLPC, that's not true. Deal with this.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3056cb8eef5aee0dcd342488386355d8b8f574c8
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 9 15:55:19 2009 -0700

    Check more alsa return statuses

commit 8ddf3345afd8cbf638e81993633f7861d8dbca63
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 18 01:47:34 2009 -0700

    Don't report distance to rocket without valid GPS
    
    When there's no valid GPS data, don't try to report the distance and bearing
    to the rocket after landing.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fbcb7b20fa701a6e534d38e307839466545668e3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 18 01:05:33 2009 -0700

    Add B command to set serial baud rate
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 91b023e7e4eeed838e0320d2ddac0f6aac39e565
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 18 01:05:13 2009 -0700

    Get rid of spaces after minus sign in climb value

commit 28be20cf914fb34dc3c776519708d0f02091764e
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 18 01:04:39 2009 -0700

    Switch to 57600 baud for GPS data

commit d3f76ce58b9c0ed2e5a9fe3bbc7fb9cb38247714
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 18 01:04:17 2009 -0700

    Drain serial port before changing speed
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d7c2d358ed8a1afc9f0ba2bd830b10f6b56dc7b1
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 18 00:44:42 2009 -0700

    Display last known GPS coord while unlocked
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5195fcfe239e430e1f9f11774c9a245c7b29dae9
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 18 00:44:01 2009 -0700

    use g_source_destroy instead of free on serial object

commit 1e5e98bd8f5ea0bc15592de454e3629383462371
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 18 00:43:22 2009 -0700

    Trim aoview_serial_set_callback args down to just port and callback

commit 08f37056deec25d77062bc411a04033401b033a5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 22:11:03 2009 -0700

    Reset GPS at boot time

commit 1150aa850f5a025b849556e32c4dddb27937d9af
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 22:10:43 2009 -0700

    Fix up serial debug output

commit 2a7956a64935246475f92d44c08369e0230b676a
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 21:34:13 2009 -0700

    Allow the GPS port to run at 4800 baud if desired

commit 8d650769c319261c97f5e68eff9138207b95c0f8
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 21:33:53 2009 -0700

    Initialize the GPS serial protocol state
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ab40d224b39ba6d29c4056e2d2c365e1eb3d3793
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 21:33:18 2009 -0700

    Use uint8_t for comparisons to avoid int conversions
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d6749bf24792bb41ca700cf4b8e5e1ac1a63cbf0
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 21:30:53 2009 -0700

    Add AO_GPS_RUNNING state.
    
    This tracks whether the GPS receiver has ever sent a valid report to the
    flight computer, allowing the user to tell whether the GPS receiver is
    working at all.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a1da7e871aee75308bc05ce1b7a0dc402e4c9509
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 21:25:35 2009 -0700

    Add M command to monitor serial bytes

commit ddfa2308c0be4c002f982ae9da6032ee7854117d
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 21:24:45 2009 -0700

    Support the not-connected GPS state

commit 34f148500df427c148188c0ada20bf914a7c74ba
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 19:23:10 2009 -0700

    Use 57600 baud for GPS. Clean up gps init.
    
    Assume GPS is either in 4800 NMEA or 57600 SiRF mode, send just the sequence
    to get from 4800 NMEA to 5760 SiRF.
    
    Also, eliminate threads from the gps test program.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2deca0c52cd6cfb4baceb59c8a5458344bada338
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 17:09:20 2009 -0700

    Try harder to get the GPS receiver serial link sync'd up.
    
    We cannot assume that the GPS receiver is in any particular state when it
    boots, so we try to send the serial configuration at several rates and hope
    that it eventually sees something that it likes.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 31d5670a9144b943ce9c8cb00deb5fb659af0b1c
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 17:06:18 2009 -0700

    Rolling average for pad location. Say 'GPS ready'.
    
    Use a rolling average for the pad location, instead of just averaging all
    positions. This filters out old (presumably less accurate) values eventually.
    
    When enough GPS samples have been acquired, say 'GPS ready'.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bfe1e76c82738baaf65abbc58c3244a07ea8fefe
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 16:22:51 2009 -0700

    Split GPS data into a separate column
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5f0179652e8bb85add9067e5253e981c60f2c51e
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 16:03:35 2009 -0700

    Fix up SiRF parsing and test code so that it actually works
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0b35447d05a0c7eaf4fefcbcf0065fe3320bba82
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 13:58:14 2009 -0700

    Add host-side gps protocol testing program

commit fef7334bddb9fccfbd6deab7d5d466ab3e76323a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 11 00:56:13 2009 -0700

    Hook aoview directly to alsa
    
    This skips the flite internal audio stuff which opened and closed the audio
    device for each phrase. This caused the first part of some phrases to be
    missed when using an external audio device.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 80cadf44f5f1accd6ddfca25c2af8d4d424f26d9
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 9 20:55:10 2009 -0700

    Show speed. Format numbers. Timeout and report final status.
    
    The speed value is now shown in the top label bar. Ascent shows
    accelerometer-derived data, otherwise it's baro derived.
    
    All of the numbers displayed are now given sensible printf formats so they
    don't contain way too many digits.
    
    Instead of doing periodic reporting based on flight tick count, data is
    reported every 10 seconds based on wall time. After landing, or when no data
    have been received for a while, final flight information is spoken.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 19630ef084866f4230e68ccf11284b30c68128b1
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jul 5 08:35:28 2009 -0700

    Dont smash aoview_monitor_parse input buffer

commit e506ed4b6efb86eab50204658fcd433b987e3831
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jun 30 15:25:52 2009 -0700

    Integrate flite into aoview directly. Fix great circle computation.
    
    Use a separate thread for flite rather than a separate program.
    Save voice state to gconf.
    Add filters for replay file selection
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5b988e0146075d57434f8484e1ec9fcf3e183df2
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jun 30 15:24:53 2009 -0700

    Make window taller

commit 696233b088645bba1aaa6aa6c5358c3ecfa5cd3f
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jun 30 15:24:31 2009 -0700

    Use 16kHz voice

commit 2e06772c8b6fd74f86e640ed97f0d5bc8c095c2f
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jun 30 11:58:30 2009 -0700

    Add telem replay and larger labels
    
    Replays telemetry files in real time
    Shows height/state/rssi in big values at the top.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 566dde161385263700eaae51095eecfa9b5972ee
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 29 23:06:47 2009 -0700

    Update aoview/.gitignore
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4ca2d910f3be689fd3c78a4f1be0555d6b1a30c1
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 29 23:05:27 2009 -0700

    Use flite to announce flight state
    
    This uses the flite voice synthesis library from festival to announce
    altitude and speed information during the rocket flight.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 527d7c803ed9597b210634018cb2eb9d048d9846
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 29 23:03:58 2009 -0700

    Add GPS speed and error data to telemetry and aoview
    
    Having switched to the SiRF binary GPS format, the velocity and error data
    can now be displayed.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ee4919dd771b00e2a2dd1083c9528efa7baab50f
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 29 13:54:00 2009 -0700

    Convert GPS to SiRF binary protocol.
    
    This switches the GPS unit from NMEA to SiRF protocol at startup and then
    parses the binary data. The binary data uses a different encoding of lat/lon
    than the NMEA strings, and so the telemetry and eeprom data formats change
    with this switch.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 49bf37767d2453869f2ca2c0832d1124322c66e0
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 17 23:22:25 2009 -0700

    Add ejection computation utility
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e59520e343c2573b1b92c0b3c4aaa93e51bc55d3
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 17 13:55:23 2009 -0700

    Fix clock initialization to not try to use 32kHz xtal on P2_3/P2_4
    
    None of our boards have a 32kHz xtal oscillator, instead we use those pins
    (on Telemetrum) for the deployment firing circuits. The old clock
    initialization code was switching from the 32kHz RC oscillator to the 32kHz
    crystal and overriding our use of those pins.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1c3cc12c08ddefbd6456a55c54ef87dd94d4ae9a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jun 14 17:25:34 2009 -0700

    Some kernels reference USB ttys as tty/tty* instead of tty:tty*
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0f2cbd41332b1b63865c5f1a4e749419b469853a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jun 14 16:45:19 2009 -0700

    Rename state apogee -> coast

commit 5834a12c1d3d71105c9e3d1ceaf9f3ffac9ff1eb
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jun 14 16:39:28 2009 -0700

    rename states. launchpad -> pad, coast -> fast

commit 8c40f19acd09fe93d492c9355da8a1198c34b1c3
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jun 14 16:36:29 2009 -0700

    Disable monitor mode when communicating via usb

commit 7adea9c59c73acd52743446c74fb675e0a1d6d05
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 4 14:38:45 2009 -0700

    Format GPS seconds as %02d.%04d to avoid spaces in the value
    
    The aoview GPS parsing code doesn't deal well with spaces in the middle of
    the value, so pad the seconds field with a zero as needed.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a0e6bfee635b64092262936c858542318f6fc6dc
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jun 4 13:11:48 2009 -0600

    newer INSTALL file pulled in by autogen.sh

commit cf1e258d52b878df10b51a047709b10ecd51a68e
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jun 4 13:09:29 2009 -0600

    add a distclean target to src/Makefile

commit 176052b7c14fcad067835ecb550778faf67cf4da
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jun 4 13:07:10 2009 -0600

    add lib to the front of the subdir list

commit 208bc15714c7b4020c017eef19011c4eb9ab51e2
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 4 11:20:10 2009 -0700

    Move build and debug tools to 'cctools' directory.
    
    These tools were merged in from the ccdbg package.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 17d2432a8b9c15963cd3b821f025ad33972ef477
Merge: 210dbaa 8a9a3f0
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 4 11:13:15 2009 -0700

    Merge ccdbg and altos sources into one giant repository
    
    Keeping these separate isn't making things any easier.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 210dbaa23cdacf3a6f2d6e23493e96ee2ac9bca7
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 4 10:41:34 2009 -0700

    Use autotools, move altos to src subdir
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8cce307bb3156584ba17ae5a787f645dfee5fb94
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 4 10:25:30 2009 -0700

    Make menu seperator insensitive

commit 778cae8fc5a4b30e5045e4703316fc61ae18562a
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 3 17:07:34 2009 -0700

    aoview: Add eeprom data fetching
    
    Fetches the last flight data from a TM device connected via USB and writes
    it to the flight log directory.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bf140966e9649e75b884c8aa5f25ffbf9eed10ea
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 3 10:57:46 2009 -0700

    Stop log dumping at flight end. Print 'end' at end of log.
    
    No reason to continue dumping data past the end of the flight now that the
    logging stuff has been demonstrated to work reliably. Also, to make
    automated log dumping easier, this prints out 'end' after the log data so
    that aoview knows when to stop reading.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 35ac66969abe24ca23776618306a59fc17770e06
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 31 09:22:01 2009 -0700

    Start adding bi-directional packet link

commit 3a3bfd471a868d546d83cdc431b53c8f5208edb9
Author: Keith Packard <keithp@keithp.com>
Date:   Thu May 28 23:17:33 2009 -0700

    Eliminate RDF tone generation.
    
    Now that we have a viable telemetry-signal based RDF device via TeleDongle,
    there's no reason to continue to waste power and bandwidth with a NFM tone.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4d83eef0fe1d24a845ab29a535dfc56e13e7ee20
Author: Keith Packard <keithp@keithp.com>
Date:   Thu May 28 23:17:25 2009 -0700

    Change .gitignore to match new aoload procedure

commit dcfcf3bec6788460b6fe8c239c80bad4526bd15b
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 27 22:01:37 2009 -0700

    Leave serial number writing to aoload
    
    Instead of building per-serial hex files, leave that
    process to the new aoload program
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8a9a3f02b951382573ff74dd6ce5a1c0f335fa86
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 27 21:53:15 2009 -0700

    Add aoload to load serial-numbered altos binaries.
    
    aoload is a custom version of ccload which edits the data before sending it
    to the target machine, writing the target serial number into the data.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5a7a63c34b778e40a61ddabd16ec1af9a2be50c3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 23 21:20:12 2009 -0700

    Fix aoview telemetry GPS parsing code to use correct columns
    
    This code was trying to pull the GPS data from the wrong columns, causing
    aoview to fail to display GPS information.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 26988c3e7acb2fa832810475e43e08fd2867459c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 23 21:18:57 2009 -0700

    Parse both telemetry or log data ao_flight_test
    
    Change the way data is fed from files to the flight test rig to handle
    either kind of input file.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d6f5a0689023546464a71561f53fa2c943077c88
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 23 21:16:22 2009 -0700

    Avoid 16-bit overflow in velocity computation.
    
    Adding two 16 bit integers together can wrap around to negative numbers,
    this resulted in velocity values which never decreased, making the switch
    from coast to apogee state not occur.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit aa6d87aeb616dd62f0debaded297232022b4f8bd
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 20 09:44:55 2009 -0700

    Make file handling more general so it can be reused.
    
    The log file handling stuff will be useful for saving eeprom data, so pull
    it out of the real-time log handling code and make a general interface.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b730c8bcbce649cdddba935e1112aaae538bc526
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 23:54:44 2009 -0700

    Ignore aoview_glade.h

commit 91b07410122d0eaaf292cdb31c200925d45eaf2c
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 23:36:21 2009 -0700

    Transmit computed ground pressure and acceleration values
    
    These are the last two values relevant to figuring out the state of the
    flight computer, and as they are computed by averaging 10 seconds of 100Hz
    sample data, they're a lot more accurate than anything the receiver could do
    on its own.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 71d1689759829f1bc8550f1a4d8c9f2dc90b2ab4
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 23:18:09 2009 -0700

    Provide install target

commit f301b95e87c8ec1e3b58d595a05d486bede5e0c2
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 23:13:20 2009 -0700

    Embed glade file in executable
    
    This eliminates install issues nicely.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 26361686d6fc63dc22d22285f0543c5c2c756fb4
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 23:05:23 2009 -0700

    Add About dialog to aoview.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0f3233c49f43cd4e372e613303919ce4d50255b2
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 22:44:19 2009 -0700

    USB device names can contain '.' too
    
    Depending on the hierarchy of devices, names can contain '.', so allow those
    too.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 33221277690e6ee30387c506c3f2b8237ed48efd
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 22:43:34 2009 -0700

    scandir returns -1 on error
    
    In which case, the namelist is invalid, so don't look at it, and don't free
    it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7cb9fb675f56bf30ab6bf0bcdc5cb679709ffe3e
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 22:29:54 2009 -0700

    Send computed accel/vel/pres values over the radio
    
    These computed values reflect what the flight computer is actually refering
    to for state changes, and will be useful in debugging the flight software as
    well as provide a filtered view of the data.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2c780d67b8a22d75a2da4b2af21fd35f0c6f5236
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 22:29:06 2009 -0700

    Handle disappearing serial devices
    
    Put up a dialog when the serial open fails, and shut down monitoring when
    the serial device disappears while running.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 69616104813fc5ba89fb3128d04fb9328961c59c
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 22:24:53 2009 -0700

    While on the pad, zero out velocity every second
    
    We integrate acceleration to get velocity, but that means sitting on the pad
    for a long time can add substantial error to the velocity value. Each
    second, take the velocity value from a full second ago and subtract that out
    of the current velocity. Once we detect boost, this will stop, which means
    that as long as we detect boost within a second, we won't have subtracted
    out any "real" velocity.
    
    This keeps the pad velocity hovering around zero, which is pretty useful.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1234694eb903b204488ddc7cb30bcfe34bf1e677
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 01:29:06 2009 -0700

    Clear table, reset log on disconnect

commit 4316b6af86b37522038e642235c163fcaad52e96
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 01:28:16 2009 -0700

    Add pad lat/lon, max accel, max height
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4348281bd788a13ea700413537f12da3c00356e4
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 00:46:09 2009 -0700

    Clean up GPS display
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ff68e38770351ddac3285ce275cd85adab01fd3d
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 00:45:38 2009 -0700

    Make aoview window taller
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit be3f4fed7b863c8cdaabe32b61b65a8b3cd11355
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 00:13:45 2009 -0700

    Add lots more aoview UI bits
    
    Logs data to files, displays current state in window.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 93d7ce8e054515ed7b166eb042ae7f47e564d21d
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 16 20:45:26 2009 -0700

    When logging starts up, right the whole ring to the log.
    
    This preserves the data pre boost-detect for later analysis.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fec4212a59a7b3321536b25707dcabc43c797c33
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 16 20:04:31 2009 -0700

    Abandon use of accelerometer for apogee detect.
    
    Integrating the accelerometer data to compute velocity worked for one rocket
    flight, but additional testing shows that it doesn't work in other
    airframes. Until we figure out how this should work, we'll rely on the
    altimeter to detect apogee.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 09771c644de54ae354e8f98af7ba74289b3c0fcc
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 16 02:25:04 2009 -0700

    Add preliminary aoview code
    
    AoView connects with TeleDongle to present telemetry information in a
    reasonable form. Right now, it just displays information to stdout, but it
    does have fancy dialogs for finding the USB devices.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 37250b00f6286aee4b3b28604f5d463db3079a89
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 20:41:54 2009 -0700

    Discard usb output before connection. Handle USB reset.
    
    Discarding output before USB is plugged in allows threads that send output
    and do other things to work without a USB connection. Unfortuantely, there
    doesn't appear to be any way to detect when the USB link is disconnected,
    which means that once USB is enabled, future writes will continue to block.
    
    USB reset causes the USB interrupts to all be reconfigured back to power-on
    state.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9b974217958b1017e62d6c4f4568f547ccc30c58
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 20:40:42 2009 -0700

    Enable radio monitor by default in teleterra, teledongle and tidongle
    
    These ground loads want to monitor the radio constantly, and not require use
    of the 'm' command before listening.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 25fc03a333b2cfad0a93ebc385fbcf74b63c229e
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 20:39:28 2009 -0700

    Remove monitor/rssi functions from telemetrum load
    
    Telemetrum is now a flight-only load, use teleterra or teledongle for ground
    boards.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 05493b98eb1ae4d30cb0b600849d70b03fa33594
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 20:38:11 2009 -0700

    Split out ao_state_names to separate file
    
    Allows state names to be used in programs without monitoring enabled.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d085d43701e3cdd2119e947a9ae45baa78c80318
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 14:29:30 2009 -0700

    Indicate RSSI with a blinking LED
    
    Blink the red LED at a rate proportional to the RSSI value.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 055331d5f7d5adc40c348c3efd331a562dcda82a
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 11:19:13 2009 -0700

    Make ao_flight_test show AGL altitude and positive acceleration under boost
    
    This makes the output more readable
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d91208fbf5fc7797b93087ef8619454c4bed0130
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 11:18:24 2009 -0700

    Make ao_flight_test able to read raw logging data
    
    Protect ao_flight_test reading functions so that a simple
    'script' output can be fed to the program and have it work correctly.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d3dbd8949e1102220ad5fd0863f493c819b96e46
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 11:16:53 2009 -0700

    Print only RSSI when packet CRC is invalid
    
    Packets with invalid CRC usually contain bogus data, so don't print that,
    just print out the RSSI which may contain useful data.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8168820b667cc1deffab64dd81cb4e6e2e6eabe4
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 11:00:43 2009 -0700

    Accelerometer-based velocity values are invalid after apogee
    
    Because the orientation of the flight computer relative to the ground is
    unknown after apogee, the accelerometer data cannot be integrated to compute
    velocity. Main deploy is now based purely on barometric altitude and landing
    detection no longer checks for a low velocity value.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 24fdda44ff8604e40510b196ead17564d8f8cd3d
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 10:59:04 2009 -0700

    Add velocity check for boost detect via accelerometer
    
    Bumping the rocket can cause a brief period of high acceleration, which may
    cause a mistaken boost detection. Require both a high acceleration and
    reasonable velocity to trigger boost phase.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7a1aa3fdbc0d1fae5e7ee027bf8904598c6ebe41
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 10:58:30 2009 -0700

    Typo in callsign

commit 497c89a7d08920630894b2605c3b6a0bdc4c229b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 10 23:11:06 2009 -0700

    Use recorded accelerometer baseline data in ao_flight_test
    
    With the flight computer recording a long-term average value for the
    accelerometer in the flight record, use that to prime the flight test code
    when running a log file through the simulator.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ba3c53636e485450f48093d0a88a6629775f7c3a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 10 23:01:16 2009 -0700

    Don't re-initialize the landing range data at each apogee detect sample
    
    The landing range values are used only after apogee detect, so we need only
    initialize them on the transition from apogee to drogue.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b623b1098bc7a10d471730259438fb82804221d0
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 10 23:00:06 2009 -0700

    Initialize ao_min_vel with |ao_flight_vel|
    
    As ao_min_vel is stored as an absolute value, it's important to preserve
    that invariant, even though we don't expect ao_flight_vel to be negative at
    coast.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e9584e846b9bd7926d61451d32ba5d7a30416f7b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 10 22:58:31 2009 -0700

    Decrease telemetry rate on the pad to 1/sec instead of 20/sec
    
    Transmitting telemetry through the radio consumes a significant amount of
    battery; reducing the rate to 1/sec will reduce power usage while waiting
    for launch.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 97cecb517cd7bf75e1219c76a93bfe6964c07052
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 10 22:57:19 2009 -0700

    Increase the initial accel/baro average to 1000 samples
    
    To get an accurate baseline of the launchpad state, take a longer average of
    the two sensors as the unit boots up.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 98806b1ff3f41484663d61ff430e9e2764c7b5e6
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 10 22:54:14 2009 -0700

    Record average accelerometer value in flight start log record
    
    The average accelerometer value cannot be extracted from the log as the
    record starts after that is computed. As that drives much of the
    accelerometer-based state transition logic, it is an important value to
    have, so we log it as part of the flight start record now.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a12edbfe21fe27a9efbf87bacda9ab4806256e2b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 9 10:24:10 2009 -0700

    Add version command to show product information

commit e80b87f5e3ccf152d67a2e87bdefda161c455599
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 9 10:23:49 2009 -0700

    Pad callsign with nuls

commit beae3360828da21eb1a3c4f88e930f242d4e36b7
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 1 08:14:57 2009 -0700

    USB spec limits bulk endpoints to 64 byte payload max.
    
    For full-speed devices, bulk endpoints may use 8, 16, 32 or 64 bytes, but no
    more.

commit de7814c738488c2c16c6216c93fa78128895e5d5
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 29 17:46:56 2009 -0700

    Use 'char' instead of 'uint8_t' for character data
    
    String and character constants are of char type, so using uint8_t causes
    promotion to 16-bit types when comparing the two.

commit 4ae74fffb939d67424efa3e7f433637f1f920ebc
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 29 17:46:36 2009 -0700

    Eliminate incorrect cast in printf string argument
    
    char * is a pointer to a string in the default address space, not a generic pointer
    to a string. As such, the compiler (at least 2.9.0) mis-compiles this if the
    cast is included.

commit 39f2a3c6bd501d12a92bfd38434ce67bb5beb70d
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 29 17:44:41 2009 -0700

    Correct radio frequency shown in config display.
    
    Radio frequency base is 434.550, not 435.550

commit 75ca1751b7cac2f8074d0713ee96d6ab45b54f19
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 29 17:42:26 2009 -0700

    Reset landing interval tests at apogee
    
    This moves all of the interval management into the landing test code and
    out of the main loop. The interval is reset at apogee to make sure the
    sensors produce a stable reading for at least 20 seconds

commit 7a1b77c2d7253a681389f32b70e2460aac188807
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Apr 26 17:53:13 2009 -0600

    clean up host programs, too

commit 5df80c346d65a9d56a8699b056dc44924acb31fe
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 26 16:04:07 2009 -0700

    Was missing v_batt in adc dump command

commit c3fec2c4c65db71e88ef0c05c69463438a7cfc6c
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 26 15:38:28 2009 -0700

    Add manual ignition and igniter test commands

commit 819f1de8dd6010fae050bcef930943c7923929f9
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 26 15:38:03 2009 -0700

    Clean up commands a bit

commit 178abb5c8439509926a5507911d7148b84f051b8
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 26 15:08:58 2009 -0700

    Clear more files on make clean

commit 70a69f3acdca27b80cdb2069de59bbc6dba83dbd
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 26 15:05:29 2009 -0700

    Label binaries with product and serial info

commit 5ed3b1cb52b573db1fee9655a29a0e6dd72f53fe
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 26 01:37:02 2009 -0700

    Make sure full log is written and flushed on landing.
    
    The final state change to landing is recorded in the logging thread, so have
    that turn off logging once it has recorded that state. Then make it go to
    sleep.

commit 2e737ad00cad5d893b252d8aa9dbff3d9b800731
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 26 01:36:53 2009 -0700

    Clean up monitor output a bit

commit 38a0b61b0a0b3c00f064c8d562950a17a6ddff4a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 26 00:11:32 2009 -0700

    Add configuration support
    
    Current config variables:
    Main deploy altitude above launch (in meters)
    Acceleration zero g calibration (manual or automatic)
    Radio channel (freq = 435.550MHz + channel * 100kHz)
    Callsign (max 8 characters)
    
    Supporting this involved shuffling code around so that the
    non-telemetrum builds could include only the stuff they needed.

commit c65f1a1acd2ca00758833cec5d3f8056d303d3e2
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 25 14:44:33 2009 -0700

    Allow for slower ADC operation. Add power saving code.
    
    This tries to make the flight computer use less power by disabling USB in
    flight mode, lowering the telemetry rate after ascent. It also disables the
    RDF beacon during ascent and re-enables it once descent has started.

commit 8e7b48b5f090be81980ab00fbce814ae1cc253e4
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 25 14:44:04 2009 -0700

    Allow ADC to be disabled

commit 7bc3d9962872850e7b420221cf689db16b4305cc
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 25 14:43:23 2009 -0700

    Place CPU in P0 state while idle

commit e45fce7f82d704d677f84c69b0e07588d109d780
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 25 14:42:20 2009 -0700

    Add RDF beacon and callsign to telemetry

commit 61510f98404bca6861b2da98f6cd9ba9deb76968
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 25 14:40:51 2009 -0700

    Add radio code to emit a 1kHz tone

commit 0f07803d84b5ac89500ee33a6818c50583e3ff7f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 25 13:18:37 2009 -0700

    Allow the USB system to be disabled/enabled at run-time

commit 45976af820fc41099928df71ea8304c56eb9fc7c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 25 13:16:27 2009 -0700

    Make LED usage depend on target device

commit 4a050704ad2c497e9f1b0988334228b0bbc4c170
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 25 13:13:24 2009 -0700

    Make some functions reentrant to save DSEG space

commit 6b3d25a6d6d7847765eb03b836913dd5ecef2993
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:17:37 2009 -0700

    Add monitor task to flight software
    
    Allows the use of telemetrum in teledongle mode.

commit ad0d2d88a91cbd02c56ea5ff6dab23e16aec6510
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:17:19 2009 -0700

    Report difference from ground to max altitude at landing

commit f94ab879ff6f97708827c74facd11003a2d8b590
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:16:29 2009 -0700

    Display data with units while running simulation

commit 6fb26340b150e831a8a9e25e3b68074c29e48dbe
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:13:31 2009 -0700

    Enabling apogee detect via speed: < 200m/s && < max_speed - 50m/s
    
    This change ensures that we actually got going fairly fast, and then slowed
    down a bunch before enabling apogee detect. Otherwise, we'll detect apogee
    right off the pad as we're not going very fast at that point...
    
    This also adds the 'f' command to show the current flight status on the USB
    port.

commit 20b9f304ecbddd73a0ee2461b4c5e80f08157f98
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:12:28 2009 -0700

    configure igniter ports, set values to measured ones

commit 6bf1d91ce0b723abe2bcec89668c13135ec044cf
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:11:40 2009 -0700

    Move ao_led_init to end of file to be consistent with other files

commit b4de7d550ec9a09ccf5f6a72debc6646706e3516
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:10:20 2009 -0700

    Define ao_state_names in ao.h so other people can share

commit 8e62747b3692d0ac75b08eaf5c3e4b5d766be6ad
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:09:31 2009 -0700

    Bump NUM_CMDS to 10

commit 2f781beb73ef24ab5fbe2688a83d07ad26c15972
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:09:09 2009 -0700

    Move beep_init to end of file to be consistent with other files

commit b99315cee4ab796376458a2442cf36806fa4aed3
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 10:19:31 2009 -0700

    Update flight algorithm based on data collected from SN-1 Flight 1
    
    This now correctly sequences through the flight data collected from the
    first TeleMetrum test flight.
    
    This also completes up the flight algorithm test harness (ao_flight_test),
    which runs the flight algorithm on the Linux host from a captured data log.

commit b32f2f0090ff967edac07ae4d7a9895ed0b96d31
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 23 22:17:44 2009 -0700

    Add igniters and update flight control algorithm

commit f155333ae18a25068644792e8940269d9fb28033
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 00:15:09 2009 -0700

    Avoid ram from 0xfda2 through feff, its funky

commit f9c1c545c9dc11c3190a6cf7504883131fffce2f
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 23 22:18:33 2009 -0700

    remove ao_flight_test until its ready

commit 86e73c009f78dc4664883353124fc891fbb01dce
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 23 20:50:07 2009 -0700

    Add teledongle module

commit 204daac71ad56926730f5d6860bd70c645302e19
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 23 14:26:01 2009 -0700

    Set telemetry rate to 100ms

commit 306b28f632e21b42ab165e7944283cf9764b590e
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 23 14:23:26 2009 -0700

    Wrong license on ao_monitor.c

commit dca3a6de26d26c0020f3fb2cf5d8ac1552c195b1
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 23 14:23:00 2009 -0700

    Crank up radio to 10dBm

commit fbe3096f7e9a8112dbc79f376eccdaa6872ae520
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 16:03:28 2009 -0700

    Add COPYING file

commit 9b7788f18bbaf3c4e5ebbf6c5ebd926468b0e045
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 15:55:01 2009 -0700

    Clean up TeleTerra files

commit 61cee50c86e275f9fde875bd317c3e74255394ec
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 15:53:55 2009 -0700

    simplify ao_time function

commit 3703ecdc9e190f2e0b7ead0e71b78be881c1f3b7
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 15:53:46 2009 -0700

    One line radio status

commit 1fbb3c17672a03ea6318fee07f9c2dcd7a8d0b16
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 15:49:16 2009 -0700

    Add new binaries to .gitignore

commit 00d5610caff61559eb24c24beaa56629d6bb03be
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 15:49:00 2009 -0700

    Speed up dbg port bit frobbing

commit c7555eb16876aa8ff9fe7f648d325a1b8fb54d23
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 15:48:28 2009 -0700

    Use sdcc from path

commit ada6dea04b94be016598566c4c13e6105aaec353
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 15:48:14 2009 -0700

    Clean up task list formatting

commit 0a1b2297ee9f5bbb918bd72f26088a3e0b84839a
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 15:47:57 2009 -0700

    Control radio monitoring with the M command

commit 837c620f07b63efc171be3ac14c78bc99adf7592
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 14:25:43 2009 -0700

    Shrink USB output buffers, work around USB packet errors

commit d87e9c25947d7cc2eba8894a524977f2c55a089a
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 21 02:07:24 2009 -0700

    Clean up telemetry now that all packets are the same

commit 1b333def5052d2ed47fdeaef23a897fe326f6340
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 21 02:07:08 2009 -0700

    Add longer debug delays to reset/debug_mode entry

commit d1887ded41a5bfec8e10e9fd736fa9444b9b6222
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 21 01:17:03 2009 -0700

    Fix up fancy dbg stuff. Add teleterra initial bits.
    
    The dbg stuff needed a bit of help to actually walk the tables; it appears
    that complex expressions confuse sdcc.
    
    This also adds primitive teleterra bits, but no UI, etc.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 43c8f7012102cdb591ace899420c10e4a78385ad
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 20 23:33:41 2009 -0700

    Add radio support. Build separate executables for TeleMetrum and the TI dongle
    
    Ok, way too big a patch, but things were in rough shape.
    This patch adds support for the radio, both transmit and receive.
    Then, because I could no longer run the TeleMetrum code on the TI
    dongle, I ended up building a separate image for the TI board, which
    involved creating a mechanism for having multiple command sets and splitting
    code for different functions into different files.

commit 5be13b76a2e29b84cd6d1eec065e3354b0dafce5
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 18 23:19:24 2009 -0700

    Start using pdata area for less-frequently used data

commit 3e18b5a0d4c7d84df98b6ed0b7783de1d42d45bf
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 18 23:19:05 2009 -0700

    Slow down panic presentation

commit c4e983daa4579896b227fdcb2be43fad75e94307
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 18 23:17:45 2009 -0700

    Parse GPS data locally. Add 'g' command to display recent GPS results.
    
    This parses the GPS GGA message and stores it in a global variable,
    protected by a mutex.

commit ed6f67dc47d750d5ff8bea63ae7cbb560689b9b6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 18 23:16:01 2009 -0700

    Add task names and 'T' command to show task status.
    
    The T command shows the current wchan and PC for each task in the system.

commit 3d5a5fc4db5f681e848202c4ee4099d2879677d6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 18 19:32:18 2009 -0700

    Fix GPL version at 2
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 022f83ca6fd589005d8eb3e25e633950fef69fa7
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 17 23:38:14 2009 -0700

    Add gps, debug dongle support and pressure alt tables
    
    GPS also pulled in serial support. The altitude tables take raw 11-bit
    pressure sample numbers and convert them to standard pressure altitude
    values.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 31fce622b1bab7e3f421069d7f6d4d9bdcd825de
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 17 10:32:45 2009 -0700

    Enable FEC in radio packets

commit 293a357911090a2f37bdd6f7ea96942079ffdf2e
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 17 10:29:42 2009 -0700

    Add CRC to radio packets

commit 20834caf01ddf481e8362b0d2627ef383a82e09d
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 17 10:23:10 2009 -0700

    Add data whitening

commit 94e5343a72121a81ab19bf5025e6b6fc9847eb4f
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 17 10:19:25 2009 -0700

    Add packet status byte defines

commit 04bc51c170c6f22bb5cc16867ce9a307818a7a00
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 17 10:11:31 2009 -0700

    Add separate xmit/recv programs to radio demo

commit fafe55c3405964e0defdf25b6c00236f9aaefbc5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 17 10:11:11 2009 -0700

    Get env var for debug method selection

commit 26095fc0511ee0d5213f038986032f7c59964cf0
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 17 10:10:47 2009 -0700

    Run-time selection between cp2103 and cc1111

commit 543bedde83cbce5145668e72965e02d892187b59
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 16 20:38:14 2009 -0700

    Send data

commit 5e2393eb6b1a6d7b180bd63d5165ee7b7ff5f9e0
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 15 14:25:26 2009 -0700

    Move a bunch of variables from __data to __xdata

commit 4d1091d9bd121f05f5fe0a9c9d2bc0da8c562b9a
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 21:25:15 2009 -0700

    Slow down panic code, disable interrupts

commit 545478dd02eaeff6a65d318e722b1e4fce5e01b4
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 21:24:25 2009 -0700

    Keep reporting flight state while it changes

commit 9605045164882b4ca3d1317ac860b02513a51f30
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 21:23:55 2009 -0700

    use red LED to indicate system startup

commit dc844ee7e49a3b6145b3165252a592ed070d600f
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 21:23:13 2009 -0700

    Use ao_ee_flush_internal while holding mutex

commit 5e45d1c89b00e74d5b2730345843f43aab516af2
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 21:22:56 2009 -0700

    Leave beeping and lights to the flight code

commit 902c342289c1d13a4d55b9224acb6d67578b7a60
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 21:22:31 2009 -0700

    Make mutex functions reentrant

commit acc4fc635edb70ec1ba2dff9f7ac0c8542c72c47
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 19:08:01 2009 -0700

    Add in existing flight pieces: flight/report/log
    
    These pieces come from the old telemetrum firmware.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ac99982b10fd5772218660137ee21db9b90cd885
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 14:21:56 2009 -0700

    Add eeprom driver and command loop
    
    This involved adding dma control and a mutex implementation.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fbd8f4aff5058f4d371596b04715b7cb6d38e729
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 11:04:09 2009 -0700

    Switch from --model-large to --model-small
    
    This shrinks the application quite a bit, and should make it faster as well.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fb63262699d3a6fbf347d24efda8b01f75b7d0d3
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 10:02:19 2009 -0700

    Add comments, clean up white space, etc.
    
    Various clean ups now that the basic code appears to work.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7e4abf3a40c39d0ce4f466281bef9a464df85dd4
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 13 21:58:07 2009 -0700

    Switch USB to double-buffered

commit b56a44e48552bc32dbba9ff21770c370219a684a
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 13 21:51:59 2009 -0700

    Fix USB input/output by reloading packet limits.
    
    The USB controller is reset during the connection process, which clears the
    packet limits set in the controller at initialization time. Reload those
    values when the configuration is set.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit cdaf3fc5802acf2ddc7972a15649ab0e1b31b873
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 13 20:39:46 2009 -0700

    USB working up through reading strings

commit c5c1e3fb1c253d387be02c127253ac2a55d577b4
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 13 13:51:08 2009 -0700

    Add USB support.
    
    This offers a single CDC ACM device over USB.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f3f25a1cec7d2a034aa544569cfd23bea1a996c5
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 23:53:55 2009 -0700

    Add beep/led support.
    
    Support our P2_0 connected buzzer, and formalize LED output support.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e14f07bfdb8824fc7ed6df1129c66ee39ffd6d54
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 23:17:16 2009 -0700

    Add A/D sampler
    
    Sample A/D at the timer tick, placing data in a ring
    of samples.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 823f4f92de0c1f8dd7a644a8e56ffe9822bee6e2
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 22:52:47 2009 -0700

    Add 100Hz timer
    
    Use Timer 1 to generate a 100Hz timer interrupt

commit 650a77e209dbb54c8d8fd9824cee430985564973
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 21:58:49 2009 -0700

    Update README

commit 870e98334018a66de8a6e4a659d2dc5dee1cbecf
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 21:52:56 2009 -0700

    GPL Version 2 only

commit 11c526bdcbf4012e18fbfdc29ca8832870ca38f0
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 21:47:32 2009 -0700

    Add load command to s51

commit 55402ba3e87fd699c51079843309f1f0d1534724
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 21:33:55 2009 -0700

    Make test more complicated

commit 3d3f849c9af9028f667cef4afedc0798d39a9efc
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 21:33:46 2009 -0700

    SP points at last pushed byte

commit f72c4cbc8fd9412dd1cce0fc446e7bbd2edc2d34
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 20:27:03 2009 -0700

    Add .gitignore

commit 1903a86bf2cc6b685ccc475e62eabe49a4ec5b43
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 20:25:39 2009 -0700

    Initial AltOS import

commit 5221dc63cf3a059a32aca2bfa7828c215be814a1
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 12:38:58 2009 -0700

    Add ccdump

commit ee110425fb814780476d1d3d8a257af126f41763
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 6 17:09:23 2009 -0700

    Bump buffer pointer as data is written to cc-usb

commit 2d9b8a83a2d9f495199033e43f519d26f27938fe
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 6 11:31:49 2009 -0700

    Add support for a serial-connected custom debug dongle
    
    This uses the cc1111 board as a custom debug dongle with faster
    methods for communicating with the debug target.

commit 24edd56155ed0fa02fdd8f66fdc7aa5a1021bf7d
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 1 17:50:47 2009 -0700

    Reset cc1111 on s51 exit

commit 5fcfe854d29e1862d9a6adcbef3ef5119eb52fa3
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 1 00:06:45 2009 -0700

    Add timer-based beep test

commit 91607bebdd167ac632aca4b66e22cb0cabdf0d20
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Mar 26 22:41:47 2009 -0700

    Add readline support to s51

commit 66ee94ed10e3d79b24f45a5c63e58456d4d30343
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 11:37:48 2009 -0700

    Deal with MSB-outputing DMA engine

commit d3732fd405af03c3752a84c4b78da7ef5ebd3744
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 11:14:03 2009 -0700

    Flip ADC bytes around

commit 50cc8e97e76d9b60c622962e1c74cf422dfb2c0f
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 11:01:30 2009 -0700

    Add spacing for serial adc data

commit 5577ca3762bfc000b0bc3782c73a8f95996a28a6
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 10:58:57 2009 -0700

    Inc only one on dest addr

commit 378227d869a3e8787c532c8c4e1563b44002c4b5
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 10:55:17 2009 -0700

    Dump remaining inputs

commit f54a41e37d6897db2e24fbc82880076b78a0ae41
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 10:50:36 2009 -0700

    Remove poll for ti demo button

commit 2b93a70fdd9e47e8195855451aa19ecad5d8b068
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 10:50:14 2009 -0700

    Add adc to serial conversion

commit d9fd548db15232e3a8823815962b252c7a5e7cba
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 10:04:50 2009 -0700

    Add ADC via DMA example

commit 61faf2b773300988fe27cfde5bc045be9950a1b0
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 09:45:14 2009 -0700

    Add DMA example

commit 7b3fdf5b42c9be9bebc1ceb7a52ff0f5a2a28fcd
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 01:05:36 2009 -0700

    Back to 0dBm

commit 31d59b88baa2cd96dc6263d1c5877283f2cd8c36
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 01:03:08 2009 -0700

    Make radio test compile again

commit 9ce713fdd19bf1a51370dacba3670504356c5c11
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 01:02:07 2009 -0700

    Wait for xtal to stabilize

commit ffd43886dc902f3bb7407294018e3d62cac39480
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:55:11 2009 -0700

    Check serial input

commit 029963cc94fbb47560118b5de73c537e2c14ed7c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:50:02 2009 -0700

    Eliminate array walking

commit 019456a17d36f8f9f9b72cfbc980492175086d32
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:41:49 2009 -0700

    Add a per-char delay

commit cfaf187e96ba98eb8dd934409a10bc70273fe68a
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:36:35 2009 -0700

    Use UTX1IF to wait for serial TX complete

commit 006124529b243c7657a94312d2c868a82878d8bb
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:29:29 2009 -0700

    Send more interesting text

commit 5049acd3d1ae42304513f667f55a2ddffa4c685a
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:24:56 2009 -0700

    More random serial bit frobbing

commit 50bdc2407c674a4770912d3a626f36820a7f1527
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:13:15 2009 -0700

    Flip serial TX code around a bit

commit 7b7617e376afe0df1d505375b76198358330370c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:09:47 2009 -0700

    Try serial polarity high/high

commit 18edacdb1e6e429cc29a164e22ef2a566096b9d9
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:06:32 2009 -0700

    Make serial test simpler

commit 62744c186792739c3bf5798c80ff87c69fbe2b65
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:03:45 2009 -0700

    Flip start/stop bits around

commit 9e96107d5d1a9681b07c36bb5860c748bfe10ec0
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 23:57:12 2009 -0700

    Stop high

commit c41ceb9a488b2209d1d3c09967d1473ce608030f
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 23:24:01 2009 -0700

    Change radio to -30dBm

commit c35de083ca3d4f362063b056a0fd74ffe629d168
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 23:11:48 2009 -0700

    Add serial test program

commit 8ecbd8734f0fb5588b2a8eb20720cfc6f43dfb47
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 22:37:38 2009 -0700

    Wait for xtal to stabilize after changing to 24MHz

commit e120269fc0f8e14ddf1755337b1d092173e16da2
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 22:21:31 2009 -0700

    Actually return byte read from SPI

commit de1ac6f99a1526fa840a52cfc10fa3edc0589bed
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 22:12:51 2009 -0700

    Clear UxCSR_TX_BYTE after transmitting a byte

commit 3ed3ff63e46767a256d30c5da5c52ae20089a91d
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 20:04:58 2009 -0700

    Led the LED turn on

commit 91b3a6ae74184692f45702587c4d678b2799ad8c
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 19:55:04 2009 -0700

    actually write and compare SPI test bits

commit 7de3a43887485c3c6cf52960376ccde33fb33985
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 19:54:02 2009 -0700

    Add USART-based SPI test code

commit ef0eef68280e9b6ca5e3bb71062e23054340e1ed
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 17:22:36 2009 -0700

    Change spi test string

commit 8131389ee5018c05b721146a98367150cf500fdf
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 17:15:09 2009 -0700

    Oops, not merging in the bit read for SPI test

commit 3429016d1359ec650993d2fb0596184e3f717871
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 17:04:45 2009 -0700

    Adjust clock/data phase for spi test

commit fedd18b28ea54e1dabcd2f9e8cab3ae4ee0fd070
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 16:35:13 2009 -0700

    MISO needs to be an input

commit f0c233f25a208a636833312b1766825815735304
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 15:41:55 2009 -0700

    Add bit-banging spi eeprom test program

commit 6eeee64cf16ccc9218dbdde5426f25bda5e3407f
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Mar 18 02:58:33 2009 -0600

    working beep at around 4khz

commit 4726317de811c20e8d6754762437b5c9cbb3a48c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 18 01:54:34 2009 -0700

    Add simple test program to light up the transmitter at 434.550MHz
    
    This starts a transmit sequence, but doesn't send any data so the
    transmitter just locks on.

commit a0a27600ee2bf237e74eb83767a8d2e7c91df24f
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 15 18:14:21 2009 -0700

    Correctly comment which bit the beep program uses

commit 25b77d236c01258abfc03114c2fc9ea2d69ca6e7
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 15 18:11:53 2009 -0700

    Add telemetrum beeper example

commit 164b4e4749ad64ebbe26e84fd7b4fa1aa733dbe4
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 15 18:11:20 2009 -0700

    sdcc gets the lib path correct based on the model

commit 04a316133af93b79bfbebb91f05eec1015ec2abc
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 15 18:10:43 2009 -0700

    Bump debug speed back up

commit 9fd63972758d6d5572f7bcaadec9b1c0e974a2e8
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 7 21:05:40 2009 -0800

    Only flip changing bits in async mode

commit c8fd04e154bcfd65ae1200980bd8163caabd7fe4
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 7 21:05:06 2009 -0800

    The debug port only works if reset is higher than clock. weird

commit ade11f88754b4ab0386ebf86afc5257e59238f62
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 7 21:04:38 2009 -0800

    Make manual bit flipping sync after every transaction

commit e63b5271bb54afc36e4b9891e51e053ff6011092
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 7 14:49:22 2009 -0800

    Add ccmanual

commit 77d754afc2d14aaa4413c13ebe3777ef385f62a9
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 7 14:48:49 2009 -0800

    Sync after manual bit reading

commit 5a338c8a7394d003355f96a8777b6fe83bb8493c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 7 14:48:35 2009 -0800

    Flip debug pins around to match telemetrum

commit cc0495b7028f4b1189a00707d828a68534d1dea2
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 6 22:52:35 2009 -0800

    Wait for a while when switching the RESET_N line
    
    The cc1111 manual suggests placing a 2.7kΩ resister and 1nF capacitor on the
    RESET_N line to filter out noise. This increases the time necessary to reset
    the chip to several microseconds which is longer than the interval between
    two USB packets. Flush the USB packet queue and sleep for a while after
    changing the value on the RESET_N line to make sure the chip sees the state
    change.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 41289e6d8f1767547a33fea349866e928e44910f
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Mar 2 07:46:20 2009 -0700

    minor s51.1 formatting fixes
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fdee231ed097a4348aee78fbd4aa92826b80de03
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 1 23:12:31 2009 -0800

    Add s51 manual.
    
    This documents (briefly) the s51 hex debugging interface program, including
    some simple commands to test the operation of the system interactively.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f7d91bd23b8214e09deae0aafb516331e934c49b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 1 18:43:03 2009 -0800

    Sometimes the link breaks and the GET_PC command returns garbage

commit 3cc8d11eb8d5d0b42141dd84a58d461287f59e3a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jan 25 08:38:48 2009 -0800

    Support 'set' command
    
    The 'set' command modifies target memory and registers
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 60940b4be23962db79b8e914ec943d0636dd68ad
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jan 5 21:45:21 2009 -0800

    Expose ccdbg_set_clock API
    
    This allows applications to change the debug port clock
    rate on the fly.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit eb09e61b0682eb2aeac8e1a34d58b897ba6db8e7
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jan 5 21:44:44 2009 -0800

    Use custom sdcc libraries (this needs to be configured...)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1ccfe0887c794397131ab1c986c25f66eea86a6c
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jan 5 21:43:44 2009 -0800

    Have S51 ignore SIGINT while running under sdcdb.
    
    This prevents keyboard interrupts from accidentally stopping
    s51.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7c03937b36aac82b08f4ea0c6da33a994fe15ec7
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Dec 30 22:40:13 2008 -0800

    Add simple and timer sample programs
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6c2a65c743a4ffae96ed27dbc38c1bf9242ed1df
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Dec 30 22:35:53 2008 -0800

    Save/restore registers to host during memory operations. Cache ROM data.
    
    Because the debug port uses instructions for most operations, the debug code
    will clobber registers used by the running program. Save and restore these
    to avoid corrupting application data.
    
    If the ROM file is known, use that to return data instead of fetching it
    from the target to improve performance.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ea366058aa467a8a7caf17e7014758f3741ea7f7
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Dec 29 12:35:11 2008 -0800

    Fix flashing less than a full page of data. Verify page at a time.
    
    The 8051 flashing code requires special help with counts with non-zero low
    byte. Also, instead of verifying the entire flash contents at the end,
    verify each page as it goes.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e0697186a2f9b6139636ff5d5c162879c85caf9c
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Dec 28 00:11:13 2008 -0800

    Use SFR access funcs. Support 'dump' command. Add -m (monitor) flag.
    
    Not all SFRs are visible in the unified address space, so the SFR-specific
    accessors are required.
    
    The dump command is the same as the various 'd*'
    commands, but also supports dumping program memory.
    
    The new -m (monitor) flag watches the command stream between s51 and sdcdb.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 23aca1fcbc169184e32d4ec19f28dd4fd4cfda36
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Dec 28 00:09:30 2008 -0800

    Save/restore regs when reading/writing memory. Add SFR access.
    
    The DPL and ACC registers are used by the memory access code,
    so they need to be saved and restored. Stuff them up high in ram for now;
    this should probably be fixed to pull them back to the host instead.
    
    Special SFR access is required as not all SFRs are visible in the unified
    address space.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1405838160b69e2cda456e21502a1d03b3aa7548
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 27 11:25:58 2008 -0800

    s51: get start address from ihx file. re-enable breakpoints after reset.
    
    Use the start of the ihx file when asked to run from 0x0, this lets
    sdcdb run programs from ram.
    
    The reset command clears all hw breakpoints, so reset them afterwards.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1264c3676e95427bba5d01e05c303d036a7f9eca
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 26 23:05:04 2008 -0800

    Switch to libusb-1.0 and use async interface.
    
    The async libusb interface offers substantial performance benefits by not
    making each command wait for the reply. This makes talking over this
    interface almost reasonable.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d2d9cfd74fd66836c913c02276e09136d83b35dc
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 26 17:58:48 2008 -0800

    s51: add breakpoints and the ability to block awaiting a breakpoint.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4c4093c3fdd309123fdd068c0e1ff4947104492d
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Dec 22 19:11:56 2008 -0800

    Add more commands to s51 assembly-language debugger
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 55eba4fa08b022197106245d36a70f575a070b0a
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Dec 22 19:10:27 2008 -0800

    Make read_memory debug output use ccdbg_debug.
    
    This makes it default to not being presented, which makes s51 much happier
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e75918f3667a5c8ad294bec4acef6fe81682edf6
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Dec 21 23:33:35 2008 -0800

    Add preliminary version of s51, a UI clone of the 8051 emulator.
    
    sdcdb provides source-level debugging using the 8051 emulator, s51. By
    emulating that emulator a the UI level, we should be able to get source
    debugging right on our target platform.
    
    This is just the preliminary structure for the program with most commands
    not yet implemented.

commit f7d49868aeae80d515b12a7e339628f1296754a6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 20 23:30:06 2008 -0800

    Cleanup work; separating out the cp interface to be more abstract.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 30f23f23a6db3d12fdc9c088cf6ab47c5e5077fb
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 21:13:04 2008 -0800

    Clean up autotools stuff.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9025eb792861930e6af918d2727c4f5d97a69936
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 21:11:45 2008 -0800

    Autotools.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ab909db28307cfbf7ee8d692506bb79d7ffd627a
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 19:08:13 2008 -0800

    Ignore .ihx files

commit cc8db276bc4f2fd7eb00168a5c0689a8457a5c6f
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 19:07:37 2008 -0800

    Move blink example to subdir
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 82e2d7ebed6682062dc400478c736bd6c91195c9
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 19:04:26 2008 -0800

    Clean up makefiles, move ihx files to .ihx

commit 52fb5f795adfd7f62e5b6dbe65877d14361cfdae
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 14:39:57 2008 -0800

    ignore more stuff

commit 4ecfc33f16aa36b315519e6f279da65374b67aba
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 14:37:53 2008 -0800

    Add cc1111 isr stub example

commit d32e6658c3e489b62ba3cf6d22e3ab177b9b8a3a
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 14:37:29 2008 -0800

    Add blink-tiny flash and ram versions

commit b4d1127ef007843c643b778b3b2f6b915b1d5d9a
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 14:19:29 2008 -0800

    Flash multiple pages. Eliminate off-by-one error in hex_image length.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 55995515b9d4fc1e193039eab697c5d03db417c2
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 11:04:16 2008 -0800

    Add flash writing code.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0bc52385b8f86f9ca1c450ad106e6d8afe3bc153
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Dec 18 12:37:32 2008 -0800

    faster
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3779cc8b32cac3640f42bd0400d4199ddae965a1
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Dec 18 12:17:41 2008 -0800

    cq
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit dc03adc179669d41e3551d74b3c5a60db41ff217
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Dec 18 12:07:06 2008 -0800

    Add ability to load Intel HEX files. Add sample sdcc LED blinker.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 807e2adacb025af77bb53c03209e9c8e0d7a5f95
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Dec 18 00:18:50 2008 -0800

    Add ability to read/write arbitrary memory. Write LED blinker program.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8c879bf51c14a5928135d59211facd72f6a32808
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 17 23:15:47 2008 -0800

    Move manual bit-banging debug code to separate file
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit aec3bbce84a5ceb92060a4b3889379f2af2404ac
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 17 23:15:19 2008 -0800

    reduce clock to 50us
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fa168f963f8b00144d12aa2770e9c0917cfae123
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 17 23:12:59 2008 -0800

    Fill out ccdbg-command to support all debug commands.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5df84df7cd6a31527dcfd11030f00ef9d8abf170
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 17 22:24:59 2008 -0800

    Clean up bitbanging layer. Add debug printfs.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 584e28bac8af38de433767e017977ed1adddeb36
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 17 12:32:15 2008 -0800

    Clean up sample debug files
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e64b4dbf15e9ee1cb0de002985de7575e83d46e9
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Dec 8 17:25:28 2008 -0800

    Add support for input-only lines (-)

commit 4f38974a9941cddaba27c17c5a46f923db386c94
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 6 16:32:27 2008 -0800

    Add another example

commit 3709ec3205cfb152b6568f3ea505c67fe7504c2a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 6 16:32:12 2008 -0800

    Add libusb support and lots more examples

commit 39801e6e9fb9388072ee414a447f74095a6ac960
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 28 22:57:07 2008 -0800

    Random hacking

commit 01cb2799875e086ee6096627c058ee235bbc33d5
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 27 17:07:15 2008 -0800

    Add prototypes, add stub mainline, add .gitignore

commit 0ffe4ef870b0e564789a1990aeab5b6651868e5b
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 27 12:33:40 2008 -0800

    cc1111 debug port access through cp2103 serial chip
