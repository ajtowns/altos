commit 6bd85138c1bfbc1d8b78dce1501870a65a64db36
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 12 19:53:40 2010 -0600

    lose the quotes since they apparently aren't necessary

commit d639144b9bb840fbbced199738787ec054eddf12
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 12 17:04:41 2010 -0600

    update changelogs for Debian build

commit ae6854df00579ea1c3486f1bf8f19443d5ac9498
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 12 17:04:13 2010 -0600

    update desktop file for conformance with current standards

commit 7191d74e680a63728f5eb139069a674fef969e6c
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 12 16:45:00 2010 -0600

    update changelogs for Debian build

commit 68eaaa694bb7bf20642ad11eac8a13c1c8e21b7d
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 12 16:44:14 2010 -0600

    add desktop file

commit 9d3d09578381bb6e6f88c39b0e945371bbc22c5a
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 12 16:34:49 2010 -0600

    add desktop file provided by Bob Finch

commit 3cc1dad3b497524ffef61190dd68908cb19e8c35
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 12 16:28:35 2010 -0600

    add initial package build scripts for Arch Linux from Bob Finch

commit 1b8671bd0a00cec6ae4ccf442cd007b18af82fb0
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun May 9 01:41:00 2010 -0600

    lots of updates

commit 53b9a9bc28a9278249ff37f92110c21380e93cda
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu May 6 13:59:23 2010 -0600

    update changelogs for Debian build

commit cde60f16f6ab2cdd5010a0e106ae312d144947cf
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu May 6 13:58:31 2010 -0600

    Revert "Merge remote branch 'remotes/origin/fix-reset'"
    
    This reverts commit 314d27a73c903fef2968dabac3d5313573713460, reversing
    changes made to fa77db2ffd8a749c93767db5a6311131e00473ae.
    
    For whatever reason, this is utterly not doing the right things today!

commit 8be04df7e1e0a369ffb1137c6e2ec63585e3c935
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu May 6 12:48:00 2010 -0600

    update changelogs for Debian build

commit 314d27a73c903fef2968dabac3d5313573713460
Merge: fa77db2 823fc0a
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu May 6 12:47:30 2010 -0600

    Merge remote branch 'remotes/origin/fix-reset'

commit 823fc0ac27b8df9b4ba1ca0f229b431baf5b46dd
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 5 12:50:39 2010 -0700

    Don't change dbg clock while changing reset_n. Use 20ms everywhere
    
    This changes the reset code to be more conservative about changing
    things at the same time, and also sets all timings to 20ms to make
    debugging with the scope easier.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fa77db2ffd8a749c93767db5a6311131e00473ae
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 5 02:34:41 2010 -0600

    update changelogs for Debian build

commit 8b6767e24a88482dbd3d4c4c969a0be08917d22b
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 5 01:32:46 2010 -0700

    Use ao_delay to sleep for 2 seconds instead of trying ao_sleep
    
    ao_sleep doesn't delay for a specified time interval as much as one
    might want it to.

commit e6bb80975fde20928a830170f0821d59a8c72690
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 5 01:31:57 2010 -0700

    Fix all stdio reading functions to be __critical
    
    Oh, right SDCC has '__critical' to mark sections of code that need to
    run with interrupts disabled; no need to use EA = 0 and EA = 1.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ff03cdf746b83542ebcca00d32e6cc69ccfc122d
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 5 01:57:54 2010 -0600

    update changelogs for Debian build

commit 8702f497c4278648303eced1aed5bd76d559521a
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 5 01:57:11 2010 -0600

    initial attempt at a telemetrum turn on script .. needs work

commit 01cefa181b04e53c20109ef8f3ffff633744da73
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 5 01:56:51 2010 -0600

    update changelogs for Debian build

commit 45a1c2d2dfb69e5269ef2756fcd0f734b48d41cb
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed May 5 01:54:33 2010 -0600

    update changelogs for Debian build

commit f7ff3278bb670df59d7425a014cfe8e3718fea3f
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 5 00:44:42 2010 -0700

    Disable interrupts while reading from stdin
    
    With multiple input source support, there is a lag between asking a
    device if it has data and then waiting for more data to appear. If an
    interrupt signalling additional input arrives in this interval, we'll
    go to sleep with input available.
    
    This patch uses a big hammer by just disabling interrupts for the
    whole process.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit aa9ff021d683764a43800eaa18ea0c9be5134939
Author: Keith Packard <keithp@keithp.com>
Date:   Tue May 4 21:42:54 2010 -0700

    Revert "Add optional 's' command to packet slave to enable/disable slave mode"
    
    This reverts commit e7dc7fab787df63a4de72c8450e94092eb04d7db.
    
    This patch didn't work, and magically appears to break flashing TM
    from TD.

commit 8c95f33686f69da717013ec2c25dbcd99c03aa45
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 29 17:48:44 2010 -0600

    more text created during SFO->DEN flight

commit af0613ffc178b9b1f011c315923f92f2581fe53e
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Apr 27 00:18:43 2010 -0600

    update changelogs for Debian build

commit 99094f02bf4849ba1f6b9842ded6c39d894320f7
Merge: 641e76c 75d8ffd
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Apr 27 00:17:37 2010 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 641e76c5d419dab057298541b3a7546877643198
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Apr 27 00:17:15 2010 -0600

    add some RF usage information from an email reply sent today, and re-indent

commit 75d8ffd4eadf31d50b2f58c021530c17ff1bdc66
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 23 13:53:25 2010 -0700

    Autodetect flite voice registration function
    
    Old versions of flite exported the function 'register_cmu_us_kal'
    while new ones export 'register_cmu_us_kal16'. This patch just checks
    which one is available and uses that.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 97f4874d19ec05c81a04a3ecd06abffcf7fbfafc
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 22 16:25:35 2010 -0700

    More ALtosUI changes

commit e7dc7fab787df63a4de72c8450e94092eb04d7db
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 22 14:53:44 2010 -0700

    Add optional 's' command to packet slave to enable/disable slave mode
    
    This option has been selected for teledongle so that you can use slave
    mode and hook two teledongles together over the RF link.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f4383394b5d2b275b21e3ce8040d8cb9e48bb375
Merge: 5f93cf8 c879b17
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Apr 18 08:36:07 2010 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 5f93cf8c73555f43c14b1b0757f264bde69e9b8a
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Apr 18 08:35:43 2010 -0600

    capture work done on SFO->DEN flight

commit c879b178d83c9a9a521f42a960b10e19b11cee92
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 10 22:09:57 2010 -0700

    Increase reset switch time to 100ms
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b3a2e1221735d54dc3f2b97b4e75ed6f33ab8227
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Apr 10 15:01:14 2010 -0600

    update changelogs for Debian build

commit 9394393c24c0a96b94319f2d0aa78fb498a121c9
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 9 17:51:01 2010 -0700

    Only have the slave return a packet if it received one.
    
    When the receive is aborted to switch modes, it's important to not
    immediately re-acquire the radio and try to send a packet as the
    aborting thread won't know to kick the receiver again.
    
    This prevents the 'C' command from locking up as it tries to stop the
    packet slave before turning on the transmitter.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ce39372a3aeffff1a08d609e63164a00cf974663
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Apr 9 13:50:49 2010 -0600

    wrong Yaesu model

commit a832c7e9d9e9e420e1281136188bd53b34c56464
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Apr 9 00:10:03 2010 -0600

    update changelogs for Debian build

commit c0ee1ae25e1d18138d8372f47085de48ffada344
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Apr 9 00:09:21 2010 -0600

    file changed by auto tools

commit 25e69ebfec94560e0714cf2cc623dc9697b4ea99
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Apr 9 00:08:32 2010 -0600

    update changelogs for Debian build

commit ea5d4f01d18d93d032f05933041b7b6881289780
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 8 22:45:04 2010 -0700

    libflite may forget to reference libasound

commit 4b02f293e9c32a568fad89558274f21157e7d473
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 20:08:07 2010 -0600

    update changelogs for Debian build

commit 5c3b6e2d1989bcaa19ae3e294f297ec3e5648a53
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 19:56:40 2010 -0600

    update changelogs for Debian build

commit 01e524f11a67390a8ea1f20aa2d611909b4da363
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 19:55:05 2010 -0600

    choose a better set of docbook xsl files

commit f93c9bf3695862db31f2c3b3bc5a7bb24ef3766c
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 8 17:28:17 2010 -0700

    When changing RESET line, delay 20ms
    
    The GPS data sheet suggests a 1uF cap on the reset line to ensure it
    is held low long enough for the power supply to come up to voltage. TM
    v1.0 loads a 0.001uF cap there, but in case that isn't large enough,
    it could be replaced with the larger one. This change makes sure that
    even with that larger value, the debugging link will be able to reset
    the target.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit baaaac499cfbc1286ae55374cfdc796d32983b92
Merge: a4356b9 dec9971
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 8 13:31:23 2010 -0700

    Merge remote branch 'origin/master'

commit a4356b9bcf679c4d7b88fbbad77a98ecb0f80098
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 8 13:30:16 2010 -0700

    Use 16-bit flite voice (which appears to have changed symbols recently)

commit 447c121fc1ceb878e45718ad1364a5349965a59a
Merge: 10330d2 53ca3f9
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 8 11:46:56 2010 -0700

    Merge remote branch 'origin/master' into altosui

commit dec9971d70f17067ba0051206851b49c7604ac85
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 12:43:03 2010 -0600

    update changelogs for Debian build

commit 6629ec52def8917ad033847812a1adc4c3e9c947
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 12:42:47 2010 -0600

    lose the url entirely for now

commit a1539a075a0cc79c9122fea878d9a20ee722a18c
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 12:41:42 2010 -0600

    update changelogs for Debian build

commit 934434ffb3514fe9ff95692784750d7c5217a5d3
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 12:41:28 2010 -0600

    fix typo in url

commit 8a067cd0eebbec313fc39086747ef618f2d1cf37
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 12:36:18 2010 -0600

    update changelogs for Debian build

commit 05ad58389fa3814ecb56344bf4ec3a3e025920a2
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 12:34:54 2010 -0600

    need another build dep

commit 6fbdc7037db185f03bd5ff96b9d9320646572df7
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 12:28:49 2010 -0600

    update changelogs for Debian build

commit 8f1d47e9cd61738e516d15fc97d5730d80611e87
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 8 12:28:20 2010 -0600

    update changelogs for Debian build

commit 10330d23518c94a8b791193a97a6cc07b1c9a97c
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 6 00:58:00 2010 -0700

    Enable telemetry monitoring
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9e10e43eff9de3f034da49c4f88728fb933f5035
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 6 00:56:57 2010 -0700

    Tasks may move in task structure as a result of ao_exit
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a7fc7901cd591c93d9d0cffeec2977ebb17554d4
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 6 00:55:19 2010 -0700

    TD reports "not-connected" when GPS has 0 sats

commit e064d05da87926c19fb665b40fb280fb59328183
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 6 00:54:52 2010 -0700

    serial port read function cannot be interrupted. poll every 1 second

commit c099a67d9ea37e731e0eca318102560281ac240f
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 5 22:42:05 2010 -0700

    Interrupt running replay thread when starting another replay
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit cc600a0389720bc7e435dbda8bec080ef19e0c58
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 5 22:21:46 2010 -0700

    Add Linux device discovery
    
    AltosDeviceLinux.java scans /proc to locate suitable devices. This
    will be hooked up to the UI shortly.

commit c28646d72005daeadb70b95fd3b0050bd752cc55
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 4 20:55:30 2010 -0700

    Switch TeleMetrum from v0.2 to v1.0
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d22ba55ae0e056530a727df50f14ad853d79a2c8
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 4 20:55:18 2010 -0700

    Clean up some altosui comments

commit 6251e89c6eea655769f77bc18e98e79c99cf3cad
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 4 19:54:46 2010 -0700

    Don't abort the radio when enabling telemetry monitoring
    
    If telemetry monitoring is already on, then there isn't any point, and
    if it's not on, then presumably there isn't any radio work to abort.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b0b99f30c4e00689e9faceb363a5c7284541c6be
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 4 19:48:50 2010 -0700

    Make ao_radio_idle keep trying to get the radio to idle.
    
    Attempting to abort a radio operation could lead to a hang if the user
    of the radio jumped in and started using it again before the task
    attempting to abort woke up. This change just keeps smacking the radio
    until the radio goes idle long enough to detect it.

commit 0e7abc9fedec568b431c983d3df1b0b29f4f10e3
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 4 16:32:04 2010 -0700

    Use RXTX for serial comm. Add logdir preference saving

commit c66eebad323e4572bb7cc23bc476ee144f03e9b8
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Apr 3 08:02:44 2010 -0600

    rewrite urls in docbook format

commit 3d34c488c5b71020d86f83156fd821fd860bf214
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 3 00:02:44 2010 -0700

    Make .jar file

commit 4bea4c327e002ce8f88218f0d840af7c1521bc35
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 23:25:02 2010 -0700

    Remove unused cell renderer class

commit 4ad062969ae8a608b8428620579bbe114e580a11
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 23:20:38 2010 -0700

    Remove GPS data missing from skytraq. Save max height/accel/speed

commit ebd49d4ec6b0b60c85b2de45cfe2e36add8fe9bf
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 23:05:40 2010 -0700

    Report current gps nsat, not last locked nsat

commit 3f9b66b307ee88172151e3bee58e50f5acbde109
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 23:00:30 2010 -0700

    Clean up GPS data formatting

commit 9cc48698ec14c34d437baad7b6540edc31e9741c
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 22:47:40 2010 -0700

    Fix state updates

commit 6d523ee4dad3b9890d3cf05852459101fe7e26ea
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 21:48:41 2010 -0700

    Fix status update

commit caa0bf49668344937483190d1c258bfa32971d19
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 21:44:00 2010 -0700

    Fix up table formatting

commit a579402f428dd6a0529505069d1846f70b83ab5d
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 18:10:59 2010 -0700

    Display table of flight info. gps is not working yet though

commit 65079f84ea64220fa928c3ad96652fed159bf74b
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 16:07:40 2010 -0700

    Steal C code from ao-view

commit 02f2be90879b682b6e648cf2debc83223d127b9d
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 2 13:37:52 2010 -0700

    Add telem parsing code

commit 8c600abf87c95f8f214b5e56ff6eab955795dff5
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 1 23:56:47 2010 -0600

    crudely incorporate "day in the life" info from web page

commit 53ca3f98aeb70cb780031fee788de950e4388cf6
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Apr 1 23:39:42 2010 -0600

    tweak copyright assertion

commit 6454e309858aeef7912e862de8632618d89b4205
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 1 18:31:14 2010 -0700

    Fix windows install file

commit 584ab100640a07dec6e06829e73b7260d17d2232
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 1 18:30:56 2010 -0700

    Add Windows install .inf file

commit a06bee96e648d9ded8776f3d6cba9505e7be1a60
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 31 23:05:03 2010 -0700

    Add telemetry data parsing code

commit 7f233369e32c3254165ee251df0a3dbc21ea5a29
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 31 13:49:54 2010 -0700

    Start adding java-based UI

commit 76768804e68ed09421d7a48cb0b390f102ce2d76
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Mar 30 23:26:35 2010 -0600

    make lintian happy

commit eb3cc3e9b60ec23acbb7d797affa743d671801ab
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Mar 30 23:19:48 2010 -0600

    update changelogs for Debian build

commit 00f49c8fb0aa38331360bdb85c32bcebe60dcdc3
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Mar 30 23:19:07 2010 -0600

    fix typo

commit f03ed0876c67b58624abf0c14bf73444b0322d3c
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Mar 30 23:18:37 2010 -0600

    update changelogs for Debian build

commit b41e617080fe825f7810ee5eee52ea37f7618ec6
Merge: 28e40cc df7bda1
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Mar 30 23:15:32 2010 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos
    
    Conflicts:
    	ChangeLog

commit 28e40ccfcd80ab8764d4aa235257cea4d193a0c1
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Mar 30 23:14:47 2010 -0600

    update changelogs for Debian build

commit 20d4d410e0fc04fe192e309811eed6c0194fa5a8
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Mar 30 23:11:40 2010 -0600

    initial harness for documentation

commit 9801ff7de21027935f52ccabaa3ff157e22d21ce
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Mar 15 12:04:18 2010 -0600

    move gbp.conf into debian/

commit df7bda1f32b0049c3878c325ea0b55999f3980e3
Merge: 23da4f3 a7042fe
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 12 10:38:26 2010 -0800

    Merge remote branch 'origin/master'

commit 23da4f3bcdd1d780c9e1f6b68ad2fb309fcae6ba
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 12 10:37:32 2010 -0800

    Document the ao-dumplog '--remote' flag for radio-link downloads
    
    The --remote (or -R) flag uses TeleDongle to fetch data over the radio
    command link from TeleMetrum. It's been there for a while, but the man
    page failed to mention it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 93df98898f8cd199ae13158bc4f65e3494c954ad
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 12 10:35:12 2010 -0800

    Round radio calibration value instead of truncating
    
    The radio calibration function in the bring-up code was truncating the
    radio calibration value which caused the resulting frequency to
    always measure above the target frequency, instead of trying to get as
    close as possible. This change will result in a closer frequency
    match, but may sometimes be below the target frequency.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a7042fe7d065d1da1252be5ad43e3c9856214dc8
Author: Bdale Garbee <bdale@Deborah.(none)>
Date:   Fri Mar 5 19:11:11 2010 -0800

    update changelogs for Debian build

commit eda5e1166a97766aa22561beaa1086ba4e19ee16
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Mar 4 17:33:39 2010 -0700

    update changelogs for Debian build

commit 6e61170d42936c18cd6efba6f4c14af616a30745
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Feb 28 18:24:46 2010 -0800

    Need to duplicate new altitude conversion code in aoview.
    
    Altitude conversion is now done with a smaller table and interpolation
    instead of a giant table.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e4e17e6d3844ae682a0e7a9469a522359bac77b6
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Feb 27 17:36:13 2010 -0700

    update changelogs for Debian build

commit a1478f65538fdaac7b58ffbd958a035b74956099
Merge: 901fce5 bbf8c9f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 27 15:19:33 2010 -0800

    Merge remote branch 'origin/master'

commit 901fce5fe3e2762406079ecaa787612b5ed4b34a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 27 15:18:47 2010 -0800

    Add .gitignore for ao-bringup
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7aab73a265841aac817ea34235dd1eb819debf76
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 27 15:14:04 2010 -0800

    Fix up LED colors for each product.
    
    Different products assign different color LEDs to the two available
    LED drivers (P1_0, P1_1). Make the LED color pin assignments
    per-product (in ao_pins.h), then deal with not always having a green LED.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1d6d8d76ec65373ffee70add75d183f5c4168f61
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 27 15:11:44 2010 -0800

    Eliminate deadlock when writing config from radio link
    
    Writing the 'Saved\r\n' string would fill the packet buffer and cause
    a flush to occur, which would need to wait for the radio link to
    receive and transmit a packet. The radio link always re-fetches the
    radio channel number when lighting up the radio, so it need to look in
    the config space. If the config mutex was held by the config writing
    process while the radio was trying to get the channel number, then
    we'd get a deadlock.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f1956ebadd7bf46b84a05a0c383b6404ca26b344
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 27 15:10:16 2010 -0800

    Leave .ihx files in the build directory too - easier to debug that way
    
    sdcdb wants the .ihx and .cdb files in the same directory, so humor it
    by copying the .ihx files to the src directory instead of moving them.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bbf8c9f1748af3f1fac08ddf80ae98da2e9b5727
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Feb 26 15:21:12 2010 -0700

    create a turn on script for lighting up TeleDongle v0.2 boards

commit 461d4a1948e112ec7353caf88967391d876469dd
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Feb 26 10:33:13 2010 -0800

    Add LED test

commit 5d7a3a5fbc0af4621c67a6fd51a9c9d5ae688fa5
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 25 16:40:13 2010 -0800

    Fix and document the ao-rawload --run flag
    
    This allows ram-based programs to be loaded and executed easily.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1e60deca147c85a064719dfad14ccabd1049bbbd
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 25 16:33:34 2010 -0800

    Allow product names to have suffixes (like board revisions)
    
    When looking for a board by product name, just look at the prefix of
    the name instead of requiring an exact match. This will allow products
    to have board version suffixes.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f4d5790a284e2d02dd7568fbca90402fa5ed1aea
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 25 16:32:57 2010 -0800

    Add ao_radio_xmit to help test boards without flashing them.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d7d551b0078acb1596a9b9023c3df6dbfa46213c
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 17:30:23 2010 -0700

    update changelogs for Debian build

commit 2f45953ee54034209a23c254e65da36e44cf075f
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 17:29:47 2010 -0700

    un-muck changelog

commit 540f86678853e7ea80ae91f3f2ec0ec88c5b1ca7
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 17:27:51 2010 -0700

    debugging

commit cdccd92f6ed97be7385e84de5694064cb8f43946
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 17:25:28 2010 -0700

    conditionalize use of git on executability of /usr/bin/git binary

commit 54dd7a200e6956aace5a580d4c4d6a10a13c654b
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 17:22:45 2010 -0700

    update changelogs for Debian build

commit 4b6b28530206c6fdbe46699b81746fbbcab5b148
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 17:22:20 2010 -0700

    see if this works

commit c74958d3e8c5ce8006a9f9f6853238fce0c77432
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 17:13:29 2010 -0700

    move git-using variable declaration into the prebuild target

commit cf091a7252eba09902a42a3cfe7b4d6a343907ce
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 16:44:44 2010 -0700

    update changelogs for Debian build

commit deccc10f0305c0cd02bf6317d6dc9d2ae38c3dac
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 16:43:32 2010 -0700

    add gawk as a build dependency since strtonum is a gawk extension

commit ac45da6e61597dcdb119b976f7301b2cc7fdced4
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 14:57:26 2010 -0700

    update changelogs for Debian build

commit 24912821b3230b8357b9e0094cd69fa0bccc5513
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Feb 24 14:53:27 2010 -0700

    update changelogs for Debian build

commit 82fdbfe1229d1ea5e6906ea240d54b3da73d9a69
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 20 21:35:43 2010 -0800

    Must install .map files for ao-load to work
    
    ao-load uses the .map files to rewrite the serial number and other
    config parameters into the program flash.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a5215c2bd9249a285fc834db0c453fb3e7daed87
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 20 21:20:05 2010 -0800

    Add back stack size checking to altos linking phase
    
    This verifies that the stack start specified during the compile
    will work with the resulting program
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 18eeb79026f7e5c54bf99435537c024427011a36
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 20 21:05:45 2010 -0800

    Quiet make output.
    
    This borrows ideas from the notmuch project to reduce the command line
    clutter seen when compiling or linking stuff.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 004c2a9b7a4b44ef71ca60482573e8e9d8c6ce93
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 20 20:36:08 2010 -0800

    Update .gitignore files

commit 84c93bb2fc4558a5e4654794ba90e730a84eaf67
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 20 20:22:16 2010 -0800

    Change altos build process to support per-product compile-time changes
    
    This creates per-product subdirectories and recompiles everything for
    each product, allowing per-product compile-time changes for things
    like peripheral pin assignments and attached serial devices.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fd0a42e0e96dcb8ecc9e999f70bcf70692692af9
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 20 20:21:07 2010 -0800

    Change barometer conversion code to shrink conversion table

commit 876e9a10b9096ead85fbe08ec9a6a0329cf7cbd4
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 13 16:42:27 2010 -0800

    Log GPS data on pad after boost detect.
    
    This wakes up the two GPS reporting tasks and gets them to report out
    any existing GPS data to the log file. To make sure the timestamps in
    that GPS data are accurate, this also records GPS time on receipt of
    the GPS data instead of when that is logged.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c83615567b4567f3dc45a7f7b894943b45fbb65c
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Feb 7 00:25:22 2010 -0800

    Pull in a bit more data for filtering the start of the boost

commit f8967607b3dda0c0ce7afe8bb077da2da5ed3dcd
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Feb 7 00:24:56 2010 -0800

    Compute daytime using GPS as time base

commit 2a6350149407c7d2e7d143906c40c5e331248aeb
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 11 18:48:56 2010 -0800

    Missing ao_mutex_put in gps_dump

commit 9856b7c4397afcecc8f541af9a83824e817b3612
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jan 10 16:31:50 2010 -0800

    Switch to using internal cc1111 temperature sensor
    
    v0.2 has no temperature sensor, and several of the v0.1 boards didn't
    get a temperature sensor loaded. Use the internal temperature sensor
    on the cc1111 in all cases instead.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0c2533be15858774ef9381aa8c8344356fd5b971
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 22:06:19 2010 -0800

    Force idle mode by shorting the SPI clock to ground at boot time.
    
    This allows you to override the flight mode detection code in case the
    accelerometer calibration is broken somehow. Hold the SPI clock shoted
    to ground until the LED comes on, then remove it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 28346736a7799c0767e54511d9949cd61d35e471
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 20:57:48 2010 -0800

    Add simple gps dump command 'g'
    
    This just dumps out the data in a very simple format to verify the GPS
    receiver.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a6082a8b4501ac4cb18584ace1f0c40e088e5484
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 20:57:29 2010 -0800

    Remove flash debugging printfs
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 05bb953830604721c9a49dd56256b86f3666b5ff
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 20:42:57 2010 -0800

    Don't set ao_flash_setup_done until we're actually done.
    
    Because we're accessing this variable outside of the mutex, we need to
    make sure it isn't set until the data it covers has been initialized.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 327e5e782958e516a7b7a786ab6c176b0decb8b8
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 20:04:42 2010 -0800

    Dump config block from read/write config and flash_status commands

commit 05e5bb2d330b755967d06fb859585c81f5f5fbb5
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 19:46:46 2010 -0800

    Dump more flash parameters for the flash_status command

commit d4c8895b349998e02e03ed83466a0ca7afb3d99b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 17:57:52 2010 -0800

    Add 'f' command to display flash status register contents
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c1334f712f01543adb10809bc1a3ca120e27290b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 09:55:04 2010 -0800

    Add at45db161d.h header file for new flash part.
    
    Forgot to add this when I added the driver.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a0d4c1b06d27e850d233f8ddf8fe32912bf0ec8f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 01:29:41 2010 -0800

    Remove green LED and temp sensor from v0.2 code
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit dc8d18736239b14c2ec48a40a01515912c5c25e6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 9 01:22:06 2010 -0800

    Add AT45DBxx1D driver
    
    This driver supports the AT45DB011D through AT45DB321D DataFlash
    parts as found in TeleMetrum v0.2
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3bab7e66d25988f5d63ec139c8814a85b983f8f3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 19 20:32:18 2009 -0800

    Remove dbg driver code from telemetrum/teledongle
    
    The only board with debug outputs is the TI dongle at this point, so
    the debug modules were disabled in TM and TD some time
    ago. Unfortunately, the code was not removed then.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit eddb82390a0ecb07ef83c04861993842906b03ab
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 19 15:31:36 2009 -0800

    Ensure that ao_alarm waits at least the specified time
    
    Because the timer tick may happen soon, it's important to delay by
    another tick to ensure that we don't wake up early.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 598d168bd6552c3756e4b0267de44147eadab9f6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 19 14:03:11 2009 -0800

    Disable monitor mode before attempting radio test.
    
    If monitor mode is left active, then the radio lock will not be able
    to be acquired for the radio test.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d4cf1446680d8b47396bcda338e8df7af395d102
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Dec 19 13:53:38 2009 -0700

    update changelogs for Debian build

commit 10d1bbcd9709a5eee8d50989215242b16feb7232
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 19 11:34:16 2009 -0800

    Use ao_radio_get/ao_radio_put in packet code.
    
    The ao_radio_get function both acquires the mutex *and* configures the
    radio channel and frequency. Failing to use this in the packet code
    would leave the radio frequency unconfigured.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a15abc1882a3bdd2c980eed169f3b80337528390
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Dec 19 12:15:29 2009 -0700

    update changelogs for Debian build

commit bbb152c712801653374a8f82869e2e8bf41f7279
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Dec 19 12:05:40 2009 -0700

    update changelogs for Debian build

commit 7ac8efea5d60b81adccdc1e38ac4c13facfae7c9
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Dec 15 23:58:29 2009 -0800

    Add --cal to man page

commit 5481082b18226a0de6b377215b3b330bdbc4a6c6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 5 19:50:38 2009 -0800

    Allow radio calibration to be set from ao-load
    
    This moves the initial radio calibration value into const memory where
    it will be used if no eeprom configuration value is available, either
    on an unprogrammed board with eeprom or a device without an eeprom.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 46f03ab3145a61139c8ca6fc99e8f2798728b5a9
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 5 15:36:12 2009 -0800

    Re-order config values. Change frequency to cal
    
    Place more often used values at top, and consistently call the radio
    value 'calibration' instead of 'frequency'.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bf29a62532fec12e6af2d2f3a6624882c863e933
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Dec 5 11:03:42 2009 -0700

    update changelogs for Debian build

commit cd49847f3125df1733f298b56a43e8027ab5ce05
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 4 23:38:26 2009 -0800

    Add radio calibration configuration.
    
    The crystal we use is only good for 20ppm, which generates a fairly
    significant error bounds at our RF frequency. This commit adds a
    configuration variable that sets the RF frequency control variable so
    that the output frequency can be adjusted.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c671a3f31f54715284beef5baa4a72ca922e4018
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 4 23:36:54 2009 -0800

    Make ao_cmd_decimal produce both 32 and 16 bit values.
    
    ao_cmd_lex_u32 is produced in addition to ao_cmd_lex_i so that
    functions can easily read 32-bit values from the command line.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e6d6ad66ce177eb6e49eaa04b1ecc6426f4bbdbf
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 4 23:35:40 2009 -0800

    Remove send_serial and serial_baud commands.
    
    No longer useful, and they take up space.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ce7325cefbbe91054c1e8174cf40a6c687f6694b
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Dec 4 21:02:07 2009 -0700

    update changelogs for Debian build

commit 9a1d7dd78c07d18954ef620b6ed25d6701df21e2
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 4 14:35:39 2009 -0800

    Change default callsign to "N0CALL"

commit 291e2004e77debdc1543912cf11043c849305de8
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Nov 26 11:18:37 2009 -0700

    update changelogs for Debian build

commit 40533095a96b6c6364eebdc4b7d53c4eabe72e9a
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Nov 26 11:16:04 2009 -0700

    update changelogs for Debian build

commit ab1075e7219b02258c1613d93379582be4168947
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Nov 26 11:15:13 2009 -0700

    change home URL in control file to be the AltOS page

commit d34dcc5f3616e59ee90ed172770fe2a3eb1e0cac
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Nov 26 10:40:07 2009 -0700

    fix absolute path in debian/dirs, add Suggests for slim-altusmetrum

commit ea40561b36519a5dcabedabe18672b79ea5e9993
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Nov 22 10:18:44 2009 -0700

    update changelogs for Debian build

commit d6ba07e885bdc62ba64719c9d8cc42fcecbcb09d
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 22 01:10:44 2009 -0800

    Automatically extract flight number for eeprom and telem filenames.
    
    Extract flight number from either telemetry or eeprom files and use
    that in the resulting filenames. To ensure that files remain unique,
    add a new field, -seq-%03d. This is appended only when the sequence
    number is non-zero as it shouldn't occur in normal usage.
    
    This also eliminates some duplicate filename creation code in the
    library and aoview sources.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 06cebd1026dc1bd6ee51526fa2d02905df3b3b37
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 22 00:52:58 2009 -0800

    ao-postflight: don't try to use missing gps sat data
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a9ada1b538af3308e1b22bd024d9204521184173
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 21 22:12:21 2009 -0800

    ao-postflight: compute barometric alt for each GPS position
    
    Print that to the --gps file, and use that in the --kml file for the
    altitude. Gives a very different picture of our flight tracks,
    presumably far more accurate (at least in altitude).
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b84b634d9ae8ce6ab1c02833a3ed8514404e1ca3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 21 22:11:45 2009 -0800

    Don't crash if --plot isn't passed on ao-postflight command line
    
    Crashing is not nice.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2d77c18b15834046b7b79d49d87211828f2409e9
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 21 21:10:09 2009 -0800

    Convert telemetry file GPS satellite information in cc_log_read
    
    The satellite info wasn't being correctly converted from telemetry
    files to the data log structure, so ao-postflight was not seeing it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1e7fb61700f1f6f2ed5fdbc4380d7187b0cd187b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 21 21:09:03 2009 -0800

    Fix --plot arg handling. Add -all option.
    
    The --plot file name handing is special as the library wants a
    filename instead of a stdio file pointer.
    
    Add a --all option that just creates all of the possible outputs.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 199f0cecae22645140185238682b9e1aba0e5715
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 21 20:36:20 2009 -0800

    Make TD print 0000-00-00 for invalid dates.
    
    This 'shouldn't' happen, but in case it does, I want to know about it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 238d03462a56dc1b7c871608cb00f961a88c1b97
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 21 20:35:22 2009 -0800

    Make ao-postflight create filenames using input filenames.
    
    Instead of requiring the user to provide names for the various output
    options, just create them from the input name by replacing the extension.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1a3b4c02a01187f8b7b9a9c97712476d0007ab35
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 21 19:52:26 2009 -0800

    Document ao-postflight --gps and --kml options.
    
    These were missing from the man page, but included in the --help output.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 80b23f3044a654d61212891a61fadb8a3a4e5572
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 21 18:57:45 2009 -0800

    Decode HDOP data from skytraq GPS
    
    The hdop data was getting dropped on the floor, but is rather useful
    when deciding if the GPS position is crazy or not. This reports HDOP *
    5 (giving a useful range of .2-50).
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8f036ee7cd30ce3ed2e5cc8501914a4c19b73875
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Nov 20 13:19:02 2009 -0700

    update changelogs for Debian build

commit 87e6f3e5c1688503ab8595912d8d6eb7139830b7
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 20 12:16:37 2009 -0800

    Eliminate SiRF state values from ao-view.
    
    With Skytraq not having any visible GPS state information, just
    remove this from the display.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8065b8146a31438e66f83c13b99281ec47439a73
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 20 11:56:48 2009 -0800

    Add GPS date/time output to ao-postflight.
    
    GPS date/time information was already being stored in the log, it just
    wasn't getting displayed by ao-postflight.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6894541e0ee144bfc689cc02d4ed333711d3b500
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 20 11:55:28 2009 -0800

    Reduce igniter firing time from 500ms to 50ms.
    
    Given that the system will brown-out with the longer pulse, it doesn't
    make sense to even try; failure at 50ms probably indicates a short.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b75aa1c825b84bd7fa1578320fbc7e904c373a7d
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Nov 19 21:43:13 2009 -0700

    fix typo in comment

commit c2f661b75ec035f6a3f700962290ef297f9ab0af
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Nov 20 11:44:06 2009 -0700

    update changelogs for Debian build

commit b0d7e3f9c9322542e9b649bb6ad7f7e5bb99dffa
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 15 16:20:18 2009 -0800

    Stop using SiRF state info.
    
    With the switch to the skytraq GPS unit, we don't have the same level
    of detail in the GPS stream, so stop reporting that in the telemetry
    stream, in the UI and writing it to eeprom.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 524665fc221b0d483453c67b7211e282cebc8980
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 15 16:04:41 2009 -0800

    Add date to GPS data, captured from GPRMC packet.
    
    Pull the date out of the GPS stream and send it over the telemetry
    link and write it to the eeprom.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3ee279ba76c2a79d142c466f19ef758cf4c01d70
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 15 15:59:01 2009 -0800

    Add flight number to telemetry stream.
    
    This makes it easier to tie the telemetry and eeprom files together as
    they're now both labeled with serial and flight numbers, which should
    be unique.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6391c89bd5b89f5f46255b8365c658a873e5959a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 15 15:53:01 2009 -0800

    Switch order of serial/flight in ao-postflight summary

commit 9b06e294e2777f69bcf5e98789c3f5477097d53b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 15 15:51:58 2009 -0800

    Enable telemetry receive in ao_view

commit 4cffc9c4b079e39c8196ddbaf91129cda6df7f8b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 14 22:24:37 2009 -0800

    Share telemetry parsing code in cc library.
    
    ao-view had a private copy of the telemetry parsing code which
    included the ability to parse the newer version of that file. Those
    changes have been moved to the library version and the private copy removed.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0e0db8ca3af4c07bae909938486766c646bf580b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 14 22:24:09 2009 -0800

    Provide a dummy 'uninstall' target in the src directory.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1c654a9369294c9b8066c33f91161d8005b96680
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 14 22:17:24 2009 -0800

    Loosen tolerances for main->landed transition
    
    Detecting that the rocket has landed is required for the system to
    flush the eeprom log and re-enable the RDF beacon. This patch changes
    the landed state entry requirements for the accelerometer to require
    only that the accelerometer stay within a quarter of a g (down from
    1/10g) and changes the testing interval from 20 seconds to 5
    seconds.
    
    The requirement that the barometric altitude be within 1000m of the
    launch altitude and that the barometer change by no more than 0.05kPa
    are unchanged.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 03092d1a72a9651711e22c58dca6d6aba5705c5e
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 14 16:35:12 2009 -0800

    ao-postflight: fix sloppy gps sat data realloc code (was crashing).
    
    Realloc'ing the wrong data, and failing to set the realloc'ed size was
    causing ao-postflight to crash while reading long logs.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit adf656192441eb7f44792955c86e469145477e29
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 5 22:11:59 2009 -0800

    Return radio to telemetry settings when packet system closed.
    
    To receive telemetry after disabling the packet system, the radio must
    be reconfigured for telemetry mode.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 83afdbdc154fe013bfe35ce5ecf1d61570b04ed6
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 5 21:45:00 2009 -0800

    Add reboot command.
    
    This resets the processor using the watchdog timer.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0358988ac0ee25a564d48af79b1c3fb0c0fe0a88
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 5 21:44:31 2009 -0800

    Add Watchdog Timer Control register definitions
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4114210e0b813f4af99d0cb7755ad2ac2c4b120e
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 5 21:43:21 2009 -0800

    Move ao_match_word from ao_ignite.c to ao_cmd.c
    
    This is a generally useful command line utility.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5a79a04ddb0b3ee64de34e366f71a0f6db509c01
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 4 21:59:51 2009 -0800

    Stop recording in ao-dumplog after receiving an invalid block
    
    If no samples in a block are valid, assume the flight log is over.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 843ee489aac34ad6d81f55f1c85fb9eecc42d86b
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 4 21:59:12 2009 -0800

    Flush pending input when switching to remote packet mode
    
    Any pending input would just confuse the application, so pull it off
    the link and dump it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 036400a2db303f3db3be7cc0426f88359c6bd2b1
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 4 21:42:51 2009 -0800

    Explicitly use USB I/O routines in packet code
    
    Using the implicit stdio functions (putchar/getchar/flush) would
    result in essentially random redirection of each, depending on whether
    the packet code had characters available when getchar was called. This
    would cause lockups in putchar.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3ece984f4d72b4f720a5efdfaad7cff77a93d676
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 4 21:32:07 2009 -0800

    In USB pollchar, wait for packet before re-checking USB out len
    
    This probably wouldn't actually cause a problem, but it seems more
    reliable to wait for a packet interrupt before re-reading the packet
    OUT len register. This could avoid spinning while waiting for a USB
    packet, which seems like a good thing.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bc62bb254085cc705203b57260c04ac5e14c6611
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 4 21:29:37 2009 -0800

    In packet master, move USB flush from packet thread to echo thread
    
    This keeps the packet thread from blocking on USB and also makes the
    flush happen after every packet (slightly more USB traffic, but
    packets are slow anyway).
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 27ebaf8e13aed06bb1ea6e770f767495a02be6c5
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 3 01:27:37 2009 -0800

    Add ability to dump eeprom data over radio link.
    
    This adds a '-R' option to ao-dumplog to redirect the connection
    through a USB attached TeleDongle over the radio link to a remote
    TeleMetrum device.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1de322b960005c9a16051afa1881fadb00f4bcd6
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 3 00:40:38 2009 -0800

    Pass accel calibration over telemetry stream. Telemetry data format change.
    
    This allows the ground station to convert the accelerometer sensor
    values into acceleration and speed data. This requires a new telemetry
    data structure, and so TeleMetrum and TeleDongle units must be updated
    synchronously. ao-view will parse either telemetry stream, and the
    serial format from TeleDongle now has a version number to allow for
    future changes.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b529e5e8998702986909111a457f3ce9932e1ccf
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 23:48:29 2009 -0800

    ao_flight_test was using accel value for pressure too

commit f57bea012d4fbca097df0d98fcd30eb4abd9701a
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 21:47:41 2009 -0800

    Reformat ADC values to show all 16 bits

commit 79718e798e96567f0ba11c61f187e432fdcf95ee
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 21:48:16 2009 -0800

    Remove "f" command

commit a4137263b69864c524d39c6ff88a0225fd06e79b
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 21:47:15 2009 -0800

    Remove "d" command

commit 47f510464907d2b9488109c96ade87a41d878842
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 21:46:39 2009 -0800

    Remove "l" command as ao-dumplong no longer uses it

commit 144db05f6b286a0450d486f69ce192632a2c0656
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 21:38:18 2009 -0800

    Add two-point accelerometer calibration.
    
    Calibration now uses two values, one upside right and the other upside
    down instead of a single horizontal value. This allows the use of
    other accelerometers and compensates for variations in the divider
    circuit to provide more accurate data.

commit 17611788aadc9460287145a340a7c18bf63766aa
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Nov 2 16:54:06 2009 -0700

    update changelogs for Debian build

commit 7db9d86178ecfd58cc1c17ac9fcbdcfd2f13aaec
Merge: b219801 f9de200
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 15:47:40 2009 -0800

    Merge remote branch 'origin/master'

commit b219801fb0e5eaff7778d21701da977104522da3
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 15:45:58 2009 -0800

    Add ao_usb_pollchar to ao.h

commit b92333ff5e75bf96804359e9fbf464d3b518bd95
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 15:45:42 2009 -0800

    Disable interrupts while removing tasks from task list

commit d519564fd08d2defe1211de83ccbdfa3c7cfe702
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 2 15:45:07 2009 -0800

    Add more docs to the README file

commit f9de20000794c97a04d5bc2476191864bd2af371
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Nov 2 16:00:11 2009 -0700

    update changelogs for Debian build

commit 127c3125e5a4b86b8f304bc2889e313688c3d83e
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Nov 2 15:59:12 2009 -0700

    update changelogs for Debian build

commit 6b1e77569e2fed3c44606ed268421df5d3ed4020
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Nov 2 15:57:41 2009 -0700

    update changelogs for Debian build

commit 8203bfa58af32a1d07a44c1c151b200df0b65f15
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Nov 2 15:56:42 2009 -0700

    de-version the libreadline-dev build dependency

commit 0b483233118673cbc2cda1be6acd379df82bc95a
Merge: ca5d323 550482d
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 1 20:59:02 2009 -0800

    Merge remote branch 'origin/master' into skytraq

commit ca5d323a3d206050d95f52a61e92c69e1f54e7b5
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 1 20:57:03 2009 -0800

    Enable packet-based communcation to command processor
    
    This splits the packet code into master/slave halves and hooks the
    slave side up to the getchar/putchar/flush logic in ao_stdio.c
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6c1a9ce16b966a21c885bf3be31cbcb85368b3fa
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 31 01:30:22 2009 -0700

    No need to wakeup &ao_tick_count now

commit cd0d495d7ef276956e730196476daa70a4359918
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 31 01:20:26 2009 -0700

    Poke master to speed up packet rate when things are busy

commit 442b1ef18c8320d4e5329dc92bb5268a36058fc5
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 31 01:19:41 2009 -0700

    Use ao_alarm for ao_delay so it can be easily interrupted

commit 4f7ed9ff484778381db647c27d2a34d0cadec41e
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:53:03 2009 -0700

    Do more flushing in packet test code

commit 6a7aa1810a90a9216160aec55ec4bd02b3240e1b
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:52:44 2009 -0700

    Add RFIM register

commit bf65e0b2a1299b49adc2d339ab9d9c7599aded9e
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:52:22 2009 -0700

    Send SYN packet to set sequence numbers

commit d46797e5c08d4955d516458185e2cfb51ee2d567
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:51:38 2009 -0700

    Use ao_radio_done to wait for TX to completely finish with packet

commit c5ec6fcfa1bd17aad0f85d2fbe603f1d125836e6
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:50:54 2009 -0700

    Switch packet code from timer thread to ao_alarm

commit b428faf74ae145126ec1da972028fcfe0b4b2b18
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:48:36 2009 -0700

    Remove reason from ao_dma_abort

commit 73db30b2f9128c37dc7fa075793a8862814ce044
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:46:21 2009 -0700

    Add ao_alarm

commit 251b0971f049cbf2f8db79a32729d47441ce65f3
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:45:43 2009 -0700

    Wait for TX to finish sending data

commit 9b31f07fe3556896b3e997bba156e30ef5777a80
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 23:43:52 2009 -0700

    Add radio carrier command

commit 7b14c3e609749f4fc00dbd660541375048535218
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 30 16:39:15 2009 -0700

    Initial packet bits. Just testing transmission

commit 690fc263516d8beb6b24e86fbcd6588f42ce4e5c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Oct 21 17:18:49 2009 +0900

    Add keyhole-markup generation for ao-postflight.
    
    This lets you see the flight path in googleearth.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b657aa209b9ea3b3efd33a940283b3ba60a169af
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 16 12:59:53 2009 +0900

    Add ao_wake_task and ao_exit
    
    ao_wake_task signals a specific task to wake up.
    ao_exit terminates the current task.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d709a0688eff84e25e24d755850ef045d6b0c3de
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 16 12:56:45 2009 +0900

    Save some DSEG space by marking cmd functions __reentrant
    
    __reentrant causes the compiler to place args and locals on the stack
    instead of in the data segment.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 550482d953c491a5ede9f2d243493afb13289898
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:58:46 2009 -0600

    update changelogs for Debian build

commit 2de548f45d0f50b558acc83f57e1e2fc1223ab92
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:58:19 2009 -0600

    oops, forgot to specify the repo to push to

commit 68008ac11c2735ca53a1b474324df43f2f1d5cdd
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:57:33 2009 -0600

    update changelogs for Debian build

commit 513328ac5f7c25f9ee144ab6befbea60d69eed1a
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:56:50 2009 -0600

    automate push of updated and tagged master branch during debian/rules prebuild

commit 67bf7d388a6dd2dbf65575bf4f0423ad355b4f2f
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:54:44 2009 -0600

    update changelogs for Debian build

commit 23bc21a93ccb9f35917f283ac5df6ce0870df71a
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:54:16 2009 -0600

    undue damage from partial build

commit 7da56ad8576ef212ffb6cb573bdaf578453e3fe0
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:52:52 2009 -0600

    add support for tagging git repository on each Debian package build

commit 8d4aa4ee54f85f4951cdd7293d58aaa405cfcdc5
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:49:34 2009 -0600

    update changelogs for Debian build

commit 241a860fe856b1dfad6e792736313648300d5c24
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 16:48:43 2009 -0600

    flush repetitive junk out of debian/changelog, and update the prebuild target
    in debian/rules to put git commit details into the Debian changelog

commit 6c4cdc927b43736b39be29d23ac3dc723f69e4d6
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 15:57:19 2009 -0600

    update changelogs for Debian build

commit c57bd7fd2f80e50b0b4c87fccb024ab07c93773d
Merge: adf8764 2b76572
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Oct 12 15:57:08 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 69b6f6bb465163cf767bb68e0e4a716d8ad2b39c
Merge: bc77da6 2b76572
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 17:16:21 2009 -0700

    Merge branch 'master' into skytraq

commit 2b765728ce177e26899f6feef00bfdf6aeaf2678
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 17:15:38 2009 -0700

    Add apogee igniter delay.
    
    Provide for a delay after apogee before the drogue charge is
    fired. This allows TM to be used as a back-up altimeter.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bc77da68c9cb7d4cca483eadbbb7e9ccf71c0060
Merge: 46cccf6 8f7ea3d
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 15:09:48 2009 -0700

    Merge branch 'master' into skytraq

commit 8f7ea3de7037f40b0ff462b60d503c19431ae62b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 15:08:14 2009 -0700

    Report igniter continuity in pad/idle mode via beeper
    
    one short beep = drogue
    two short beeps = main
    three short beeps = both
    one long warble = neither
    
    In idle mode, it does this just once. In pad mode, it keeps testing
    and reporting.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit adf8764bc4591795ba4e618ccbd6393fc6ce6450
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Oct 10 15:11:23 2009 -0600

    update changelogs for Debian build

commit 541da6f3bbf81be93dfe3c01f7c8cfd757b28a2b
Merge: dfc73cb 5f26ad6
Author: Bdale Garbee <bdale@gag.com>
Date:   Sat Oct 10 15:05:50 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 46cccf62fb40514b5930fcb2ffdaf2735415c764
Merge: fb8f3fe 5f26ad6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 14:00:03 2009 -0700

    Merge branch 'master' into skytraq

commit 5f26ad663b3f60dddc9d967206e365f45dc4acd1
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 13:58:16 2009 -0700

    ao-dumplog: switch to 'e' command, display progress
    
    Using the 'e' command allows additional checking of the data,
    including end-to-end checksums and detection of missing data.
    
    Progress is displayed by showing the recorded flight state along with
    a '.' for each eeprom block read.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fb8f3fee6a1bab1e46d782e84405845cee2dadb4
Merge: 22856cf b8fc397
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 13:41:00 2009 -0700

    Merge branch 'master' into skytraq

commit b8fc3975bd92037a0cf53b0ff2b0e05ce0ba668f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 13:39:01 2009 -0700

    Send 0-length IN packet to flush USB after full packet
    
    USB bulk transfers are a sequence of maximum-sized packets followed by
    a short packet, which signals the end of the transfer. When the last
    packet of the transfer would be a full-sized packet, an additional
    packet of zero length is sent to signal the transfer end.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 22856cf8bb0f5e1f37c9b774132d9ef6934526ed
Merge: 2f76034 e29961f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 11:44:20 2009 -0700

    Merge branch 'master' into skytraq

commit e29961fdb2a48874c895829880eadbf13e094c0c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 10 11:43:31 2009 -0700

    Add channel menu to ao-view.
    
    Sets radio channel when TD is connected, saves selected channel in
    gconf database.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2f7603490a169df8f18b565db4fa967832ffc9bd
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 9 22:48:29 2009 -0700

    Build two versions of TM, one for SiRF, one for SkyTraq
    
    This creates two separate images, depending on which GPS unit is
    connected.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 33b0b6f2f2e07de105619a7b463226d2813152ab
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 9 22:02:40 2009 -0700

    Add support for the SkyTraq GPS unit
    
    This is a build-time option selected by hacking the Makefile at present.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a3771bfc5ce740f9d89193e9f8b1d7987aa57264
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Oct 6 20:06:00 2009 -0700

    ao-view: fix snd_pcm_open return checking
    
    I don't know how this code was supposed to work before...
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ac4b8a73848f434999a532eab4665253c267c597
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Oct 6 20:05:36 2009 -0700

    ao-postflight: dump out GPS signal data
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit dfc73cba1bee8b121e00e8cba45e7dfaaf79e9d8
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Sep 21 22:46:59 2009 -0700

    update changelogs for Debian build

commit 459ff3d377297f80ee2fba0df0a29ff6603467a1
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Sep 21 11:00:32 2009 -0700

    update changelogs for Debian build

commit 327c64305a59f48ababf19875874a550af6b9cef
Merge: c8a81a4 74f0fb4
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Sep 21 11:00:22 2009 -0700

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 74f0fb4dd189abc1d5027c64fa5a648a6003285a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 20 13:33:59 2009 -0700

    make bit-banging reset script actually reset

commit 7ea371a09385e2a93199f78685e8cb86793ed104
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 20 13:33:26 2009 -0700

    Add --gps option to ao-postflight

commit bc7ccb339e538a0e6120db0e5c0d9130c565e0dd
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 20 13:32:59 2009 -0700

    ao_rawload: Don't reset after we finish loading

commit c8a81a419f7f2331624f90bd6c107a86f6b04451
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 20 09:21:00 2009 -0600

    update changelogs for Debian build

commit df42ccaaf468cdc5d93cbd1c001f58df58419722
Merge: 0b24e40 078e9cd
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 20 09:19:28 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 078e9cdbdb388b22c6151f76ff0660fc14b8ef55
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 10 11:53:06 2009 -0700

    Plot raw accel data for the motor accel section.
    
    This shows a short sequence of accelerometer data without any filtering.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8b485d937ff148848ebda7f9ca6be29bb1de1f16
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 21:02:48 2009 -0700

    Show acceleration only during boost phase.
    
    We're interested in motor performance; the rest of the flight is
    boring, after all.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9e660315e1bd2bf71ab1c0574e895e1f7608a58f
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 21:01:44 2009 -0700

    Fix cc_period_make to not get stuck on samples with matching time
    
    When two samples have matching times, step to the second one;
    otherwise, we'll get stuck forever.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 932f1539b38567e565fd484171c13539b1467308
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 20:26:17 2009 -0700

    Color plots, integrate only flight portion of data.
    
    Telemetry files have piles of pad data which shouldn't be integrated
    into the velocity data as it tends to generate huge values from the
    noise of the sensor.
    
    Also make the data lines colored to keep them visually distinct from
    the rest of the plot image.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9177f5f4e9d832558ddd9ab227c4511f6201e7e5
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 18:11:24 2009 -0700

    Update usage and man page for ao-postflight

commit 0b24e4034f93010372a3d084668d10f0e4a2c2e1
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 18:01:20 2009 -0600

    update changelogs for Debian build

commit a5e94aa0677070a051714443cf7fd7e2b5e90269
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 17:59:47 2009 -0600

    need a run-time dependency to pull in the cairo module

commit 97acef95cc9843998963921459fdd71dd7eaa6b4
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 17:48:23 2009 -0600

    update changelogs for Debian build

commit 3f95a5abbf8ada70328ced45fbb2781ed1cb3d29
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 17:48:10 2009 -0600

    more build deps for plotting lib

commit 9d7e96e323d652de08b2f2a73e0eb3c321080185
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 17:47:56 2009 -0600

    update changelogs for Debian build

commit ae4e131b61244e06020b82919e31e05dd7dba88f
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 17:46:39 2009 -0600

    update changelogs for Debian build

commit 37e6c9a492a1d51373bf9333fb3172e0c377720f
Merge: d256f82 2e6686b
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 17:46:10 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 2e6686b1e183c66188ea447b8a54e4c29402443b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 16:45:47 2009 -0700

    Use plplotd instead of plplotd-gnome2

commit d256f8204e9fce53ae4309562bb4c0cde1fae43e
Merge: 0fc344d 32d3536
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 17:34:08 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 32d3536706324808df6cd02248a236302b831571
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 16:24:35 2009 -0700

    Add plots to ao-postflight using the plplot library
    
    It's not perfect, but it generates .svg plot output.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0fc344dfc031a8b1eef7cc40efb1d5ba7782269d
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 14:15:57 2009 -0600

    update changelogs for Debian build

commit 4b0de757874c0ecaf38e3dfd3beefc398150e3d5
Merge: 773c4ff d0eac98
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 14:15:53 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit d0eac989b1ffc8ae30ba12da403eb4bf1ad42d6b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 13:15:10 2009 -0700

    Don't look at NULL strings (summary_name)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 73f4a57239f770aff603b961169c0e2cfe2c276b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 13:08:54 2009 -0700

    Use pressure speed for drogue and beyond states. Fix differentiation time.
    
    Drogue state should always use pressure speeds.
    
    Differentiation code was using centi-seconds instead of seconds.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 773c4ffbc1d2e02eb02cfa543a077a408986da30
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 14:05:55 2009 -0600

    update changelogs for Debian build

commit 45ede4a4b203ef9da5bf05c49cb9c5a2e6382ec5
Merge: 45e2938 e35e485
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 14:05:51 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit e35e485ffe6b26034788ab295121bc2693b7eec1
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 13:04:31 2009 -0700

    Initialize summary_name and detail_name so stuff appears on stdout.
    
    Uninitialized variables lead to mysterious results.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 45e2938121411d1fc9b3aec3fdeaaeb3c90db5ed
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 14:02:14 2009 -0600

    update changelogs for Debian build

commit d42ebf0661ecf15455e5051de1e16ae66f8dd857
Merge: 384dbe9 7a19aac
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 14:02:09 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 7a19aac5e881e635962a64fff73027ca2143b96f
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 6 12:51:48 2009 -0700

    Add DSP code to filter data, allowing for integration/differentiation
    
    This adds the computation of speed from both accelerometer and
    barometer measurements and then presents a periodic flight profile
    using filtered data as a detailed flight record.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 384dbe9fc7fa8e4e5dceec5e150f0f1d3383bbdc
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 10:40:06 2009 -0600

    update changelogs for Debian build

commit 35c54b3a278fa9bc2bc7f4b5ee04866697c93ba0
Merge: 4f8eff7 6d018ab
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Sep 6 10:39:23 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 6d018ab933832e2d80bb1564c339d9fb18b57be2
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 5 22:45:49 2009 -0700

    Handle vageries of .telem files in ao-postflight
    
    Telem files have multiple entries of the same state, and sometimes
    long gaps between recordings. Deal with this as best as possible.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c46e832b28820d7c5be4efaacbbd7c0607927fe5
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 5 22:03:31 2009 -0700

    Add simple post-flight analysis tool (ao-postflight)
    
    This tool reads either an eeprom or telem log file and displays some
    rudimentary data (max accel/alt for each flight stage).
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 26f56b51bd11aa91f1d77b81827b49c28cb6ec5f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 5 00:29:26 2009 -0700

    Add ao-dumplog to capture flight log from command line
    
    This duplicates the functionality of the flight log stuf in ao-view,
    except from the command line where it belongs.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 73adae3661160d410dcc802873b530d255c210e5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 4 15:30:22 2009 -0700

    Add --device/-D support to the command line tools and manuals
    
    Use the new cc_usbdevs_find_by_arg function to locate suitable target
    devices connected via USB.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4f8eff7401ee2d8092ab36fa33411f9b23dda880
Author: Bdale Garbee <bdale@gag.com>
Date:   Fri Sep 4 16:03:55 2009 -0600

    update changelogs for Debian build

commit 332b056459b1352e233a8bf5f08498df12d32160
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 4 15:01:32 2009 -0700

    'fix' ao-eeprom to read two blocks at once. Work around kernel bugs.
    
    The kernel appears to leave serial data undelivered at times. Reading
    two blocks at once appears to make it relinquish the queued data.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit df88ae4c5f229efcc0ea5cb0a81fc2bb8f96fea2
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 4 14:23:02 2009 -0700

    Add 'ao-list' utility to show attached AltOS devices
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0935d6a7e907e20381a42882ae728051f9bece02
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 4 14:21:19 2009 -0700

    Parse the USB serial number as an integer.
    
    AltOS devices use simple integer serial numbers, so parse the USB
    value as such to make matching values more forgiving.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0c771d999914f9d17c723900f2987acc45fd0fbb
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 4 13:00:02 2009 -0700

    Move usb scanning code to ao-tools library
    
    This will allow the scanning code to be used by the command line tools
    as well as the ao-view GUI.
    
    Now that ao-view depends on the ao-tools library, it has been moved to
    the ao-tools directory as well.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 15341b6e6dcf52df083d6aa37ef881ea6ad48ee5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 4 12:25:37 2009 -0700

    Set all of the values to reset the radio for telemetry
    
    Was sizeof(rdf_setup) instead of sizeof(telemetry_setup) when
    resetting the radio back to telemetry data mode from rdf mode. With
    the length value removed from the rdf config, these two arrays are no
    longer the same length, and so the last config value was not set
    leaving the radio sending garbage.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fee46389b70a624ab5b1128a8b4c3083c7747bcb
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 4 11:46:55 2009 -0700

    Make RDF beacon only run on pad and after landing.
    
    It's pretty much impossible to RDF the rocket during flight, and it
    interferes with the telemetry data stream. Leave it enabled on the pad
    so that radios can be tested, and then re-enable it once the rocket
    has landed.
    
    This patch also turns the rdf 'on' time into a parameter so it can be
    changed, and then sets that parameter to 500ms, once every 5 seconds.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 54545640b0db7747137655f84bc67fd290ecb904
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 4 11:45:52 2009 -0700

    Add back the RDF tone generator
    
    Tracking the rocket on the ground may be easier using tones than using
    the digital data stream, so we'll try that and see what we think.
    
    This reverts commit 3a3bfd471a868d546d83cdc431b53c8f5208edb9.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9fafee109e96435c96639b21211cac0500673a63
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Sep 2 23:18:15 2009 -0600

    update changelogs for Debian build

commit cb4a73f3b65ba72f645fd37ab8712829c9537bf8
Merge: 9ddd869 e2e449d
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Sep 2 23:17:37 2009 -0600

    Merge commit 'origin/master'

commit e2e449d5c23356e913f312de1fb2611a9dd5a352
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 2 22:01:52 2009 -0700

    Remove bit-banging debug support from TM board builds
    
    Our current TM boards don't have the wires to do bit-banging to
    another cc1111 board, so it doesn't make sense to fill up their flash
    with useless code (and the 'help' text with useless commands). Leave
    this to the TI board until we have boards that can serve as debug dongles.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit acea083d80e1ecc4287083519ea666964016b257
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 2 22:00:37 2009 -0700

    Make the ao_log_record structures 8 bytes again.
    
    When the GPS signal strength data was added, the structure was
    accidentally extended to 9 bytes, making all log records 9 bytes
    long. While not a serious problem, this left log records spanning
    across eeprom block boundaries, which seems like a bad plan.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7d39f17684feb49ac8a0017902158f298696e37c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 2 21:57:54 2009 -0700

    Make eeprom reads and writes across block boundary work
    
    Reading and writing across the block boundary was not stepping the
    eeprom position after the partial i/o operation at the end of the
    first block. This meant that the operation would re-use the end of the
    previous block, either re-reading or re-writing it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9ddd8696b4004ccc03238d95a8c2a1d07075e0fb
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 31 16:48:03 2009 -0600

    update changelogs for Debian build

commit 6926c4ab5d87a8f2eb4fcde2c673fb3a4639e115
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 31 16:47:44 2009 -0600

    pixmap file should not be executable

commit 1495e2f27acde3743c3764a0c31ee082224d6c64
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 31 16:42:55 2009 -0600

    update changelogs for Debian build

commit c8c5b7963babe8eb16e2651fba9cd2c8d1cba74e
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 31 16:42:37 2009 -0600

    deliver an icon for the Debian menu system

commit 591b99c232e780246fc07841c09c8c4e7835facb
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 31 16:26:00 2009 -0600

    update changelogs for Debian build

commit b34474c1f3083e73b7184d519f54d4c8031836fd
Merge: 8df1697 0d65bff
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Aug 31 16:25:32 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 6358041f846ba9a20fa650c367d907dc4336e54c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 22 13:38:56 2009 -0700

    Enable GPS degraded mode, set 10 sec degraded timeout.
    
    No reason not to let the GPS report solutions whenever it likes, let's
    see how this works.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0d65bff443c17d4d98c18b620ec075ab66b30efd
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Aug 21 10:47:46 2009 -0700

    Turn off GPS tracking data when not present in data stream
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8df169791835510d96c11a3b0aa3cc5b79fa7fde
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 19 02:21:23 2009 -0600

    update changelogs for Debian build

commit 42ab6d52540d0326ef89e9d57954b08248558468
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 19 02:21:06 2009 -0600

    fix location for delivery of sources.list fragment

commit 977f5dc0bc7c666dcc1f21db77416efca0d696aa
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 19 02:11:11 2009 -0600

    update changelogs for Debian build

commit 8d4d6655f1b4c2fbc522fd255bfb75406e5ddaef
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 19 02:11:00 2009 -0600

    oops, aoview is now ao-view!

commit b9a97aea65f871fd287bc0bb566d8664766f4afd
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 19 02:07:16 2009 -0600

    update changelogs for Debian build

commit 21e3dd0affac89919e5d0e29c6e9eb1eacb51801
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 19 02:06:49 2009 -0600

    enable support for Debian menus

commit 0087c1776e0253fc2bd3b86f15bf9d1b32bdc45a
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 19 00:52:57 2009 -0600

    update changelogs for Debian build

commit 4486d9156e19e4280b42bcd422d81d04f2d04a92
Merge: dd09f0b 33edd62
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Aug 19 00:49:24 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 33edd62992a32b0ec8ca66d879fa300871db5937
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 23:38:16 2009 -0700

    Update ao-view to add GPS satellite tracking data
    
    This adds another column to the display to hold per-satellite GPS
    tracking data and a count of the visible and locked sats.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 29687cbd462a332d9a36ed87500c5b737dcae3f4
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 22:35:15 2009 -0700

    Handle GPS satellite tracking data
    
    SiRF message #4 includes signal strength and GPS engine state for each
    of the satellites being tracked. This data is now parsed and sent to
    eeprom and the radio.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit dd09f0bc2b950c00f3b489878cd69ad8a003f46c
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Aug 18 21:57:01 2009 -0600

    update changelogs for Debian build

commit cd5ce661e2a8f9694933358ccb5b916fbed089c2
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Aug 18 21:49:39 2009 -0600

    add support for building Debian package

commit d996aa9b32fb0eb385bd3d158256c29788a42fe3
Merge: b3b2d3c 7d4ceb7
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Aug 18 18:56:09 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit 7d4ceb75a454e6c9b3fe0bd934fadcb5104dea36
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 17:55:22 2009 -0700

    Add ao-ejection.1 man page
    
    Document the input requirements and output format
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b3b2d3c475a135084b5628c730fc6fca1ba0817b
Merge: 4685fc5 da12b89
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Aug 18 18:36:03 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos

commit da12b89fb056a68e65ba363fef91d266727cb685
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 17:30:43 2009 -0700

    Create ChangeLog from git log

commit 7d69e2b3715faed10ce21ad562fc4d25dfc5f9c1
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 17:29:29 2009 -0700

    Fix ao-bitbang examples to not have . in the first column

commit 4685fc541466afbeefc151bcb64cd054739c048b
Merge: 1c2a0b6 c29275b
Author: Bdale Garbee <bdale@gag.com>
Date:   Tue Aug 18 18:09:38 2009 -0600

    Merge branch 'master' of ssh://git.gag.com/scm/git/fw/altos
    
    Conflicts:
    	ao-tools/ao-bitbang/Makefile.am
    	ao-tools/ao-eeprom/Makefile.am
    	ao-tools/ao-load/Makefile.am
    	ao-tools/ao-load/ao-load.c
    	ao-tools/ao-rawload/Makefile.am

commit c29275b72438637d46d7a50742882d2736eb176a
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 15:21:57 2009 -0700

    Add manual pages for remaining commands.
    
    Manuals written for ao-bitbang, ao-eeprom, ao-load, ao-rawload and
    ao-view.
    
    Manual for ao-dbg updated to reflect program name change.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9b03d620722dc54630539afba40720c30de69b2d
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 12:19:31 2009 -0700

    Use --tty/-T on command line to specify target device
    
    Also, use the ALTOS_TTY environment variable in all tools. Note that
    the magic value of "BITBANG" switches the library to connecting
    through a CP2103 instead.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7c790fe859dff062692964338091ffbbcdf63257
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 12:40:24 2009 -0700

    Rename tools to ao-<foo>
    
    Use a consistent prefix to make it easier to remember which programs
    belong to this package
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1c2a0b6653623b689d68d7349a6b2dce3e20a4a6
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 13:36:54 2009 -0700

    re-add debugger sources

commit 9a9cce5510b87252f863239ac807b9fb4395b288
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 12:19:31 2009 -0700

    Start working on using getopt for the tty name

commit 9789ca5e8caa9a013e804f307b9da380e147bd75
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 12:40:24 2009 -0700

    Rename tools to ao-<foo>
    
    Use a consistent prefix to make it easier to remember which programs
    belong to this package
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a5782398d968e7cb11f7203afada7c216f233b3b
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 18 11:34:28 2009 -0700

    Remove unused cctools code paths for old libusb and cp2103 ioctls.
    
    Communication with the CP2103 board has gone through three revisions,
    first using ioctls supported by the CP2103 kernel driver, then using
    the old synchronous usb library and now using the newer libusb
    asynchronous interface. There's no reason to keep shipping the old
    stale code now that the new stuff works reliably.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7cba411de0780c65e3490ab67186a514f0ea42ec
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 17 20:47:31 2009 -0700

    test for sdcc, nickle and readline
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f48dcffae761700355a17b59345d55a60703f0c4
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 9 20:43:10 2009 -0700

    Sync USB data after each memory write command
    
    This makes sure we flush the USB link often enough for the other end to keep
    up.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit cd5456f18e4b39ad76d5549df91a0e0cfb18a2e9
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 9 16:08:07 2009 -0700

    Handle partial ALSA PCM writes
    
    The ALSA spec says that snd_pcm_writei will not return a partial write, but
    at least on the OLPC, that's not true. Deal with this.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3056cb8eef5aee0dcd342488386355d8b8f574c8
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 9 15:55:19 2009 -0700

    Check more alsa return statuses

commit 8ddf3345afd8cbf638e81993633f7861d8dbca63
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 18 01:47:34 2009 -0700

    Don't report distance to rocket without valid GPS
    
    When there's no valid GPS data, don't try to report the distance and bearing
    to the rocket after landing.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fbcb7b20fa701a6e534d38e307839466545668e3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 18 01:05:33 2009 -0700

    Add B command to set serial baud rate
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 91b023e7e4eeed838e0320d2ddac0f6aac39e565
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 18 01:05:13 2009 -0700

    Get rid of spaces after minus sign in climb value

commit 28be20cf914fb34dc3c776519708d0f02091764e
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 18 01:04:39 2009 -0700

    Switch to 57600 baud for GPS data

commit d3f76ce58b9c0ed2e5a9fe3bbc7fb9cb38247714
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 18 01:04:17 2009 -0700

    Drain serial port before changing speed
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d7c2d358ed8a1afc9f0ba2bd830b10f6b56dc7b1
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 18 00:44:42 2009 -0700

    Display last known GPS coord while unlocked
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5195fcfe239e430e1f9f11774c9a245c7b29dae9
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 18 00:44:01 2009 -0700

    use g_source_destroy instead of free on serial object

commit 1e5e98bd8f5ea0bc15592de454e3629383462371
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 18 00:43:22 2009 -0700

    Trim aoview_serial_set_callback args down to just port and callback

commit 08f37056deec25d77062bc411a04033401b033a5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 22:11:03 2009 -0700

    Reset GPS at boot time

commit 1150aa850f5a025b849556e32c4dddb27937d9af
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 22:10:43 2009 -0700

    Fix up serial debug output

commit 2a7956a64935246475f92d44c08369e0230b676a
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 21:34:13 2009 -0700

    Allow the GPS port to run at 4800 baud if desired

commit 8d650769c319261c97f5e68eff9138207b95c0f8
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 21:33:53 2009 -0700

    Initialize the GPS serial protocol state
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ab40d224b39ba6d29c4056e2d2c365e1eb3d3793
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 21:33:18 2009 -0700

    Use uint8_t for comparisons to avoid int conversions
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d6749bf24792bb41ca700cf4b8e5e1ac1a63cbf0
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 21:30:53 2009 -0700

    Add AO_GPS_RUNNING state.
    
    This tracks whether the GPS receiver has ever sent a valid report to the
    flight computer, allowing the user to tell whether the GPS receiver is
    working at all.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a1da7e871aee75308bc05ce1b7a0dc402e4c9509
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 21:25:35 2009 -0700

    Add M command to monitor serial bytes

commit ddfa2308c0be4c002f982ae9da6032ee7854117d
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 21:24:45 2009 -0700

    Support the not-connected GPS state

commit 34f148500df427c148188c0ada20bf914a7c74ba
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 19:23:10 2009 -0700

    Use 57600 baud for GPS. Clean up gps init.
    
    Assume GPS is either in 4800 NMEA or 57600 SiRF mode, send just the sequence
    to get from 4800 NMEA to 5760 SiRF.
    
    Also, eliminate threads from the gps test program.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2deca0c52cd6cfb4baceb59c8a5458344bada338
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 17:09:20 2009 -0700

    Try harder to get the GPS receiver serial link sync'd up.
    
    We cannot assume that the GPS receiver is in any particular state when it
    boots, so we try to send the serial configuration at several rates and hope
    that it eventually sees something that it likes.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 31d5670a9144b943ce9c8cb00deb5fb659af0b1c
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 17:06:18 2009 -0700

    Rolling average for pad location. Say 'GPS ready'.
    
    Use a rolling average for the pad location, instead of just averaging all
    positions. This filters out old (presumably less accurate) values eventually.
    
    When enough GPS samples have been acquired, say 'GPS ready'.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bfe1e76c82738baaf65abbc58c3244a07ea8fefe
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 16:22:51 2009 -0700

    Split GPS data into a separate column
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5f0179652e8bb85add9067e5253e981c60f2c51e
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 16:03:35 2009 -0700

    Fix up SiRF parsing and test code so that it actually works
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0b35447d05a0c7eaf4fefcbcf0065fe3320bba82
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 17 13:58:14 2009 -0700

    Add host-side gps protocol testing program

commit fef7334bddb9fccfbd6deab7d5d466ab3e76323a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 11 00:56:13 2009 -0700

    Hook aoview directly to alsa
    
    This skips the flite internal audio stuff which opened and closed the audio
    device for each phrase. This caused the first part of some phrases to be
    missed when using an external audio device.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 80cadf44f5f1accd6ddfca25c2af8d4d424f26d9
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 9 20:55:10 2009 -0700

    Show speed. Format numbers. Timeout and report final status.
    
    The speed value is now shown in the top label bar. Ascent shows
    accelerometer-derived data, otherwise it's baro derived.
    
    All of the numbers displayed are now given sensible printf formats so they
    don't contain way too many digits.
    
    Instead of doing periodic reporting based on flight tick count, data is
    reported every 10 seconds based on wall time. After landing, or when no data
    have been received for a while, final flight information is spoken.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 19630ef084866f4230e68ccf11284b30c68128b1
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jul 5 08:35:28 2009 -0700

    Dont smash aoview_monitor_parse input buffer

commit e506ed4b6efb86eab50204658fcd433b987e3831
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jun 30 15:25:52 2009 -0700

    Integrate flite into aoview directly. Fix great circle computation.
    
    Use a separate thread for flite rather than a separate program.
    Save voice state to gconf.
    Add filters for replay file selection
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5b988e0146075d57434f8484e1ec9fcf3e183df2
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jun 30 15:24:53 2009 -0700

    Make window taller

commit 696233b088645bba1aaa6aa6c5358c3ecfa5cd3f
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jun 30 15:24:31 2009 -0700

    Use 16kHz voice

commit 2e06772c8b6fd74f86e640ed97f0d5bc8c095c2f
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jun 30 11:58:30 2009 -0700

    Add telem replay and larger labels
    
    Replays telemetry files in real time
    Shows height/state/rssi in big values at the top.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 566dde161385263700eaae51095eecfa9b5972ee
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 29 23:06:47 2009 -0700

    Update aoview/.gitignore
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4ca2d910f3be689fd3c78a4f1be0555d6b1a30c1
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 29 23:05:27 2009 -0700

    Use flite to announce flight state
    
    This uses the flite voice synthesis library from festival to announce
    altitude and speed information during the rocket flight.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 527d7c803ed9597b210634018cb2eb9d048d9846
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 29 23:03:58 2009 -0700

    Add GPS speed and error data to telemetry and aoview
    
    Having switched to the SiRF binary GPS format, the velocity and error data
    can now be displayed.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ee4919dd771b00e2a2dd1083c9528efa7baab50f
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 29 13:54:00 2009 -0700

    Convert GPS to SiRF binary protocol.
    
    This switches the GPS unit from NMEA to SiRF protocol at startup and then
    parses the binary data. The binary data uses a different encoding of lat/lon
    than the NMEA strings, and so the telemetry and eeprom data formats change
    with this switch.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 49bf37767d2453869f2ca2c0832d1124322c66e0
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 17 23:22:25 2009 -0700

    Add ejection computation utility
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e59520e343c2573b1b92c0b3c4aaa93e51bc55d3
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 17 13:55:23 2009 -0700

    Fix clock initialization to not try to use 32kHz xtal on P2_3/P2_4
    
    None of our boards have a 32kHz xtal oscillator, instead we use those pins
    (on Telemetrum) for the deployment firing circuits. The old clock
    initialization code was switching from the 32kHz RC oscillator to the 32kHz
    crystal and overriding our use of those pins.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1c3cc12c08ddefbd6456a55c54ef87dd94d4ae9a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jun 14 17:25:34 2009 -0700

    Some kernels reference USB ttys as tty/tty* instead of tty:tty*
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0f2cbd41332b1b63865c5f1a4e749419b469853a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jun 14 16:45:19 2009 -0700

    Rename state apogee -> coast

commit 5834a12c1d3d71105c9e3d1ceaf9f3ffac9ff1eb
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jun 14 16:39:28 2009 -0700

    rename states. launchpad -> pad, coast -> fast

commit 8c40f19acd09fe93d492c9355da8a1198c34b1c3
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jun 14 16:36:29 2009 -0700

    Disable monitor mode when communicating via usb

commit 7adea9c59c73acd52743446c74fb675e0a1d6d05
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 4 14:38:45 2009 -0700

    Format GPS seconds as %02d.%04d to avoid spaces in the value
    
    The aoview GPS parsing code doesn't deal well with spaces in the middle of
    the value, so pad the seconds field with a zero as needed.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a0e6bfee635b64092262936c858542318f6fc6dc
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jun 4 13:11:48 2009 -0600

    newer INSTALL file pulled in by autogen.sh

commit cf1e258d52b878df10b51a047709b10ecd51a68e
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jun 4 13:09:29 2009 -0600

    add a distclean target to src/Makefile

commit 176052b7c14fcad067835ecb550778faf67cf4da
Author: Bdale Garbee <bdale@gag.com>
Date:   Thu Jun 4 13:07:10 2009 -0600

    add lib to the front of the subdir list

commit 208bc15714c7b4020c017eef19011c4eb9ab51e2
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 4 11:20:10 2009 -0700

    Move build and debug tools to 'cctools' directory.
    
    These tools were merged in from the ccdbg package.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 17d2432a8b9c15963cd3b821f025ad33972ef477
Merge: 210dbaa 8a9a3f0
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 4 11:13:15 2009 -0700

    Merge ccdbg and altos sources into one giant repository
    
    Keeping these separate isn't making things any easier.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 210dbaa23cdacf3a6f2d6e23493e96ee2ac9bca7
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 4 10:41:34 2009 -0700

    Use autotools, move altos to src subdir
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8cce307bb3156584ba17ae5a787f645dfee5fb94
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 4 10:25:30 2009 -0700

    Make menu seperator insensitive

commit 778cae8fc5a4b30e5045e4703316fc61ae18562a
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 3 17:07:34 2009 -0700

    aoview: Add eeprom data fetching
    
    Fetches the last flight data from a TM device connected via USB and writes
    it to the flight log directory.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bf140966e9649e75b884c8aa5f25ffbf9eed10ea
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 3 10:57:46 2009 -0700

    Stop log dumping at flight end. Print 'end' at end of log.
    
    No reason to continue dumping data past the end of the flight now that the
    logging stuff has been demonstrated to work reliably. Also, to make
    automated log dumping easier, this prints out 'end' after the log data so
    that aoview knows when to stop reading.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 35ac66969abe24ca23776618306a59fc17770e06
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 31 09:22:01 2009 -0700

    Start adding bi-directional packet link

commit 3a3bfd471a868d546d83cdc431b53c8f5208edb9
Author: Keith Packard <keithp@keithp.com>
Date:   Thu May 28 23:17:33 2009 -0700

    Eliminate RDF tone generation.
    
    Now that we have a viable telemetry-signal based RDF device via TeleDongle,
    there's no reason to continue to waste power and bandwidth with a NFM tone.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4d83eef0fe1d24a845ab29a535dfc56e13e7ee20
Author: Keith Packard <keithp@keithp.com>
Date:   Thu May 28 23:17:25 2009 -0700

    Change .gitignore to match new aoload procedure

commit dcfcf3bec6788460b6fe8c239c80bad4526bd15b
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 27 22:01:37 2009 -0700

    Leave serial number writing to aoload
    
    Instead of building per-serial hex files, leave that
    process to the new aoload program
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8a9a3f02b951382573ff74dd6ce5a1c0f335fa86
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 27 21:53:15 2009 -0700

    Add aoload to load serial-numbered altos binaries.
    
    aoload is a custom version of ccload which edits the data before sending it
    to the target machine, writing the target serial number into the data.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5a7a63c34b778e40a61ddabd16ec1af9a2be50c3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 23 21:20:12 2009 -0700

    Fix aoview telemetry GPS parsing code to use correct columns
    
    This code was trying to pull the GPS data from the wrong columns, causing
    aoview to fail to display GPS information.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 26988c3e7acb2fa832810475e43e08fd2867459c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 23 21:18:57 2009 -0700

    Parse both telemetry or log data ao_flight_test
    
    Change the way data is fed from files to the flight test rig to handle
    either kind of input file.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d6f5a0689023546464a71561f53fa2c943077c88
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 23 21:16:22 2009 -0700

    Avoid 16-bit overflow in velocity computation.
    
    Adding two 16 bit integers together can wrap around to negative numbers,
    this resulted in velocity values which never decreased, making the switch
    from coast to apogee state not occur.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit aa6d87aeb616dd62f0debaded297232022b4f8bd
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 20 09:44:55 2009 -0700

    Make file handling more general so it can be reused.
    
    The log file handling stuff will be useful for saving eeprom data, so pull
    it out of the real-time log handling code and make a general interface.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b730c8bcbce649cdddba935e1112aaae538bc526
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 23:54:44 2009 -0700

    Ignore aoview_glade.h

commit 91b07410122d0eaaf292cdb31c200925d45eaf2c
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 23:36:21 2009 -0700

    Transmit computed ground pressure and acceleration values
    
    These are the last two values relevant to figuring out the state of the
    flight computer, and as they are computed by averaging 10 seconds of 100Hz
    sample data, they're a lot more accurate than anything the receiver could do
    on its own.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 71d1689759829f1bc8550f1a4d8c9f2dc90b2ab4
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 23:18:09 2009 -0700

    Provide install target

commit f301b95e87c8ec1e3b58d595a05d486bede5e0c2
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 23:13:20 2009 -0700

    Embed glade file in executable
    
    This eliminates install issues nicely.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 26361686d6fc63dc22d22285f0543c5c2c756fb4
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 23:05:23 2009 -0700

    Add About dialog to aoview.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0f3233c49f43cd4e372e613303919ce4d50255b2
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 22:44:19 2009 -0700

    USB device names can contain '.' too
    
    Depending on the hierarchy of devices, names can contain '.', so allow those
    too.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 33221277690e6ee30387c506c3f2b8237ed48efd
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 22:43:34 2009 -0700

    scandir returns -1 on error
    
    In which case, the namelist is invalid, so don't look at it, and don't free
    it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7cb9fb675f56bf30ab6bf0bcdc5cb679709ffe3e
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 22:29:54 2009 -0700

    Send computed accel/vel/pres values over the radio
    
    These computed values reflect what the flight computer is actually refering
    to for state changes, and will be useful in debugging the flight software as
    well as provide a filtered view of the data.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 2c780d67b8a22d75a2da4b2af21fd35f0c6f5236
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 22:29:06 2009 -0700

    Handle disappearing serial devices
    
    Put up a dialog when the serial open fails, and shut down monitoring when
    the serial device disappears while running.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 69616104813fc5ba89fb3128d04fb9328961c59c
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 22:24:53 2009 -0700

    While on the pad, zero out velocity every second
    
    We integrate acceleration to get velocity, but that means sitting on the pad
    for a long time can add substantial error to the velocity value. Each
    second, take the velocity value from a full second ago and subtract that out
    of the current velocity. Once we detect boost, this will stop, which means
    that as long as we detect boost within a second, we won't have subtracted
    out any "real" velocity.
    
    This keeps the pad velocity hovering around zero, which is pretty useful.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1234694eb903b204488ddc7cb30bcfe34bf1e677
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 01:29:06 2009 -0700

    Clear table, reset log on disconnect

commit 4316b6af86b37522038e642235c163fcaad52e96
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 01:28:16 2009 -0700

    Add pad lat/lon, max accel, max height
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4348281bd788a13ea700413537f12da3c00356e4
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 00:46:09 2009 -0700

    Clean up GPS display
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ff68e38770351ddac3285ce275cd85adab01fd3d
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 00:45:38 2009 -0700

    Make aoview window taller
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit be3f4fed7b863c8cdaabe32b61b65a8b3cd11355
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 17 00:13:45 2009 -0700

    Add lots more aoview UI bits
    
    Logs data to files, displays current state in window.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 93d7ce8e054515ed7b166eb042ae7f47e564d21d
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 16 20:45:26 2009 -0700

    When logging starts up, right the whole ring to the log.
    
    This preserves the data pre boost-detect for later analysis.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fec4212a59a7b3321536b25707dcabc43c797c33
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 16 20:04:31 2009 -0700

    Abandon use of accelerometer for apogee detect.
    
    Integrating the accelerometer data to compute velocity worked for one rocket
    flight, but additional testing shows that it doesn't work in other
    airframes. Until we figure out how this should work, we'll rely on the
    altimeter to detect apogee.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 09771c644de54ae354e8f98af7ba74289b3c0fcc
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 16 02:25:04 2009 -0700

    Add preliminary aoview code
    
    AoView connects with TeleDongle to present telemetry information in a
    reasonable form. Right now, it just displays information to stdout, but it
    does have fancy dialogs for finding the USB devices.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 37250b00f6286aee4b3b28604f5d463db3079a89
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 20:41:54 2009 -0700

    Discard usb output before connection. Handle USB reset.
    
    Discarding output before USB is plugged in allows threads that send output
    and do other things to work without a USB connection. Unfortuantely, there
    doesn't appear to be any way to detect when the USB link is disconnected,
    which means that once USB is enabled, future writes will continue to block.
    
    USB reset causes the USB interrupts to all be reconfigured back to power-on
    state.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9b974217958b1017e62d6c4f4568f547ccc30c58
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 20:40:42 2009 -0700

    Enable radio monitor by default in teleterra, teledongle and tidongle
    
    These ground loads want to monitor the radio constantly, and not require use
    of the 'm' command before listening.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 25fc03a333b2cfad0a93ebc385fbcf74b63c229e
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 20:39:28 2009 -0700

    Remove monitor/rssi functions from telemetrum load
    
    Telemetrum is now a flight-only load, use teleterra or teledongle for ground
    boards.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 05493b98eb1ae4d30cb0b600849d70b03fa33594
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 20:38:11 2009 -0700

    Split out ao_state_names to separate file
    
    Allows state names to be used in programs without monitoring enabled.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d085d43701e3cdd2119e947a9ae45baa78c80318
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 14:29:30 2009 -0700

    Indicate RSSI with a blinking LED
    
    Blink the red LED at a rate proportional to the RSSI value.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 055331d5f7d5adc40c348c3efd331a562dcda82a
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 11:19:13 2009 -0700

    Make ao_flight_test show AGL altitude and positive acceleration under boost
    
    This makes the output more readable
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d91208fbf5fc7797b93087ef8619454c4bed0130
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 11:18:24 2009 -0700

    Make ao_flight_test able to read raw logging data
    
    Protect ao_flight_test reading functions so that a simple
    'script' output can be fed to the program and have it work correctly.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d3dbd8949e1102220ad5fd0863f493c819b96e46
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 11:16:53 2009 -0700

    Print only RSSI when packet CRC is invalid
    
    Packets with invalid CRC usually contain bogus data, so don't print that,
    just print out the RSSI which may contain useful data.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8168820b667cc1deffab64dd81cb4e6e2e6eabe4
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 11:00:43 2009 -0700

    Accelerometer-based velocity values are invalid after apogee
    
    Because the orientation of the flight computer relative to the ground is
    unknown after apogee, the accelerometer data cannot be integrated to compute
    velocity. Main deploy is now based purely on barometric altitude and landing
    detection no longer checks for a low velocity value.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 24fdda44ff8604e40510b196ead17564d8f8cd3d
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 10:59:04 2009 -0700

    Add velocity check for boost detect via accelerometer
    
    Bumping the rocket can cause a brief period of high acceleration, which may
    cause a mistaken boost detection. Require both a high acceleration and
    reasonable velocity to trigger boost phase.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7a1aa3fdbc0d1fae5e7ee027bf8904598c6ebe41
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 13 10:58:30 2009 -0700

    Typo in callsign

commit 497c89a7d08920630894b2605c3b6a0bdc4c229b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 10 23:11:06 2009 -0700

    Use recorded accelerometer baseline data in ao_flight_test
    
    With the flight computer recording a long-term average value for the
    accelerometer in the flight record, use that to prime the flight test code
    when running a log file through the simulator.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ba3c53636e485450f48093d0a88a6629775f7c3a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 10 23:01:16 2009 -0700

    Don't re-initialize the landing range data at each apogee detect sample
    
    The landing range values are used only after apogee detect, so we need only
    initialize them on the transition from apogee to drogue.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b623b1098bc7a10d471730259438fb82804221d0
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 10 23:00:06 2009 -0700

    Initialize ao_min_vel with |ao_flight_vel|
    
    As ao_min_vel is stored as an absolute value, it's important to preserve
    that invariant, even though we don't expect ao_flight_vel to be negative at
    coast.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e9584e846b9bd7926d61451d32ba5d7a30416f7b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 10 22:58:31 2009 -0700

    Decrease telemetry rate on the pad to 1/sec instead of 20/sec
    
    Transmitting telemetry through the radio consumes a significant amount of
    battery; reducing the rate to 1/sec will reduce power usage while waiting
    for launch.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 97cecb517cd7bf75e1219c76a93bfe6964c07052
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 10 22:57:19 2009 -0700

    Increase the initial accel/baro average to 1000 samples
    
    To get an accurate baseline of the launchpad state, take a longer average of
    the two sensors as the unit boots up.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 98806b1ff3f41484663d61ff430e9e2764c7b5e6
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 10 22:54:14 2009 -0700

    Record average accelerometer value in flight start log record
    
    The average accelerometer value cannot be extracted from the log as the
    record starts after that is computed. As that drives much of the
    accelerometer-based state transition logic, it is an important value to
    have, so we log it as part of the flight start record now.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a12edbfe21fe27a9efbf87bacda9ab4806256e2b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 9 10:24:10 2009 -0700

    Add version command to show product information

commit e80b87f5e3ccf152d67a2e87bdefda161c455599
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 9 10:23:49 2009 -0700

    Pad callsign with nuls

commit beae3360828da21eb1a3c4f88e930f242d4e36b7
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 1 08:14:57 2009 -0700

    USB spec limits bulk endpoints to 64 byte payload max.
    
    For full-speed devices, bulk endpoints may use 8, 16, 32 or 64 bytes, but no
    more.

commit de7814c738488c2c16c6216c93fa78128895e5d5
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 29 17:46:56 2009 -0700

    Use 'char' instead of 'uint8_t' for character data
    
    String and character constants are of char type, so using uint8_t causes
    promotion to 16-bit types when comparing the two.

commit 4ae74fffb939d67424efa3e7f433637f1f920ebc
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 29 17:46:36 2009 -0700

    Eliminate incorrect cast in printf string argument
    
    char * is a pointer to a string in the default address space, not a generic pointer
    to a string. As such, the compiler (at least 2.9.0) mis-compiles this if the
    cast is included.

commit 39f2a3c6bd501d12a92bfd38434ce67bb5beb70d
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 29 17:44:41 2009 -0700

    Correct radio frequency shown in config display.
    
    Radio frequency base is 434.550, not 435.550

commit 75ca1751b7cac2f8074d0713ee96d6ab45b54f19
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 29 17:42:26 2009 -0700

    Reset landing interval tests at apogee
    
    This moves all of the interval management into the landing test code and
    out of the main loop. The interval is reset at apogee to make sure the
    sensors produce a stable reading for at least 20 seconds

commit 7a1b77c2d7253a681389f32b70e2460aac188807
Author: Bdale Garbee <bdale@gag.com>
Date:   Sun Apr 26 17:53:13 2009 -0600

    clean up host programs, too

commit 5df80c346d65a9d56a8699b056dc44924acb31fe
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 26 16:04:07 2009 -0700

    Was missing v_batt in adc dump command

commit c3fec2c4c65db71e88ef0c05c69463438a7cfc6c
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 26 15:38:28 2009 -0700

    Add manual ignition and igniter test commands

commit 819f1de8dd6010fae050bcef930943c7923929f9
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 26 15:38:03 2009 -0700

    Clean up commands a bit

commit 178abb5c8439509926a5507911d7148b84f051b8
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 26 15:08:58 2009 -0700

    Clear more files on make clean

commit 70a69f3acdca27b80cdb2069de59bbc6dba83dbd
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 26 15:05:29 2009 -0700

    Label binaries with product and serial info

commit 5ed3b1cb52b573db1fee9655a29a0e6dd72f53fe
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 26 01:37:02 2009 -0700

    Make sure full log is written and flushed on landing.
    
    The final state change to landing is recorded in the logging thread, so have
    that turn off logging once it has recorded that state. Then make it go to
    sleep.

commit 2e737ad00cad5d893b252d8aa9dbff3d9b800731
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 26 01:36:53 2009 -0700

    Clean up monitor output a bit

commit 38a0b61b0a0b3c00f064c8d562950a17a6ddff4a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 26 00:11:32 2009 -0700

    Add configuration support
    
    Current config variables:
    Main deploy altitude above launch (in meters)
    Acceleration zero g calibration (manual or automatic)
    Radio channel (freq = 435.550MHz + channel * 100kHz)
    Callsign (max 8 characters)
    
    Supporting this involved shuffling code around so that the
    non-telemetrum builds could include only the stuff they needed.

commit c65f1a1acd2ca00758833cec5d3f8056d303d3e2
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 25 14:44:33 2009 -0700

    Allow for slower ADC operation. Add power saving code.
    
    This tries to make the flight computer use less power by disabling USB in
    flight mode, lowering the telemetry rate after ascent. It also disables the
    RDF beacon during ascent and re-enables it once descent has started.

commit 8e7b48b5f090be81980ab00fbce814ae1cc253e4
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 25 14:44:04 2009 -0700

    Allow ADC to be disabled

commit 7bc3d9962872850e7b420221cf689db16b4305cc
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 25 14:43:23 2009 -0700

    Place CPU in P0 state while idle

commit e45fce7f82d704d677f84c69b0e07588d109d780
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 25 14:42:20 2009 -0700

    Add RDF beacon and callsign to telemetry

commit 61510f98404bca6861b2da98f6cd9ba9deb76968
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 25 14:40:51 2009 -0700

    Add radio code to emit a 1kHz tone

commit 0f07803d84b5ac89500ee33a6818c50583e3ff7f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 25 13:18:37 2009 -0700

    Allow the USB system to be disabled/enabled at run-time

commit 45976af820fc41099928df71ea8304c56eb9fc7c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 25 13:16:27 2009 -0700

    Make LED usage depend on target device

commit 4a050704ad2c497e9f1b0988334228b0bbc4c170
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 25 13:13:24 2009 -0700

    Make some functions reentrant to save DSEG space

commit 6b3d25a6d6d7847765eb03b836913dd5ecef2993
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:17:37 2009 -0700

    Add monitor task to flight software
    
    Allows the use of telemetrum in teledongle mode.

commit ad0d2d88a91cbd02c56ea5ff6dab23e16aec6510
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:17:19 2009 -0700

    Report difference from ground to max altitude at landing

commit f94ab879ff6f97708827c74facd11003a2d8b590
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:16:29 2009 -0700

    Display data with units while running simulation

commit 6fb26340b150e831a8a9e25e3b68074c29e48dbe
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:13:31 2009 -0700

    Enabling apogee detect via speed: < 200m/s && < max_speed - 50m/s
    
    This change ensures that we actually got going fairly fast, and then slowed
    down a bunch before enabling apogee detect. Otherwise, we'll detect apogee
    right off the pad as we're not going very fast at that point...
    
    This also adds the 'f' command to show the current flight status on the USB
    port.

commit 20b9f304ecbddd73a0ee2461b4c5e80f08157f98
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:12:28 2009 -0700

    configure igniter ports, set values to measured ones

commit 6bf1d91ce0b723abe2bcec89668c13135ec044cf
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:11:40 2009 -0700

    Move ao_led_init to end of file to be consistent with other files

commit b4de7d550ec9a09ccf5f6a72debc6646706e3516
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:10:20 2009 -0700

    Define ao_state_names in ao.h so other people can share

commit 8e62747b3692d0ac75b08eaf5c3e4b5d766be6ad
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:09:31 2009 -0700

    Bump NUM_CMDS to 10

commit 2f781beb73ef24ab5fbe2688a83d07ad26c15972
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 19:09:09 2009 -0700

    Move beep_init to end of file to be consistent with other files

commit b99315cee4ab796376458a2442cf36806fa4aed3
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 10:19:31 2009 -0700

    Update flight algorithm based on data collected from SN-1 Flight 1
    
    This now correctly sequences through the flight data collected from the
    first TeleMetrum test flight.
    
    This also completes up the flight algorithm test harness (ao_flight_test),
    which runs the flight algorithm on the Linux host from a captured data log.

commit b32f2f0090ff967edac07ae4d7a9895ed0b96d31
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 23 22:17:44 2009 -0700

    Add igniters and update flight control algorithm

commit f155333ae18a25068644792e8940269d9fb28033
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 24 00:15:09 2009 -0700

    Avoid ram from 0xfda2 through feff, its funky

commit f9c1c545c9dc11c3190a6cf7504883131fffce2f
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 23 22:18:33 2009 -0700

    remove ao_flight_test until its ready

commit 86e73c009f78dc4664883353124fc891fbb01dce
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 23 20:50:07 2009 -0700

    Add teledongle module

commit 204daac71ad56926730f5d6860bd70c645302e19
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 23 14:26:01 2009 -0700

    Set telemetry rate to 100ms

commit 306b28f632e21b42ab165e7944283cf9764b590e
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 23 14:23:26 2009 -0700

    Wrong license on ao_monitor.c

commit dca3a6de26d26c0020f3fb2cf5d8ac1552c195b1
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 23 14:23:00 2009 -0700

    Crank up radio to 10dBm

commit fbe3096f7e9a8112dbc79f376eccdaa6872ae520
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 16:03:28 2009 -0700

    Add COPYING file

commit 9b7788f18bbaf3c4e5ebbf6c5ebd926468b0e045
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 15:55:01 2009 -0700

    Clean up TeleTerra files

commit 61cee50c86e275f9fde875bd317c3e74255394ec
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 15:53:55 2009 -0700

    simplify ao_time function

commit 3703ecdc9e190f2e0b7ead0e71b78be881c1f3b7
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 15:53:46 2009 -0700

    One line radio status

commit 1fbb3c17672a03ea6318fee07f9c2dcd7a8d0b16
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 15:49:16 2009 -0700

    Add new binaries to .gitignore

commit 00d5610caff61559eb24c24beaa56629d6bb03be
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 15:49:00 2009 -0700

    Speed up dbg port bit frobbing

commit c7555eb16876aa8ff9fe7f648d325a1b8fb54d23
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 15:48:28 2009 -0700

    Use sdcc from path

commit ada6dea04b94be016598566c4c13e6105aaec353
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 15:48:14 2009 -0700

    Clean up task list formatting

commit 0a1b2297ee9f5bbb918bd72f26088a3e0b84839a
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 15:47:57 2009 -0700

    Control radio monitoring with the M command

commit 837c620f07b63efc171be3ac14c78bc99adf7592
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 22 14:25:43 2009 -0700

    Shrink USB output buffers, work around USB packet errors

commit d87e9c25947d7cc2eba8894a524977f2c55a089a
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 21 02:07:24 2009 -0700

    Clean up telemetry now that all packets are the same

commit 1b333def5052d2ed47fdeaef23a897fe326f6340
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 21 02:07:08 2009 -0700

    Add longer debug delays to reset/debug_mode entry

commit d1887ded41a5bfec8e10e9fd736fa9444b9b6222
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 21 01:17:03 2009 -0700

    Fix up fancy dbg stuff. Add teleterra initial bits.
    
    The dbg stuff needed a bit of help to actually walk the tables; it appears
    that complex expressions confuse sdcc.
    
    This also adds primitive teleterra bits, but no UI, etc.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 43c8f7012102cdb591ace899420c10e4a78385ad
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 20 23:33:41 2009 -0700

    Add radio support. Build separate executables for TeleMetrum and the TI dongle
    
    Ok, way too big a patch, but things were in rough shape.
    This patch adds support for the radio, both transmit and receive.
    Then, because I could no longer run the TeleMetrum code on the TI
    dongle, I ended up building a separate image for the TI board, which
    involved creating a mechanism for having multiple command sets and splitting
    code for different functions into different files.

commit 5be13b76a2e29b84cd6d1eec065e3354b0dafce5
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 18 23:19:24 2009 -0700

    Start using pdata area for less-frequently used data

commit 3e18b5a0d4c7d84df98b6ed0b7783de1d42d45bf
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 18 23:19:05 2009 -0700

    Slow down panic presentation

commit c4e983daa4579896b227fdcb2be43fad75e94307
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 18 23:17:45 2009 -0700

    Parse GPS data locally. Add 'g' command to display recent GPS results.
    
    This parses the GPS GGA message and stores it in a global variable,
    protected by a mutex.

commit ed6f67dc47d750d5ff8bea63ae7cbb560689b9b6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 18 23:16:01 2009 -0700

    Add task names and 'T' command to show task status.
    
    The T command shows the current wchan and PC for each task in the system.

commit 3d5a5fc4db5f681e848202c4ee4099d2879677d6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 18 19:32:18 2009 -0700

    Fix GPL version at 2
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 022f83ca6fd589005d8eb3e25e633950fef69fa7
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 17 23:38:14 2009 -0700

    Add gps, debug dongle support and pressure alt tables
    
    GPS also pulled in serial support. The altitude tables take raw 11-bit
    pressure sample numbers and convert them to standard pressure altitude
    values.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 31fce622b1bab7e3f421069d7f6d4d9bdcd825de
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 17 10:32:45 2009 -0700

    Enable FEC in radio packets

commit 293a357911090a2f37bdd6f7ea96942079ffdf2e
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 17 10:29:42 2009 -0700

    Add CRC to radio packets

commit 20834caf01ddf481e8362b0d2627ef383a82e09d
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 17 10:23:10 2009 -0700

    Add data whitening

commit 94e5343a72121a81ab19bf5025e6b6fc9847eb4f
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 17 10:19:25 2009 -0700

    Add packet status byte defines

commit 04bc51c170c6f22bb5cc16867ce9a307818a7a00
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 17 10:11:31 2009 -0700

    Add separate xmit/recv programs to radio demo

commit fafe55c3405964e0defdf25b6c00236f9aaefbc5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 17 10:11:11 2009 -0700

    Get env var for debug method selection

commit 26095fc0511ee0d5213f038986032f7c59964cf0
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 17 10:10:47 2009 -0700

    Run-time selection between cp2103 and cc1111

commit 543bedde83cbce5145668e72965e02d892187b59
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 16 20:38:14 2009 -0700

    Send data

commit 5e2393eb6b1a6d7b180bd63d5165ee7b7ff5f9e0
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 15 14:25:26 2009 -0700

    Move a bunch of variables from __data to __xdata

commit 4d1091d9bd121f05f5fe0a9c9d2bc0da8c562b9a
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 21:25:15 2009 -0700

    Slow down panic code, disable interrupts

commit 545478dd02eaeff6a65d318e722b1e4fce5e01b4
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 21:24:25 2009 -0700

    Keep reporting flight state while it changes

commit 9605045164882b4ca3d1317ac860b02513a51f30
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 21:23:55 2009 -0700

    use red LED to indicate system startup

commit dc844ee7e49a3b6145b3165252a592ed070d600f
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 21:23:13 2009 -0700

    Use ao_ee_flush_internal while holding mutex

commit 5e45d1c89b00e74d5b2730345843f43aab516af2
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 21:22:56 2009 -0700

    Leave beeping and lights to the flight code

commit 902c342289c1d13a4d55b9224acb6d67578b7a60
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 21:22:31 2009 -0700

    Make mutex functions reentrant

commit acc4fc635edb70ec1ba2dff9f7ac0c8542c72c47
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 19:08:01 2009 -0700

    Add in existing flight pieces: flight/report/log
    
    These pieces come from the old telemetrum firmware.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ac99982b10fd5772218660137ee21db9b90cd885
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 14:21:56 2009 -0700

    Add eeprom driver and command loop
    
    This involved adding dma control and a mutex implementation.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fbd8f4aff5058f4d371596b04715b7cb6d38e729
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 11:04:09 2009 -0700

    Switch from --model-large to --model-small
    
    This shrinks the application quite a bit, and should make it faster as well.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fb63262699d3a6fbf347d24efda8b01f75b7d0d3
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 14 10:02:19 2009 -0700

    Add comments, clean up white space, etc.
    
    Various clean ups now that the basic code appears to work.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7e4abf3a40c39d0ce4f466281bef9a464df85dd4
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 13 21:58:07 2009 -0700

    Switch USB to double-buffered

commit b56a44e48552bc32dbba9ff21770c370219a684a
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 13 21:51:59 2009 -0700

    Fix USB input/output by reloading packet limits.
    
    The USB controller is reset during the connection process, which clears the
    packet limits set in the controller at initialization time. Reload those
    values when the configuration is set.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit cdaf3fc5802acf2ddc7972a15649ab0e1b31b873
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 13 20:39:46 2009 -0700

    USB working up through reading strings

commit c5c1e3fb1c253d387be02c127253ac2a55d577b4
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 13 13:51:08 2009 -0700

    Add USB support.
    
    This offers a single CDC ACM device over USB.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f3f25a1cec7d2a034aa544569cfd23bea1a996c5
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 23:53:55 2009 -0700

    Add beep/led support.
    
    Support our P2_0 connected buzzer, and formalize LED output support.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e14f07bfdb8824fc7ed6df1129c66ee39ffd6d54
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 23:17:16 2009 -0700

    Add A/D sampler
    
    Sample A/D at the timer tick, placing data in a ring
    of samples.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 823f4f92de0c1f8dd7a644a8e56ffe9822bee6e2
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 22:52:47 2009 -0700

    Add 100Hz timer
    
    Use Timer 1 to generate a 100Hz timer interrupt

commit 650a77e209dbb54c8d8fd9824cee430985564973
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 21:58:49 2009 -0700

    Update README

commit 870e98334018a66de8a6e4a659d2dc5dee1cbecf
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 21:52:56 2009 -0700

    GPL Version 2 only

commit 11c526bdcbf4012e18fbfdc29ca8832870ca38f0
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 21:47:32 2009 -0700

    Add load command to s51

commit 55402ba3e87fd699c51079843309f1f0d1534724
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 21:33:55 2009 -0700

    Make test more complicated

commit 3d3f849c9af9028f667cef4afedc0798d39a9efc
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 21:33:46 2009 -0700

    SP points at last pushed byte

commit f72c4cbc8fd9412dd1cce0fc446e7bbd2edc2d34
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 20:27:03 2009 -0700

    Add .gitignore

commit 1903a86bf2cc6b685ccc475e62eabe49a4ec5b43
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 20:25:39 2009 -0700

    Initial AltOS import

commit 5221dc63cf3a059a32aca2bfa7828c215be814a1
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 12 12:38:58 2009 -0700

    Add ccdump

commit ee110425fb814780476d1d3d8a257af126f41763
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 6 17:09:23 2009 -0700

    Bump buffer pointer as data is written to cc-usb

commit 2d9b8a83a2d9f495199033e43f519d26f27938fe
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 6 11:31:49 2009 -0700

    Add support for a serial-connected custom debug dongle
    
    This uses the cc1111 board as a custom debug dongle with faster
    methods for communicating with the debug target.

commit 24edd56155ed0fa02fdd8f66fdc7aa5a1021bf7d
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 1 17:50:47 2009 -0700

    Reset cc1111 on s51 exit

commit 5fcfe854d29e1862d9a6adcbef3ef5119eb52fa3
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 1 00:06:45 2009 -0700

    Add timer-based beep test

commit 91607bebdd167ac632aca4b66e22cb0cabdf0d20
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Mar 26 22:41:47 2009 -0700

    Add readline support to s51

commit 66ee94ed10e3d79b24f45a5c63e58456d4d30343
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 11:37:48 2009 -0700

    Deal with MSB-outputing DMA engine

commit d3732fd405af03c3752a84c4b78da7ef5ebd3744
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 11:14:03 2009 -0700

    Flip ADC bytes around

commit 50cc8e97e76d9b60c622962e1c74cf422dfb2c0f
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 11:01:30 2009 -0700

    Add spacing for serial adc data

commit 5577ca3762bfc000b0bc3782c73a8f95996a28a6
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 10:58:57 2009 -0700

    Inc only one on dest addr

commit 378227d869a3e8787c532c8c4e1563b44002c4b5
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 10:55:17 2009 -0700

    Dump remaining inputs

commit f54a41e37d6897db2e24fbc82880076b78a0ae41
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 10:50:36 2009 -0700

    Remove poll for ti demo button

commit 2b93a70fdd9e47e8195855451aa19ecad5d8b068
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 10:50:14 2009 -0700

    Add adc to serial conversion

commit d9fd548db15232e3a8823815962b252c7a5e7cba
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 10:04:50 2009 -0700

    Add ADC via DMA example

commit 61faf2b773300988fe27cfde5bc045be9950a1b0
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 09:45:14 2009 -0700

    Add DMA example

commit 7b3fdf5b42c9be9bebc1ceb7a52ff0f5a2a28fcd
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 01:05:36 2009 -0700

    Back to 0dBm

commit 31d59b88baa2cd96dc6263d1c5877283f2cd8c36
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 01:03:08 2009 -0700

    Make radio test compile again

commit 9ce713fdd19bf1a51370dacba3670504356c5c11
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 01:02:07 2009 -0700

    Wait for xtal to stabilize

commit ffd43886dc902f3bb7407294018e3d62cac39480
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:55:11 2009 -0700

    Check serial input

commit 029963cc94fbb47560118b5de73c537e2c14ed7c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:50:02 2009 -0700

    Eliminate array walking

commit 019456a17d36f8f9f9b72cfbc980492175086d32
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:41:49 2009 -0700

    Add a per-char delay

commit cfaf187e96ba98eb8dd934409a10bc70273fe68a
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:36:35 2009 -0700

    Use UTX1IF to wait for serial TX complete

commit 006124529b243c7657a94312d2c868a82878d8bb
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:29:29 2009 -0700

    Send more interesting text

commit 5049acd3d1ae42304513f667f55a2ddffa4c685a
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:24:56 2009 -0700

    More random serial bit frobbing

commit 50bdc2407c674a4770912d3a626f36820a7f1527
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:13:15 2009 -0700

    Flip serial TX code around a bit

commit 7b7617e376afe0df1d505375b76198358330370c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:09:47 2009 -0700

    Try serial polarity high/high

commit 18edacdb1e6e429cc29a164e22ef2a566096b9d9
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:06:32 2009 -0700

    Make serial test simpler

commit 62744c186792739c3bf5798c80ff87c69fbe2b65
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 25 00:03:45 2009 -0700

    Flip start/stop bits around

commit 9e96107d5d1a9681b07c36bb5860c748bfe10ec0
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 23:57:12 2009 -0700

    Stop high

commit c41ceb9a488b2209d1d3c09967d1473ce608030f
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 23:24:01 2009 -0700

    Change radio to -30dBm

commit c35de083ca3d4f362063b056a0fd74ffe629d168
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 23:11:48 2009 -0700

    Add serial test program

commit 8ecbd8734f0fb5588b2a8eb20720cfc6f43dfb47
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 22:37:38 2009 -0700

    Wait for xtal to stabilize after changing to 24MHz

commit e120269fc0f8e14ddf1755337b1d092173e16da2
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 22:21:31 2009 -0700

    Actually return byte read from SPI

commit de1ac6f99a1526fa840a52cfc10fa3edc0589bed
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 22:12:51 2009 -0700

    Clear UxCSR_TX_BYTE after transmitting a byte

commit 3ed3ff63e46767a256d30c5da5c52ae20089a91d
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 20:04:58 2009 -0700

    Led the LED turn on

commit 91b3a6ae74184692f45702587c4d678b2799ad8c
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 19:55:04 2009 -0700

    actually write and compare SPI test bits

commit 7de3a43887485c3c6cf52960376ccde33fb33985
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 19:54:02 2009 -0700

    Add USART-based SPI test code

commit ef0eef68280e9b6ca5e3bb71062e23054340e1ed
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 17:22:36 2009 -0700

    Change spi test string

commit 8131389ee5018c05b721146a98367150cf500fdf
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 17:15:09 2009 -0700

    Oops, not merging in the bit read for SPI test

commit 3429016d1359ec650993d2fb0596184e3f717871
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 17:04:45 2009 -0700

    Adjust clock/data phase for spi test

commit fedd18b28ea54e1dabcd2f9e8cab3ae4ee0fd070
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 16:35:13 2009 -0700

    MISO needs to be an input

commit f0c233f25a208a636833312b1766825815735304
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 24 15:41:55 2009 -0700

    Add bit-banging spi eeprom test program

commit 6eeee64cf16ccc9218dbdde5426f25bda5e3407f
Author: Bdale Garbee <bdale@gag.com>
Date:   Wed Mar 18 02:58:33 2009 -0600

    working beep at around 4khz

commit 4726317de811c20e8d6754762437b5c9cbb3a48c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 18 01:54:34 2009 -0700

    Add simple test program to light up the transmitter at 434.550MHz
    
    This starts a transmit sequence, but doesn't send any data so the
    transmitter just locks on.

commit a0a27600ee2bf237e74eb83767a8d2e7c91df24f
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 15 18:14:21 2009 -0700

    Correctly comment which bit the beep program uses

commit 25b77d236c01258abfc03114c2fc9ea2d69ca6e7
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 15 18:11:53 2009 -0700

    Add telemetrum beeper example

commit 164b4e4749ad64ebbe26e84fd7b4fa1aa733dbe4
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 15 18:11:20 2009 -0700

    sdcc gets the lib path correct based on the model

commit 04a316133af93b79bfbebb91f05eec1015ec2abc
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 15 18:10:43 2009 -0700

    Bump debug speed back up

commit 9fd63972758d6d5572f7bcaadec9b1c0e974a2e8
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 7 21:05:40 2009 -0800

    Only flip changing bits in async mode

commit c8fd04e154bcfd65ae1200980bd8163caabd7fe4
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 7 21:05:06 2009 -0800

    The debug port only works if reset is higher than clock. weird

commit ade11f88754b4ab0386ebf86afc5257e59238f62
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 7 21:04:38 2009 -0800

    Make manual bit flipping sync after every transaction

commit e63b5271bb54afc36e4b9891e51e053ff6011092
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 7 14:49:22 2009 -0800

    Add ccmanual

commit 77d754afc2d14aaa4413c13ebe3777ef385f62a9
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 7 14:48:49 2009 -0800

    Sync after manual bit reading

commit 5a338c8a7394d003355f96a8777b6fe83bb8493c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 7 14:48:35 2009 -0800

    Flip debug pins around to match telemetrum

commit cc0495b7028f4b1189a00707d828a68534d1dea2
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 6 22:52:35 2009 -0800

    Wait for a while when switching the RESET_N line
    
    The cc1111 manual suggests placing a 2.7k resister and 1nF capacitor on the
    RESET_N line to filter out noise. This increases the time necessary to reset
    the chip to several microseconds which is longer than the interval between
    two USB packets. Flush the USB packet queue and sleep for a while after
    changing the value on the RESET_N line to make sure the chip sees the state
    change.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 41289e6d8f1767547a33fea349866e928e44910f
Author: Bdale Garbee <bdale@gag.com>
Date:   Mon Mar 2 07:46:20 2009 -0700

    minor s51.1 formatting fixes
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fdee231ed097a4348aee78fbd4aa92826b80de03
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 1 23:12:31 2009 -0800

    Add s51 manual.
    
    This documents (briefly) the s51 hex debugging interface program, including
    some simple commands to test the operation of the system interactively.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f7d91bd23b8214e09deae0aafb516331e934c49b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 1 18:43:03 2009 -0800

    Sometimes the link breaks and the GET_PC command returns garbage

commit 3cc8d11eb8d5d0b42141dd84a58d461287f59e3a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jan 25 08:38:48 2009 -0800

    Support 'set' command
    
    The 'set' command modifies target memory and registers
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 60940b4be23962db79b8e914ec943d0636dd68ad
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jan 5 21:45:21 2009 -0800

    Expose ccdbg_set_clock API
    
    This allows applications to change the debug port clock
    rate on the fly.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit eb09e61b0682eb2aeac8e1a34d58b897ba6db8e7
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jan 5 21:44:44 2009 -0800

    Use custom sdcc libraries (this needs to be configured...)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1ccfe0887c794397131ab1c986c25f66eea86a6c
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jan 5 21:43:44 2009 -0800

    Have S51 ignore SIGINT while running under sdcdb.
    
    This prevents keyboard interrupts from accidentally stopping
    s51.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7c03937b36aac82b08f4ea0c6da33a994fe15ec7
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Dec 30 22:40:13 2008 -0800

    Add simple and timer sample programs
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6c2a65c743a4ffae96ed27dbc38c1bf9242ed1df
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Dec 30 22:35:53 2008 -0800

    Save/restore registers to host during memory operations. Cache ROM data.
    
    Because the debug port uses instructions for most operations, the debug code
    will clobber registers used by the running program. Save and restore these
    to avoid corrupting application data.
    
    If the ROM file is known, use that to return data instead of fetching it
    from the target to improve performance.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ea366058aa467a8a7caf17e7014758f3741ea7f7
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Dec 29 12:35:11 2008 -0800

    Fix flashing less than a full page of data. Verify page at a time.
    
    The 8051 flashing code requires special help with counts with non-zero low
    byte. Also, instead of verifying the entire flash contents at the end,
    verify each page as it goes.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e0697186a2f9b6139636ff5d5c162879c85caf9c
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Dec 28 00:11:13 2008 -0800

    Use SFR access funcs. Support 'dump' command. Add -m (monitor) flag.
    
    Not all SFRs are visible in the unified address space, so the SFR-specific
    accessors are required.
    
    The dump command is the same as the various 'd*'
    commands, but also supports dumping program memory.
    
    The new -m (monitor) flag watches the command stream between s51 and sdcdb.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 23aca1fcbc169184e32d4ec19f28dd4fd4cfda36
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Dec 28 00:09:30 2008 -0800

    Save/restore regs when reading/writing memory. Add SFR access.
    
    The DPL and ACC registers are used by the memory access code,
    so they need to be saved and restored. Stuff them up high in ram for now;
    this should probably be fixed to pull them back to the host instead.
    
    Special SFR access is required as not all SFRs are visible in the unified
    address space.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1405838160b69e2cda456e21502a1d03b3aa7548
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 27 11:25:58 2008 -0800

    s51: get start address from ihx file. re-enable breakpoints after reset.
    
    Use the start of the ihx file when asked to run from 0x0, this lets
    sdcdb run programs from ram.
    
    The reset command clears all hw breakpoints, so reset them afterwards.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1264c3676e95427bba5d01e05c303d036a7f9eca
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 26 23:05:04 2008 -0800

    Switch to libusb-1.0 and use async interface.
    
    The async libusb interface offers substantial performance benefits by not
    making each command wait for the reply. This makes talking over this
    interface almost reasonable.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d2d9cfd74fd66836c913c02276e09136d83b35dc
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 26 17:58:48 2008 -0800

    s51: add breakpoints and the ability to block awaiting a breakpoint.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4c4093c3fdd309123fdd068c0e1ff4947104492d
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Dec 22 19:11:56 2008 -0800

    Add more commands to s51 assembly-language debugger
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 55eba4fa08b022197106245d36a70f575a070b0a
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Dec 22 19:10:27 2008 -0800

    Make read_memory debug output use ccdbg_debug.
    
    This makes it default to not being presented, which makes s51 much happier
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e75918f3667a5c8ad294bec4acef6fe81682edf6
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Dec 21 23:33:35 2008 -0800

    Add preliminary version of s51, a UI clone of the 8051 emulator.
    
    sdcdb provides source-level debugging using the 8051 emulator, s51. By
    emulating that emulator a the UI level, we should be able to get source
    debugging right on our target platform.
    
    This is just the preliminary structure for the program with most commands
    not yet implemented.

commit f7d49868aeae80d515b12a7e339628f1296754a6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 20 23:30:06 2008 -0800

    Cleanup work; separating out the cp interface to be more abstract.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 30f23f23a6db3d12fdc9c088cf6ab47c5e5077fb
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 21:13:04 2008 -0800

    Clean up autotools stuff.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9025eb792861930e6af918d2727c4f5d97a69936
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 21:11:45 2008 -0800

    Autotools.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ab909db28307cfbf7ee8d692506bb79d7ffd627a
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 19:08:13 2008 -0800

    Ignore .ihx files

commit cc8db276bc4f2fd7eb00168a5c0689a8457a5c6f
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 19:07:37 2008 -0800

    Move blink example to subdir
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 82e2d7ebed6682062dc400478c736bd6c91195c9
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 19:04:26 2008 -0800

    Clean up makefiles, move ihx files to .ihx

commit 52fb5f795adfd7f62e5b6dbe65877d14361cfdae
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 14:39:57 2008 -0800

    ignore more stuff

commit 4ecfc33f16aa36b315519e6f279da65374b67aba
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 14:37:53 2008 -0800

    Add cc1111 isr stub example

commit d32e6658c3e489b62ba3cf6d22e3ab177b9b8a3a
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 14:37:29 2008 -0800

    Add blink-tiny flash and ram versions

commit b4d1127ef007843c643b778b3b2f6b915b1d5d9a
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 14:19:29 2008 -0800

    Flash multiple pages. Eliminate off-by-one error in hex_image length.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 55995515b9d4fc1e193039eab697c5d03db417c2
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 19 11:04:16 2008 -0800

    Add flash writing code.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0bc52385b8f86f9ca1c450ad106e6d8afe3bc153
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Dec 18 12:37:32 2008 -0800

    faster
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3779cc8b32cac3640f42bd0400d4199ddae965a1
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Dec 18 12:17:41 2008 -0800

    cq
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit dc03adc179669d41e3551d74b3c5a60db41ff217
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Dec 18 12:07:06 2008 -0800

    Add ability to load Intel HEX files. Add sample sdcc LED blinker.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 807e2adacb025af77bb53c03209e9c8e0d7a5f95
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Dec 18 00:18:50 2008 -0800

    Add ability to read/write arbitrary memory. Write LED blinker program.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8c879bf51c14a5928135d59211facd72f6a32808
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 17 23:15:47 2008 -0800

    Move manual bit-banging debug code to separate file
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit aec3bbce84a5ceb92060a4b3889379f2af2404ac
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 17 23:15:19 2008 -0800

    reduce clock to 50us
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fa168f963f8b00144d12aa2770e9c0917cfae123
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 17 23:12:59 2008 -0800

    Fill out ccdbg-command to support all debug commands.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5df84df7cd6a31527dcfd11030f00ef9d8abf170
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 17 22:24:59 2008 -0800

    Clean up bitbanging layer. Add debug printfs.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 584e28bac8af38de433767e017977ed1adddeb36
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 17 12:32:15 2008 -0800

    Clean up sample debug files
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e64b4dbf15e9ee1cb0de002985de7575e83d46e9
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Dec 8 17:25:28 2008 -0800

    Add support for input-only lines (-)

commit 4f38974a9941cddaba27c17c5a46f923db386c94
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 6 16:32:27 2008 -0800

    Add another example

commit 3709ec3205cfb152b6568f3ea505c67fe7504c2a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 6 16:32:12 2008 -0800

    Add libusb support and lots more examples

commit 39801e6e9fb9388072ee414a447f74095a6ac960
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 28 22:57:07 2008 -0800

    Random hacking

commit 01cb2799875e086ee6096627c058ee235bbc33d5
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 27 17:07:15 2008 -0800

    Add prototypes, add stub mainline, add .gitignore

commit 0ffe4ef870b0e564789a1990aeab5b6651868e5b
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 27 12:33:40 2008 -0800

    cc1111 debug port access through cp2103 serial chip
